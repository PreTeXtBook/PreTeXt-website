<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr">
<!--******************************************-->
<!--*  Authored with PreTeXt                 *-->
<!--*  pretextbook.org                       *-->
<!--*  Theme: default-modern                 *-->
<!--*  Palette: blue-red                     *-->
<!--******************************************-->
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>SA Graphics</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.4/css/all.css" crossorigin="anonymous">
<link href="_static/pretext/css/theme.css" rel="stylesheet" type="text/css">
<link href="_static/pretext/css/ol-markers.css" rel="stylesheet" type="text/css">
<script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math",
    "renderActions": {
      "findScript": [
        10,
        function (doc) {
            document.querySelectorAll('script[type^="math/tex"]').forEach(function(node) {
                var display = !!node.type.match(/; *mode=display/);
                var math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                var text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = {node: text, delim: '', n: 0};
                math.end = {node: text, delim: '', n: 0};
                doc.math.push(math);
            });
        },
        ""
      ]
    }
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "_static/pretext/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><meta name="Keywords" content="samples, PreTeXt, testing document, Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="article">
<meta property="og:image" content="https://pretextbook.org/examples/sample-article/html/external/misc/book-cover-google-art-project.jpg">
<script src="_static/pretext/js/lib/jquery.min.js"></script><script src="_static/pretext/js/lib/jquery.sticky.js"></script><script src="_static/pretext/js/lib/jquery.espy.min.js"></script><script src="_static/pretext/js/pretext.js"></script><script src="_static/pretext/js/pretext_add_on.js?x=1"></script><script src="_static/pretext/js/user_preferences.js"></script><!--** eBookCongig is necessary to configure interactive       **-->
<!--** Runestone components to run locally in reader's browser **-->
<!--** No external communication:                              **-->
<!--**     log level is 0, Runestone Services are disabled     **-->
<script type="text/javascript">
eBookConfig = {};
eBookConfig.useRunestoneServices = false;
eBookConfig.host = 'http://127.0.0.1:8000';
eBookConfig.course = 'PTX_Course_Title_Here';
eBookConfig.basecourse = 'PTX_Base_Course';
eBookConfig.isLoggedIn = false;
eBookConfig.email = '';
eBookConfig.isInstructor = false;
eBookConfig.logLevel = 0;
eBookConfig.username = '';
eBookConfig.readings = null;
eBookConfig.activities = null;
eBookConfig.downloadsEnabled = false;
eBookConfig.allow_pairs = false;
eBookConfig.enableScratchAC = false;
eBookConfig.build_info = "";
eBookConfig.python3 = null;
eBookConfig.runestone_version = '7.8.4';
eBookConfig.jobehost = '';
eBookConfig.proxyuri_runs = '';
eBookConfig.proxyuri_files = '';
eBookConfig.enable_chatcodes =  false;
</script>
<!--*** Runestone Services ***-->
<script src="_static/prefix-runtime.962d00926ef9460e.bundle.js"></script><script src="_static/prefix-723.3e6434f80549315a.bundle.js"></script><script src="_static/prefix-runestone.2e7f40e86ae7d163.bundle.js"></script><link rel="stylesheet" type="text/css" href="_static/prefix-723.3bccd435914aa0ff.css">
<link rel="stylesheet" type="text/css" href="_static/prefix-runestone.5bdeacdba067a0e3.css">
<script src="_static/pretext/js/diagcess/diagcess.js"></script><script src="https://sagecell.sagemath.org/static/embedded_sagecell.js"></script><link rel="icon" type="image/png" sizes="32x32" href="external/favicon/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="external/favicon/favicon-16x16.png">
<script src="_static/pretext/js/lti_iframe_resizer.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/components/prism-core.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/autoloader/prism-autoloader.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-numbers/prism-line-numbers.min.js" integrity="sha512-dubtf8xMHSQlExGRQ5R7toxHLgSDZ0K7AunqPWHXmJQ8XyVIG19S1T95gBxlAeGOK02P4Da2RTnQz0Za0H0ebQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.26.0/plugins/line-highlight/prism-line-highlight.min.js" integrity="sha512-93uCmm0q+qO5Lb1huDqr7tywS8A2TFA+1/WHvyiWaK6/pvsFl6USnILagntBx8JnVbQH5s3n0vQZY6xNthNfKA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="https://cdn.geogebra.org/apps/deployggb.js"></script><script type="module">
            import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
            let theme = 'default';
            if (isDarkMode())
                theme = 'dark';
            mermaid.initialize({
                securityLevel: 'loose',
                theme: theme,
            });
        </script><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="_static/pretext/js/pretext_search.js"></script><script src="_static/pretext/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script>
</head>
<body id="pretext-SA" class="pretext article ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" class="logo-link" target="_blank" href="https://pretextbook.org"><img src="external/misc/book-cover-google-art-project.jpg" alt="Logo image"></a><div class="title-container">
<h1 class="heading"><a href="derivatives.html"><span class="title">Derivatives and Integrals</span> <span class="subtitle">An Annotated Discourse</span></a></h1>
<p class="byline">Robert Beezer, A. Second Author</p>
</div>
</div></header><nav id="ptx-navbar" class="ptx-navbar navbar"><div class="ptx-navbar-contents">
<button class="toc-toggle button" title="Contents"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5d2;</span><span class="name">Contents</span></button><a class="index-button button" href="the-index.html" title="Index"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span><span class="name">Index</span></a><div class="searchbox">
<div class="searchwidget"><button id="searchbutton" class="searchbutton button" type="button" title="Search book"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8b6;</span><span class="name">Search Book</span></button></div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<div class="search-results-controls">
<input aria-label="Search term" id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search term"><button title="Close search" id="closesearchresults" class="closesearchresults"><span class="material-symbols-outlined">close</span></button>
</div>
<h2 class="search-results-heading">Search Results: </h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div>
<span class="nav-other-controls"><button id="calculator-toggle" class="calculator-toggle button" title="Show calculator" aria-expanded="false" aria-controls="calculator-container"><span class="icon material-symbols-outlined" aria-hidden="true">&#xea5f;</span><span class="name">Calc</span></button><div id="calculator-container" class="calculator-container" style="display: none; z-index:100;"><div id="geogebra-calculator"></div></div>
<script>
var ggbApp = new GGBApplet({"appName": "classic",
    "width": 330,
    "height": 600,
    "showToolBar": true,
    "showAlgebraInput": true,
    "perspective": "G/A",
    "algebraInputPosition": "bottom",
    "scaleContainerClass": "calculator-container",
    "allowUpscale": true,
    "autoHeight": true,
    "disableAutoScale": false},
true);
</script><button id="embed-button" class="embed-button button" title="Embed this page"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe86f;</span><span class="name">Embed</span></button><div class="embed-popup hidden" id="embed-popup">
<p>Copy the code below to embed this page in your own website or LMS page.</p>
<div class="embed-code-container">
<textarea class="embed-code-textbox" id="embed-code-textbox" readonly aria-label="textbox"><iframe src="https://example.com/embed" width="100%" height="1000"></iframe></textarea><button class="copy-embed-button button" id="copy-embed-button" title="Copy embed code"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe14d;</span><span class="name">Copy</span></button>
</div>
</div>
<button id="light-dark-button" class="light-dark-button button" title="Dark Mode"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe51c;</span><span class="name">Dark Mode</span></button></span><span class="treebuttons"><a class="previous-button button" href="section-text-paragraphs.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="up-button button" href="derivatives.html" title="Up"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Up</span></a><a class="next-button button" href="section-further-reading.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a></span>
</div></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\require{cancel}\require{extpfeil}\newcommand{\definiteintegral}[4]{\int_{#1}^{#2}\,#3\,d#4} 
\newcommand{\myequation}[2]{#1\amp =#2} 
\newcommand{\indefiniteintegral}[2]{\int#1\,d#2}
\newcommand{\testingescapedpercent}{ \% } 
\newcommand{\bvec}{{\mathbf b}}
\newcommand{\vvec}{{\mathbf v}}
\newcommand{\class}[2][\sim]{\lbrack #2\rbrack_{#1}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\newcommand{\sfrac}[2]{{#1}/{#2}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth2 focused" data-preexpanded-levels="0" data-max-levels="2"><ul class="structural toc-item-list contains-active">
<li class="toc-item toc-frontmatter">
<div class="toc-title-box"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-abstract"><div class="toc-title-box"><a href="frontmatter.html#frontmatter-3" class="internal"><span class="title">Abstract</span></a></div></li></ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-introduction.html" class="internal"><span class="codenumber">1</span> <span class="title">Introduction</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-fundamental-theorem.html" class="internal"><span class="codenumber">2</span> <span class="title">The Fundamental Theorem</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-sage-cells.html" class="internal"><span class="codenumber">3</span> <span class="title">Computing Integrals with Sage (<span class="process-math">\(\int\)</span>)</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-interesting-corollary.html" class="internal"><span class="codenumber">4</span> <span class="title">An Interesting Corollary</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-second-FTC" class="internal"><span class="codenumber">4.1</span> <span class="title">Second Version of <abbr class="acronym">FTC</abbr></span></a></div></li>
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="section-interesting-corollary.html#section-interesting-corollary-5" class="internal"><span class="codenumber">4.2</span> <span class="title">A Pedagogical Note about Subsection 4.1</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#subsubsection-different-integrals" class="internal"><span class="codenumber">4.2.1</span> <span class="title">Symbolic and Numerical Integrals</span></a></div></li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#section-interesting-corollary-5-3" class="internal"><span class="codenumber">4.2.2</span> <span class="title">Advice</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interesting-corollary.html#exercises-subsection-solo" class="internal"><span class="codenumber">4.2.3</span> <span class="title">Exercises</span></a></div></li>
<li class="toc-item toc-reading-questions"><div class="toc-title-box"><a href="section-interesting-corollary.html#section-interesting-corollary-5-5" class="internal"><span class="codenumber">4.2.4</span> <span class="title">Reading Questions</span></a></div></li>
<li class="toc-item toc-glossary"><div class="toc-title-box"><a href="section-interesting-corollary.html#glossary-specialized" class="internal"><span class="codenumber">4.2.5</span> <span class="title">Glossary</span></a></div></li>
<li class="toc-item toc-solutions"><div class="toc-title-box"><a href="section-interesting-corollary.html#solutions-subsection" class="internal"><span class="codenumber">4.2.6</span> <span class="title">Solutions for This Subsection</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#section-interesting-corollary-6" class="internal"><span class="codenumber">4.3</span> <span class="title">Theorem-Like Environments</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#section-interesting-corollary-7" class="internal"><span class="codenumber">4.4</span> <span class="title">Linking Sage Cells</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#section-interesting-corollary-8" class="internal"><span class="codenumber">4.5</span> <span class="title">Hierarchy</span></a></div></li>
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-intro-conclude" class="internal"><span class="codenumber">4.6</span> <span class="title">Introductions and Conclusions</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-intro-conclude-3" class="internal"><span class="codenumber">4.6.1</span> <span class="title">Test One</span></a></div></li>
<li class="toc-item toc-subsubsection">
<div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-intro-conclude-4" class="internal"><span class="codenumber">4.6.2</span> <span class="title">Test Two</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-reading-questions"><div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-intro-conclude-4-4" class="internal"><span class="codenumber">4.6.2</span> <span class="title">What Did You Learn?</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-intro-conclude-4-5" class="internal"><span class="codenumber">4.6.2</span> <span class="title">Exercises</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-intro-conclude-5" class="internal"><span class="codenumber">4.6.3</span> <span class="title">Test Three</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interesting-corollary.html#subsection-paragraph-markup" class="internal"><span class="codenumber">4.7</span> <span class="title">Some Paragraph-Level Markup</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-facts-figures.html" class="internal"><span class="codenumber">5</span> <span class="title">Some Facts and Figures</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="derivatives-9.html" class="internal"><span class="codenumber">6</span> <span class="title">Some Advanced Ideas</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-mathematics.html" class="internal"><span class="codenumber">7</span> <span class="title">Mathematics</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#section-mathematics-3" class="internal"><span class="codenumber">7.1</span> <span class="title">Basic Mathematics</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#section-mathematics-4" class="internal"><span class="codenumber">7.2</span> <span class="title">Displayed Mathematics</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#section-mathematics-5" class="internal"><span class="codenumber">7.3</span> <span class="title"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> Packages and MathJax Extensions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#section-mathematics-6" class="internal"><span class="codenumber">7.4</span> <span class="title">Advanced Mathematics</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#section-mathematics-7" class="internal"><span class="codenumber">7.5</span> <span class="title">Local Tags on Equations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#commutative-diagrams" class="internal"><span class="codenumber">7.6</span> <span class="title">Commutative Diagrams</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#line-breaking-math" class="internal"><span class="codenumber">7.7</span> <span class="title">Line-Breaking after Mathematics</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#font-math" class="internal"><span class="codenumber">7.8</span> <span class="title">Fonts and Mathematics</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-mathematics.html#miscellaneous-math" class="internal"><span class="codenumber">7.9</span> <span class="title">Miscellaneous</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="block-samples.html" class="internal"><span class="codenumber">8</span> <span class="title">Grouping Samples</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-remark-like" class="internal"><span class="codenumber">8.1</span> <span class="title">Remark-like Blocks</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-example-like" class="internal"><span class="codenumber">8.2</span> <span class="title">Example-like Blocks</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-theorem-like" class="internal"><span class="codenumber">8.3</span> <span class="title">Theorem-like Blocks</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-axiom-like" class="internal"><span class="codenumber">8.4</span> <span class="title">Axiom-like Blocks</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-definition-like" class="internal"><span class="codenumber">8.5</span> <span class="title">Definition-like Blocks</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-aside-like" class="internal"><span class="codenumber">8.6</span> <span class="title">Aside-like Blocks</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-computation-like" class="internal"><span class="codenumber">8.7</span> <span class="title">Computation-like Blocks</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="block-samples.html#block-samples-project-like" class="internal"><span class="codenumber">8.8</span> <span class="title">Project-like Blocks</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-text-paragraphs.html" class="internal"><span class="codenumber">9</span> <span class="title">Text in Paragraphs</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#subsection-xml-escape" class="internal"><span class="codenumber">9.1</span> <span class="title">Special <abbr class="initialism">XML</abbr> characters</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-6" class="internal"><span class="codenumber">9.2</span> <span class="title">Quotations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-7" class="internal"><span class="codenumber">9.3</span> <span class="title">Groupings</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-8" class="internal"><span class="codenumber">9.4</span> <span class="title">Characters, Symbols, and Constructions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-9" class="internal"><span class="codenumber">9.5</span> <span class="title">Currency</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#subsection-icons-in-text" class="internal"><span class="codenumber">9.6</span> <span class="title">Icons in Text</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#subsection-keyboard" class="internal"><span class="codenumber">9.7</span> <span class="title">Keyboard Keys</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-urls" class="internal"><span class="codenumber">9.8</span> <span class="title">URLs, such as <code class="code-inline tex2jax_ignore">http://example.com</code></span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-13" class="internal"><span class="codenumber">9.9</span> <span class="title">Biological Names</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-14" class="internal"><span class="codenumber">9.10</span> <span class="title">Verbatim in titles, <code class="code-inline tex2jax_ignore">\a&amp;b#c%d~e{f}g$h_i^j</code>, OK</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#subsection-special-situations" class="internal"><span class="codenumber">9.11</span> <span class="title">Special Situations</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#subsection-jupyter-dollars" class="internal"><span class="codenumber">9.12</span> <span class="title">Jupyter Notebook, Markdown, MathJax, Delimiters</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-17" class="internal"><span class="codenumber">9.13</span> <span class="title"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> Characters, Ligatures, and More</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-text-paragraphs.html#section-text-paragraphs-18" class="internal"><span class="codenumber">9.14</span> <span class="title"><abbr class="initialism">HTML</abbr> and accidental mathematics</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section contains-active">
<div class="toc-title-box"><a href="section-graphics.html" class="internal"><span class="codenumber">10</span> <span class="title">Graphics</span></a></div>
<ul class="structural toc-item-list active">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-3" class="internal"><span class="codenumber">10.1</span> <span class="title">Images from External Sources</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#prefigure-diagrams" class="internal"><span class="codenumber">10.2</span> <span class="title">PreFigure</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-5" class="internal"><span class="codenumber">10.3</span> <span class="title"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> images</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-6" class="internal"><span class="codenumber">10.4</span> <span class="title">Asymptote, 2D</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#graphics-asymptote-webgl" class="internal"><span class="codenumber">10.5</span> <span class="title">Asymptote, 3D via WebGL</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#graphics-mermaid" class="internal"><span class="codenumber">10.6</span> <span class="title">Mermaid Diagrams</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-9" class="internal"><span class="codenumber">10.7</span> <span class="title">Sage Plots</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-10" class="internal"><span class="codenumber">10.8</span> <span class="title">Inkscape Images</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-11" class="internal"><span class="codenumber">10.9</span> <span class="title">Copies of Images</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-12" class="internal"><span class="codenumber">10.10</span> <span class="title">Caption Testing</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#captionless-images" class="internal"><span class="codenumber">10.11</span> <span class="title">Captionless Images</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-14" class="internal"><span class="codenumber">10.12</span> <span class="title">Technical Details</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-graphics.html#section-graphics-15" class="internal"><span class="codenumber">10.13</span> <span class="title">Accessibility</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-further-reading.html" class="internal"><span class="codenumber">11</span> <span class="title">Further Reading</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-further-reading.html#section-further-reading-2" class="internal"><span class="codenumber">11.1</span> <span class="title">Specialized Subdivisions</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-further-reading.html#section-further-reading-3" class="internal"><span class="codenumber">11.2</span> <span class="title">Exercises</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-further-reading.html#exercises-section-multiple" class="internal"><span class="codenumber">11.3</span> <span class="title">More Exercises</span></a></div></li>
<li class="toc-item toc-references"><div class="toc-title-box"><a href="section-further-reading.html#references-section" class="internal"><span class="codenumber">11.4</span> <span class="title">References</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-lists.html" class="internal"><span class="codenumber">12</span> <span class="title">List Calisthenics</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-2" class="internal"><span class="codenumber">12.1</span> <span class="title">Lists, Generally</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-3" class="internal"><span class="codenumber">12.2</span> <span class="title">List Spacing, I</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-4" class="internal"><span class="codenumber">12.3</span> <span class="title">List Spacing, II</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#test-second" class="internal"><span class="codenumber">12.4</span> <span class="title">List items containing only inline math</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-6" class="internal"><span class="codenumber">12.5</span> <span class="title">Difficult List Items</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-7" class="internal"><span class="codenumber">12.6</span> <span class="title">Description Lists</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-8" class="internal"><span class="codenumber">12.7</span> <span class="title">Named Lists</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-9" class="internal"><span class="codenumber">12.8</span> <span class="title">Testing List Decompositions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-lists.html#section-lists-10" class="internal"><span class="codenumber">12.9</span> <span class="title">List Column Testing</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-lists.html#section-lists-11" class="internal"><span class="codenumber">12.10</span> <span class="title">Exercises (with lists)</span></a></div></li>
<li class="toc-item toc-references"><div class="toc-title-box"><a href="section-lists.html#section-lists-12" class="internal"><span class="codenumber">12.11</span> <span class="title">References (with lists in Annotations)</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-table-calisthenics.html" class="internal"><span class="codenumber">13</span> <span class="title">Table Calisthenics</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-interactive-authored.html" class="internal"><span class="codenumber">14</span> <span class="title">Interactive Elements, Authored</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#interactive-html5-canvas" class="internal"><span class="codenumber">14.1</span> <span class="title">HTML5 Canvas</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#section-interactive-authored-8" class="internal"><span class="codenumber">14.2</span> <span class="title">D3.js</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#svg-interactives" class="internal"><span class="codenumber">14.3</span> <span class="title">SVG</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#section-interactive-authored-10" class="internal"><span class="codenumber">14.4</span> <span class="title">JSXGraph</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#section-interactive-authored-11" class="internal"><span class="codenumber">14.5</span> <span class="title">JessieCode</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#section-interactive-authored-12" class="internal"><span class="codenumber">14.6</span> <span class="title">Sage Interacts</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#section-interactive-authored-13" class="internal"><span class="codenumber">14.7</span> <span class="title">Geogebra</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#section-interactive-authored-14" class="internal"><span class="codenumber">14.8</span> <span class="title">CircuitJS</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#interactive-iframes-local" class="internal"><span class="codenumber">14.9</span> <span class="title">IFrames from Files</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#interactive-threejs" class="internal"><span class="codenumber">14.10</span> <span class="title">threejs</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-authored.html#interactive-doenetml" class="internal"><span class="codenumber">14.11</span> <span class="title">DoenetML</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-interactive-server.html" class="internal"><span class="codenumber">15</span> <span class="title">Interactive Elements, Server</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-server.html#subsection-geogebra-server" class="internal"><span class="codenumber">15.1</span> <span class="title">GeoGebra</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-server.html#section-interactive-server-6" class="internal"><span class="codenumber">15.2</span> <span class="title">Desmos Graphs</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-server.html#section-interactive-server-7" class="internal"><span class="codenumber">15.3</span> <span class="title">CalcPlot3D</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-server.html#interactive-iframes-server" class="internal"><span class="codenumber">15.4</span> <span class="title">IFrames from Servers</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-interactive-exercises.html" class="internal"><span class="codenumber">16</span> <span class="title">Interactive Exercises</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-3" class="internal"><span class="codenumber">16.1</span> <span class="title">True/False</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-4" class="internal"><span class="codenumber">16.2</span> <span class="title">Multiple-Choice</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-5" class="internal"><span class="codenumber">16.3</span> <span class="title">Parsons Problem, Math Proof</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-6" class="internal"><span class="codenumber">16.4</span> <span class="title">Parsons Problem, Code</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-7" class="internal"><span class="codenumber">16.5</span> <span class="title">Matching</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-8" class="internal"><span class="codenumber">16.6</span> <span class="title">Clickable Area</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-9" class="internal"><span class="codenumber">16.7</span> <span class="title">Old-Style Fillin-In</span></a></div></li>
<li class="toc-item toc-reading-questions"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-10" class="internal"><span class="codenumber">16.8</span> <span class="title">A Reading Question</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-exercises.html#section-interactive-exercises-11" class="internal"><span class="codenumber">16.9</span> <span class="title">Faux Subsection</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-dynamic-exercises.html" class="internal"><span class="codenumber">17</span> <span class="title">Dynamic Exercises</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-dynamic-exercises.html#section-dynamic-exercises-3" class="internal"><span class="codenumber">17</span> <span class="title">Dynamic Fill-In</span></a></div></li></ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-interactive-code.html" class="internal"><span class="codenumber">18</span> <span class="title">Interactive Coding</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-code.html#section-interactive-code-3" class="internal"><span class="codenumber">18.1</span> <span class="title">ActiveCode</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-code.html#section-interactive-code-4" class="internal"><span class="codenumber">18.2</span> <span class="title">CodeLens</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-interactive-code.html#section-interactive-code-5" class="internal"><span class="codenumber">18.3</span> <span class="title">Activity with An ActiveCode</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-interactive-code.html#section-interactive-code-6" class="internal"><span class="codenumber">18.4</span> <span class="title">YouTube</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-audio.html" class="internal"><span class="codenumber">19</span> <span class="title">Audio</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-video.html" class="internal"><span class="codenumber">20</span> <span class="title">Video</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-video.html#section-video-3" class="internal"><span class="codenumber">20.1</span> <span class="title">Video Files</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-video.html#section-video-4" class="internal"><span class="codenumber">20.2</span> <span class="title">YouTube</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-video.html#section-video-5" class="internal"><span class="codenumber">20.3</span> <span class="title">Vimeo</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-video.html#section-video-6" class="internal"><span class="codenumber">20.4</span> <span class="title">Captions and Subtitles</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-cross-referencing.html" class="internal"><span class="codenumber">21</span> <span class="title">Cross-Referencing</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-internationalization.html" class="internal"><span class="codenumber">22</span> <span class="title">Internationalization</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-pre-formatted.html" class="internal"><span class="codenumber">23</span> <span class="title">Pre-Formatted Text</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-programs.html" class="internal"><span class="codenumber">24</span> <span class="title">Program Listings (with <code class="code-inline tex2jax_ignore">code</code> in the title)</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-units-measure.html" class="internal"><span class="codenumber">25</span> <span class="title">Units of Measure</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-side-by-side.html" class="internal"><span class="codenumber">26</span> <span class="title">Side-By-Side Panels</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-3" class="internal"><span class="codenumber">26.1</span> <span class="title">Figures with Numbers Side-By-Side</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-4" class="internal"><span class="codenumber">26.2</span> <span class="title">Images</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-5" class="internal"><span class="codenumber">26.3</span> <span class="title">Common Side-By-Side Constructions</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-6" class="internal"><span class="codenumber">26.4</span> <span class="title">Vertical Alignment</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-7" class="internal"><span class="codenumber">26.5</span> <span class="title">Text Next to Text and Images</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-8" class="internal"><span class="codenumber">26.6</span> <span class="title">Image Formats, Side-by-Sides</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-9" class="internal"><span class="codenumber">26.7</span> <span class="title">Tables Side-By-Side</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-10" class="internal"><span class="codenumber">26.8</span> <span class="title">Tables Next to Figures</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-11" class="internal"><span class="codenumber">26.9</span> <span class="title">Tables Next to Text</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-12" class="internal"><span class="codenumber">26.10</span> <span class="title">Tabular Next to Each Other</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-13" class="internal"><span class="codenumber">26.11</span> <span class="title">Lists in Side-by-Sides</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#stacking-side-by-side" class="internal"><span class="codenumber">26.12</span> <span class="title">Stacking: Back to Vertical Flow</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#subsection-sbs-other-panels" class="internal"><span class="codenumber">26.13</span> <span class="title">Other Panels</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-16" class="internal"><span class="codenumber">26.14</span> <span class="title">Poems as Side-By-Side Panels</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#subsection-sbsgroup" class="internal"><span class="codenumber">26.15</span> <span class="title">Side-By-Side Groups</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-18" class="internal"><span class="codenumber">26.16</span> <span class="title">Testing a Side-By-Side First</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-side-by-side.html#section-side-by-side-19" class="internal"><span class="codenumber">26.17</span> <span class="title">Testing Styling of Related Elements</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-side-by-side-gallery.html" class="internal"><span class="codenumber">27</span> <span class="title">Side-by-Side Gallery</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-open-problems.html" class="internal"><span class="codenumber">28</span> <span class="title">Open Problems</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-poetry.html" class="internal"><span class="codenumber">29</span> <span class="title">Poetry</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-atomic-items.html" class="internal"><span class="codenumber">30</span> <span class="title">Atomic Objects</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="section-atomic-items.html#atomic-image" class="internal"><span class="codenumber">30.1</span> <span class="title"><code class="code-inline tex2jax_ignore">&lt;image&gt;</code></span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-atomic-items.html#atomic-image-26" class="internal"><span class="codenumber">30.1</span> <span class="title">Exercises</span></a></div></li></ul>
</li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-atomic-items.html#atomic-video" class="internal"><span class="codenumber">30.2</span> <span class="title"><code class="code-inline tex2jax_ignore">&lt;video&gt;</code></span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-atomic-items.html#atomic-program" class="internal"><span class="codenumber">30.3</span> <span class="title"><code class="code-inline tex2jax_ignore">&lt;program&gt;</code>, <code class="code-inline tex2jax_ignore">&lt;console&gt;</code></span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-atomic-items.html#atomic-tabular" class="internal"><span class="codenumber">30.4</span> <span class="title"><code class="code-inline tex2jax_ignore">&lt;tabular&gt;</code></span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-advanced-numbering.html" class="internal"><span class="codenumber">31</span> <span class="title">Advanced Numbering</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-3" class="internal"><span class="codenumber">31.1</span> <span class="title">One</span></a></div></li>
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-4" class="internal"><span class="codenumber">31.2</span> <span class="title">Two</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-4-3" class="internal"><span class="codenumber">31.2.1</span> <span class="title">Uno</span></a></div></li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-4-4" class="internal"><span class="codenumber">31.2.2</span> <span class="title">Dos</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-5" class="internal"><span class="codenumber">31.3</span> <span class="title">Three</span></a></div></li>
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-6" class="internal"><span class="codenumber">31.4</span> <span class="title">Four</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-6-3" class="internal"><span class="codenumber">31.4.1</span> <span class="title">Uno</span></a></div></li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-6-4" class="internal"><span class="codenumber">31.4.2</span> <span class="title">Dos</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-7" class="internal"><span class="codenumber">31.5</span> <span class="title">Five</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#subsection-local-theorems" class="internal"><span class="codenumber">31.6</span> <span class="title">Theorems in This Section</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#subsection-with-an-exercise" class="internal"><span class="codenumber">31.7</span> <span class="title">A Title with ] a Right Bracket</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-10" class="internal"><span class="codenumber">31.8</span> <span class="title">A Title with } a Right Brace</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-11" class="internal"><span class="codenumber">31.9</span> <span class="title">A Title with <span class="process-math">\(a]b\)</span> a Math Right Bracket</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-12" class="internal"><span class="codenumber">31.10</span> <span class="title">Just an Exercise</span></a></div></li>
<li class="toc-item toc-solutions"><div class="toc-title-box"><a href="section-advanced-numbering.html#section-advanced-numbering-13" class="internal"><span class="codenumber">31.11</span> <span class="title">Solutions</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-customizations.html" class="internal"><span class="codenumber">32</span> <span class="title">Customizations</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-customizations.html#rename-facility" class="internal"><span class="codenumber">32.1</span> <span class="title">Renaming Document Parts, Plus This Is A Really Long Title So That We Can Test How Well It Reacts To The Right Margin And Wraps Around To Form A Couple Of Lines, Plus How It Sits Relative To The Number Of The Subsection</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-customizations.html#section-customizations-3" class="internal"><span class="codenumber">32.2</span> <span class="title">Customizing Phrases</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-myopenmath.html" class="internal"><span class="codenumber">33</span> <span class="title">MyOpenMath Interactive Problems</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="section-ancillaries.html" class="internal"><span class="codenumber">34</span> <span class="title">Ancillaries</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-worksheets.html" class="internal"><span class="codenumber">35</span> <span class="title">Worksheets</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="section-worksheets.html#worksheet-geometric-prelude" class="internal"><span class="codenumber">35.1</span> <span class="title">A Geometric Prelude</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="section-worksheets.html#worksheet-networks" class="internal"><span class="codenumber">35.2</span> <span class="title">Networks Worksheet</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="section-worksheets.html#worksheet-testing" class="internal"><span class="codenumber">35.3</span> <span class="title">Worksheet</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="section-worksheets.html#worksheet-dot-products" class="internal"><span class="codenumber">35.4</span> <span class="title">Dot products and projection</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="section-worksheets.html#worksheet-activity-no-task" class="internal"><span class="codenumber">35.5</span> <span class="title">Worksheet</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="section-worksheets.html#worksheet-activity-with-task" class="internal"><span class="codenumber">35.6</span> <span class="title">Worksheet</span></a></div></li>
<li class="toc-item toc-worksheet"><div class="toc-title-box"><a href="section-worksheets.html#worksheet-exercisegroup" class="internal"><span class="codenumber">35.7</span> <span class="title">Worksheet</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-exercises-single.html" class="internal"><span class="codenumber">36</span> <span class="title">Exercises, One Subsection</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-exercises-single.html#exercise-collection" class="internal"><span class="codenumber">36</span> <span class="title">Exercise Collection</span></a></div></li>
<li class="toc-item toc-references"><div class="toc-title-box"><a href="section-exercises-single.html#section-exercises-single-11" class="internal"><span class="codenumber">36</span> <span class="title">More Reading</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="exercises-structured.html" class="internal"><span class="codenumber">37</span> <span class="title">Exercise Section, Structured</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="section-exercises-multiple.html" class="internal"><span class="codenumber">38</span> <span class="title">Exercises, Multiple Subsections</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="section-exercises-multiple.html#section-exercises-multiple-3" class="internal"><span class="codenumber">38.1</span> <span class="title">Faux Subsection</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-exercises-multiple.html#exercises-drill" class="internal"><span class="codenumber">38.2</span> <span class="title">Drill Exercises</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-exercises-multiple.html#section-exercises-multiple-5" class="internal"><span class="codenumber">38.3</span> <span class="title">Challenging Exercises</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-exercises-multiple.html#section-exercises-multiple-6" class="internal"><span class="codenumber">38.4</span> <span class="title">Impossible Exercises</span></a></div></li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="section-exercises-multiple.html#section-exercises-multiple-7" class="internal"><span class="codenumber">38.5</span> <span class="title">Layout challenge</span></a></div></li>
<li class="toc-item toc-references"><div class="toc-title-box"><a href="section-exercises-multiple.html#section-exercises-multiple-8" class="internal"><span class="codenumber">38.6</span> <span class="title">More Reading</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-exercises"><div class="toc-title-box"><a href="exercises-top-level.html" class="internal"><span class="codenumber">39</span> <span class="title">Exercises, Top-Level</span></a></div></li>
<li class="toc-item toc-backmatter">
<div class="toc-title-box"><a href="backmatter.html" class="internal"><span class="title">Reference</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-appendix"><div class="toc-title-box"><a href="appendix-notation.html" class="internal"><span class="codenumber">A</span> <span class="title">Notation</span></a></div></li>
<li class="toc-item toc-solutions"><div class="toc-title-box"><a href="solutions-backmatter.html" class="internal"><span class="codenumber">B</span> <span class="title">Solutions to Selected Exercises</span></a></div></li>
<li class="toc-item toc-solutions"><div class="toc-title-box"><a href="solutions-single-exercises.html" class="internal"><span class="codenumber">C</span> <span class="title">Solutions to a Single Exercises Division</span></a></div></li>
<li class="toc-item toc-solutions"><div class="toc-title-box"><a href="solutions-answers.html" class="internal"><span class="codenumber">D</span> <span class="title">All Solutions that are Answers</span></a></div></li>
<li class="toc-item toc-solutions"><div class="toc-title-box"><a href="solutions-odd-answers.html" class="internal"><span class="codenumber">E</span> <span class="title">All Solutions that are Answers to Odd Exercises</span></a></div></li>
<li class="toc-item toc-appendix"><div class="toc-title-box"><a href="appendix-results.html" class="internal"><span class="codenumber">F</span> <span class="title">List of Results</span></a></div></li>
<li class="toc-item toc-appendix"><div class="toc-title-box"><a href="appendix-exercise-lists.html" class="internal"><span class="codenumber">G</span> <span class="title">Lists of Exercises</span></a></div></li>
<li class="toc-item toc-appendix">
<div class="toc-title-box"><a href="appendix-structured.html" class="internal"><span class="codenumber">H</span> <span class="title">A Structured Appendix</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="appendix-structured.html#appendix-structured-3" class="internal"><span class="codenumber">H.1</span> <span class="title">A Subsection in an Appendix</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="appendix-structured.html#appendix-structured-3-3" class="internal"><span class="codenumber">H.1.1</span> <span class="title">A Subsubsection in a Subsection in an Appendix</span></a></div></li></ul>
</li></ul>
</li>
<li class="toc-item toc-appendix"><div class="toc-title-box"><a href="appendix-index.html" class="internal"><span class="codenumber">I</span> <span class="title">Index</span></a></div></li>
<li class="toc-item toc-glossary"><div class="toc-title-box"><a href="glossary-backmatter.html" class="internal"><span class="title">Glossary</span></a></div></li>
<li class="toc-item toc-appendix">
<div class="toc-title-box"><a href="appendix-multiple-references.html" class="internal"><span class="codenumber">J</span> <span class="title">Multiple References</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="appendix-multiple-references.html#appendix-multiple-references-2" class="internal"><span class="codenumber">J.1</span> <span class="title">Multiple Specialized References</span></a></div></li>
<li class="toc-item toc-references"><div class="toc-title-box"><a href="appendix-multiple-references.html#appendix-multiple-references-3" class="internal"><span class="codenumber">J.2</span> <span class="title">General References</span></a></div></li>
<li class="toc-item toc-references"><div class="toc-title-box"><a href="appendix-multiple-references.html#appendix-multiple-references-4" class="internal"><span class="codenumber">J.3</span> <span class="title">Specialized References</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-references"><div class="toc-title-box"><a href="references-backmatter.html" class="internal"><span class="title">References</span></a></div></li>
<li class="toc-item toc-index"><div class="toc-title-box"><a href="the-index.html" class="internal"><span class="title">Index</span></a></div></li>
<li class="toc-item toc-colophon"><div class="toc-title-box"><a href="colophon-back.html" class="internal"><span class="title">Colophon</span></a></div></li>
</ul>
</li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="section" id="section-graphics"><h2 class="heading hide-type">
<span class="type">Section</span><span class="space"> </span><span class="codenumber">10</span><span class="space"> </span><span class="title">Graphics</span>
</h2>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for section</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;section xml:id="graphics" label="section-graphics"&gt;
    &lt;title&gt;Graphics&lt;/title&gt;

    &lt;introduction&gt;
        &lt;p&gt;In addition to including images created externally (e.g. photographs),  &lt;pretext/&gt; supports several languages for describing diagrams and pictures with human-readable source code (&lt;ie/&gt; plain text), rather than using a &lt;q&gt;paint&lt;/q&gt; program.  This section describes the various methods for incorporationg, or generating, graphis, images or diagrams.&lt;/p&gt;
    &lt;/introduction&gt;

    &lt;subsection&gt;
        &lt;title&gt;Images from External Sources&lt;/title&gt;

        &lt;p&gt;If you have raster images (photographs, etc.) then they are specified with complete filenames, as above in Figure&lt;nbsp/&gt;&lt;xref ref="figure-function-derivative"/&gt; or just below.&lt;/p&gt;

        &lt;figure&gt;
            &lt;caption&gt;New Zealand Landscape, &lt;url href="https://commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg" visual="commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg"&gt;&lt;c&gt;commons.wikimedia.org&lt;/c&gt;&lt;/url&gt;, CC-BY-SA-2.0&lt;/caption&gt;
            &lt;image source="images/nz-landscape.jpg" width="80%"/&gt;
        &lt;/figure&gt;

        &lt;p&gt;If you have existing images that are vector graphics, then PDF format works best for &lt;latex/&gt; output and SVG format works best for HTML.  The utility &lt;c&gt;pdf2svg&lt;/c&gt; works well for converting PDF to SVG.  In this case, specify your source as a filename, but leave off the file extension, and the appropriate version will be used for the current output format.&lt;/p&gt;

        &lt;p&gt;The image below is provided from a PDF file in &lt;latex/&gt; output, and was converted to an SVG for use with the HTML output.  It has been explicitly scaled to a width of 65% of the text width.&lt;/p&gt;

        &lt;figure xml:id="figure-complete-graph"&gt;
            &lt;caption&gt;Complete graph on &lt;m&gt;16&lt;/m&gt; vertices, from &lt;c&gt;www.texample.net&lt;/c&gt;&lt;/caption&gt;
            &lt;image source="images/complete-graph" width="65%"/&gt;
        &lt;/figure&gt;

        &lt;remark&gt;
            &lt;title&gt;Footnote Buried&lt;/title&gt;

            &lt;p&gt;Nested &lt;c&gt;tcolorbox&lt;/c&gt; (in &lt;latex/&gt; conversion) need special care when footnotes are interior.&lt;/p&gt;

            &lt;sidebyside margins="20% 30%"&gt;
                &lt;p&gt;A paragraph interior to a &lt;c&gt;sidebyside&lt;/c&gt; with a footnote&lt;fn&gt;Interior footnote.&lt;/fn&gt; buried inside the paragraph.&lt;/p&gt;
                &lt;p&gt;A second paragraph, just to avoid a one-panel warning.&lt;/p&gt;
            &lt;/sidebyside&gt;

            &lt;p&gt;The final paragraph of this remark, randomly placed, to test footnotes in &lt;latex/&gt; conversions.&lt;/p&gt;
        &lt;/remark&gt;
    &lt;/subsection&gt;

    &lt;subsection xml:id="prefigure-diagrams" label="prefigure-diagrams"&gt;
        &lt;title&gt;&lt;prefigure/&gt;&lt;/title&gt;
        &lt;idx&gt;&lt;prefigure/&gt; image&lt;/idx&gt;
        &lt;idx&gt;&lt;h&gt;image&lt;/h&gt;&lt;h&gt;&lt;prefigure/&gt; image&lt;/h&gt;&lt;/idx&gt;

        &lt;p&gt;&lt;prefigure/&gt; is a standalone project for authoring mathematical diagrams (see &lt;url href="https://prefigure.org/" visual="prefigure.org"/&gt;).  Its philosophy and approach are much like that of &lt;pretext/&gt;, and &lt;prefigure/&gt; is tightly integrated into &lt;pretext/&gt;.  One key feature is excellent support for the creation of accessible output formats.&lt;/p&gt;

        &lt;p&gt;As of 2024-11-06 development continues for &lt;prefigure/&gt; itself, and fine-tuning of its integration within &lt;pretext/&gt;.  But it is usable now for projects that want to use it.&lt;ul&gt;
            &lt;li&gt;You can author &lt;prefigure/&gt; diagrams, and then generate &lt;init&gt;SVG&lt;/init&gt;, &lt;init&gt;PDF&lt;/init&gt;, and &lt;init&gt;PNG&lt;/init&gt; output versions with the &lt;c&gt;pretext/pretext&lt;/c&gt; script (see the &lt;pretext/&gt; Guide), and expect them to render in &lt;init&gt;HTML&lt;/init&gt;, &lt;init&gt;PDF&lt;/init&gt;, and &lt;init&gt;EPUB&lt;/init&gt; output formats.&lt;/li&gt;
            &lt;li&gt;Look for automatic generation to come to the &lt;pretext/&gt;-CLI sometime very soon.&lt;/li&gt;
            &lt;li&gt;&lt;prefigure/&gt; has excellent support for annotations within an &lt;init&gt;SVG&lt;/init&gt; diagram, supporting their use by screenreaders, for example.  See an example below.&lt;/li&gt;
            &lt;li&gt;Production of tactile versions is now possible, though they are not incorporated explicitly into any of the output formats.  Perhaps they will become available via archive links or as a zip archive.&lt;/li&gt;
        &lt;/ul&gt;&lt;/p&gt;

        &lt;p&gt;This is a basic &lt;prefigure/&gt; diagram, in the sense that it does not use all the features of &lt;prefigure/&gt; or &lt;pretext/&gt;.&lt;/p&gt;

        &lt;figure&gt;
            &lt;caption&gt;Solution to a differential equation&lt;/caption&gt;
            &lt;image width="60%"&gt;
                &lt;prefigure label="prefigure-diffeq" xmlns="https://prefigure.org"&gt;
                    &lt;diagram dimensions="(300,300)" margins="5"&gt;
                        &lt;definition&gt;f(t,y) = (y[1], -pi*y[0]-0.3*y[1])&lt;/definition&gt;
                        &lt;coordinates bbox="[-1,-3,6,3]"&gt;
                            &lt;grid-axes xlabel="t"/&gt;
                            &lt;de-solve function="f" t0="0" t1="bbox[2]" y0="(0,2)" name="oscillator" N="200"/&gt;
                            &lt;plot-de-solution at="x" solution="oscillator" axes="(t,y0)"/&gt;
                            &lt;plot-de-solution at="xprime" solution="oscillator" axes="(t,y1)" stroke="red" tactile-dash="9 9"/&gt;
                            &lt;legend at="legend" anchor="(bbox[2], bbox[3])" alignment="sw" scale="0.9" opacity="0.5"&gt;
                                &lt;item ref="x"&gt;&lt;m&gt;x(t)&lt;/m&gt;&lt;/item&gt;
                                &lt;item ref="xprime"&gt;&lt;m&gt;x'(t)&lt;/m&gt;&lt;/item&gt;
                            &lt;/legend&gt;
                        &lt;/coordinates&gt;
                    &lt;/diagram&gt;
                &lt;/prefigure&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;This next diagram employs some &lt;latex/&gt; macros that are defined in the usual way in &lt;tag&gt;docinfo&lt;/tag&gt; and are employed to produce the names of some vectors in the labels.  The blue line is colored blue by a global &lt;prefigure/&gt; declaration, also in &lt;tag&gt;docinfo&lt;/tag&gt;.&lt;/p&gt;

        &lt;image width="60%"&gt;
            &lt;prefigure label="prefigure-projection" xmlns="https://prefigure.org"&gt;
                &lt;diagram dimensions="(300,300)" margins="5"&gt;
                    &lt;definition&gt;v=(2,1)&lt;/definition&gt;
                    &lt;definition&gt;b=(2,4)&lt;/definition&gt;
                    &lt;definition&gt;bhat=dot(v,b)/dot(v,v) * v&lt;/definition&gt;
                    &lt;definition&gt;bperp = b - bhat&lt;/definition&gt;
                    &lt;coordinates bbox="[-1,-1,5,5]"&gt;
                        &lt;grid-axes/&gt;
                        &lt;line endpoints="((0,0),v)" infinite="yes"/&gt;
                        &lt;label anchor="(4.4,2.5)"&gt;
                            &lt;m&gt;L&lt;/m&gt;
                        &lt;/label&gt;

                        &lt;vector v="bperp" tail="bhat" stroke="gray"/&gt;
                        &lt;label anchor="midpoint(b,bhat)" alignment="ne"&gt;
                            &lt;m&gt;\bvec^\perp&lt;/m&gt;
                        &lt;/label&gt;

                        &lt;vector v="b"/&gt;
                        &lt;label anchor="b" alignment="nw"&gt;
                            &lt;m&gt;\bvec&lt;/m&gt;
                        &lt;/label&gt;

                        &lt;vector v="bhat" stroke="red"/&gt;
                        &lt;label anchor="bhat" alignment="se"&gt;
                            &lt;m&gt;\widehat{\bvec}&lt;/m&gt;
                        &lt;/label&gt;

                        &lt;vector v="v"/&gt;
                        &lt;label anchor="v" alignment="se"&gt;
                            &lt;m&gt;\vvec&lt;/m&gt;
                        &lt;/label&gt;
                    &lt;/coordinates&gt;
                &lt;/diagram&gt;
            &lt;/prefigure&gt;
        &lt;/image&gt;

        &lt;p&gt;The next &lt;prefigure/&gt; diagram is authored with annotations, arranged in a hierarchy of increasing refinement and detail.  Each identified graphical component will read its annotation and show it on the screen below the diagram.  When a reader clicks on the image, a high-level summary will be read using the author-provided annotation.  The down and up arrow keys enable a reader to explore the diagram in more or less detail while the right and left arrow keys reveal features at the same level of detail.  When the focus is on the graph, pressing "O" will produce a sonification of the graph.&lt;/p&gt;

        &lt;image width="60%"&gt;
            &lt;prefigure label="prefigure-tangent" xmlns="https://prefigure.org"&gt;
                &lt;diagram dimensions="(300,300)" margins="5"&gt;
                    &lt;definition&gt;a=1&lt;/definition&gt;
                    &lt;definition&gt;f(x) = exp(x/3)*cos(x)&lt;/definition&gt;
                    &lt;coordinates bbox="[-4,-4,4,4]"&gt;
                        &lt;grid-axes xlabel="x" ylabel="y"/&gt;
                        &lt;graph at="graph" function="f"/&gt;
                        &lt;tangent-line at="tangent" function="f" point="a"/&gt;
                        &lt;point at="point" p="(a, f(a))"&gt;
                            &lt;m&gt;(a,f(a))&lt;/m&gt;
                        &lt;/point&gt;
                    &lt;/coordinates&gt;

                    &lt;annotations&gt;
                        &lt;annotation ref="figure" text="The graph of a function and its tangent line at the point a equals 1"&gt;
                            &lt;annotation ref="graph-tangent" text="The graph and its tangent line"&gt;
                                &lt;annotation ref="graph" text="The graph of the function f" sonify="yes"/&gt;
                                &lt;annotation ref="point" text="The point a comma f of a"/&gt;
                                &lt;annotation ref="tangent" text="The tangent line to the graph of f at the point"/&gt;
                            &lt;/annotation&gt;
                        &lt;/annotation&gt;
                    &lt;/annotations&gt;

                &lt;/diagram&gt;
            &lt;/prefigure&gt;
        &lt;/image&gt;

        &lt;p&gt;Including annotations enables a new type of interactive diagram within a &lt;pretext/&gt; document offering potential benefits for all readers.  In particular, annotations allow an author to call the reader's attention to specific details in a diagram and how they are related to one another so that the diagram and surrounding text are more tightly integrated.  The annotated diagram below introduces Fibonacci tilings, which are one-dimensional analogs of Penrose tilings, and offers an explanation of their aperiodicity.  Of course, surrounding text would usually provide a richer context for a diagram like this.&lt;/p&gt;

        &lt;figure xml:id="figure-fibonnaci-tiling-annotated"&gt;
          &lt;caption&gt;Fibonacci tilings are one-dimensional analogs of Penrose tilings.  The diagram on the left introduces the process of deflation that is used to produce tilings while the diagram on the right explains why they are aperiodic.&lt;/caption&gt;
          &lt;sidebyside widths="30% 50%" valign="bottom" margins="0% 15%"&gt;
              &lt;image&gt;
                  &lt;prefigure label="prefigure-fibonacci-a" xmlns="https://prefigure.org"&gt;

                      &lt;diagram dimensions="(200, 200)"&gt;
                          &lt;definition&gt;phi=(sqrt(5)+1)/2&lt;/definition&gt;
                          &lt;definition&gt;height=0.25&lt;/definition&gt;
                          &lt;definition&gt;top=1&lt;/definition&gt;
                          &lt;definition&gt;bottom=0&lt;/definition&gt;
                          &lt;definition&gt;left=0&lt;/definition&gt;
                          &lt;definition&gt;right=2&lt;/definition&gt;
                          &lt;definition&gt;colors={0:'blue', 1:'red'}&lt;/definition&gt;
                          &lt;definition&gt;widths={0:phi, 1:1}&lt;/definition&gt;
                          &lt;coordinates bbox="(-0.5,-1,3.5,2)"&gt;
                              &lt;transform&gt;
                                  &lt;!-- Define the upper row of tiles--&gt;
                                  &lt;translate by="(0,top)"/&gt;
                                  &lt;!-- We put tiles and their labels into a group for annotating--&gt;
                                  &lt;group at="top-L"&gt;
                                      &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                      &lt;label anchor="(widths[0]/2,height)" alignment="n"&gt;
                                          &lt;m&gt;L&lt;/m&gt;
                                      &lt;/label&gt;
                                  &lt;/group&gt;
                                  &lt;translate by="(right,0)"/&gt;
                                  &lt;group at="top-S"&gt;
                                      &lt;rectangle lower-left="(0,0)" dimensions="(widths[1],height)" fill="${colors[1]}" stroke="black"/&gt;
                                      &lt;label anchor="(widths[1]/2, height)" alignment="n"&gt;
                                          &lt;m&gt;S&lt;/m&gt;
                                      &lt;/label&gt;
                                  &lt;/group&gt;
                              &lt;/transform&gt;

                              &lt;transform&gt;
                                  &lt;translate by="(0,bottom)"/&gt;
                                  &lt;transform&gt;
                                      &lt;scale by="(1/phi, 1)"/&gt;
                                      &lt;group at="bottom-L"&gt;
                                          &lt;group at="bottom-LL"&gt;
                                              &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                              &lt;label anchor="(widths[0]/2,0)" alignment="south"&gt;
                                                  &lt;m&gt;L&lt;/m&gt;
                                              &lt;/label&gt;
                                          &lt;/group&gt;
                                          &lt;translate by="(widths[0],0)"/&gt;
                                          &lt;group at="bottom-LS"&gt;
                                              &lt;rectangle lower-left="(0,0)" dimensions="(widths[1], height)" fill="${colors[1]}" stroke="black"/&gt;
                                              &lt;label anchor="(widths[1]/2,0)" alignment="south"&gt;
                                                  &lt;m&gt;S&lt;/m&gt;
                                              &lt;/label&gt;
                                          &lt;/group&gt;
                                      &lt;/group&gt;
                                  &lt;/transform&gt;

                                  &lt;translate by="(right, 0)"/&gt;
                                  &lt;scale by="(1/phi,1)"/&gt;
                                  &lt;group at="bottom-S"&gt;
                                      &lt;group at="bottom-SL"&gt;
                                          &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                          &lt;label anchor="(widths[0]/2,0)" alignment="south"&gt;
                                              &lt;m&gt;L&lt;/m&gt;
                                          &lt;/label&gt;
                                      &lt;/group&gt;
                                  &lt;/group&gt;
                              &lt;/transform&gt;

                              &lt;line at="left-arrow" endpoints="((left+phi/2, top), (left+phi/2, bottom+height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;

                              &lt;line at="right-arrow" endpoints="((right+1/2, top), (right+1/2, bottom+height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;
                          &lt;/coordinates&gt;

                          &lt;annotations&gt;
                              &lt;annotation ref="figure" text="The set of Fibonacci tiles consists of two tiles denoted by L and S."&gt;
                                  &lt;annotation ref="top" text="The ratio of the lengths of the tiles is the golden ratio so one tile L is long and the other S is short"&gt;
                                      &lt;annotation ref="top-L" text="The long tile L"/&gt;
                                      &lt;annotation ref="top-S" text="The short tile S"/&gt;
                                  &lt;/annotation&gt;
                                  &lt;annotation ref="arrows" text="A process called deflation replaces each tile by a new set of tiles"&gt;
                                      &lt;annotation ref="left-deflate" text="A long tile is replaced by a long and a short tile"&gt;
                                          &lt;annotation ref="left-arrow"/&gt;
                                          &lt;annotation ref="top-L"/&gt;
                                          &lt;annotation ref="bottom-L" text="The length of the new tiles is scaled by the reciprocal of the golden ratio"&gt;
                                              &lt;annotation ref="bottom-LL" text="The new long tile is on the left"/&gt;
                                              &lt;annotation ref="bottom-LS" text="The new short tile is on the right"/&gt;
                                          &lt;/annotation&gt;
                                      &lt;/annotation&gt;
                                      &lt;annotation ref="right-deflate" text="A short tile is replaced by a single long tile"&gt;
                                          &lt;annotation ref="right-arrow"/&gt;
                                          &lt;annotation ref="top-S"/&gt;
                                          &lt;annotation ref="bottom-S" text="The length of the new tile is again scaled by the reciprocal of the golden ratio"/&gt;
                                      &lt;/annotation&gt;
                                  &lt;/annotation&gt;
                              &lt;/annotation&gt;
                          &lt;/annotations&gt;
                      &lt;/diagram&gt;

                  &lt;/prefigure&gt;
              &lt;/image&gt;
              &lt;image&gt;
                  &lt;prefigure label="prefigure-fibonacci-b" xmlns="https://prefigure.org"&gt;

                      &lt;diagram dimensions="(300, 200)" margins="(30,0,30,0)"&gt;
                          &lt;definition&gt;phi=(sqrt(5)+1)/2&lt;/definition&gt;
                          &lt;definition&gt;height=0.25&lt;/definition&gt;
                          &lt;definition&gt;width=5+8*phi&lt;/definition&gt;
                          &lt;definition&gt;colors={0:'blue', 1:'red'}&lt;/definition&gt;
                          &lt;definition&gt;widths={0:phi, 1:1}&lt;/definition&gt;
                          &lt;definition&gt;tiling2=[0,1,0,0,1]&lt;/definition&gt;
                          &lt;definition&gt;tiling1=[0,1,0,0,1,0,1,0]&lt;/definition&gt;
                          &lt;definition&gt;tiling0=[0,1,0,0,1,0,1,0,0,1,0,0,1]&lt;/definition&gt;
                          &lt;definition&gt;tilings=[tiling0, tiling1, tiling2]&lt;/definition&gt;
                          &lt;coordinates bbox="(0,-0.5,width,3.5)"&gt;
                              &lt;transform&gt;
                                  &lt;repeat parameter="row in tilings"&gt;
                                      &lt;label at="left-dots" anchor="(0,height/2)" alignment="w"&gt;
                                          &lt;m&gt;\ldots&lt;/m&gt;
                                      &lt;/label&gt;
                                      &lt;transform&gt;
                                          &lt;repeat at="tiling" parameter="type in row"&gt;
                                              &lt;rectangle at="tile" lower-left="(0,0)" dimensions="(widths[type], height)" fill="${colors[type]}" stroke="black"/&gt;
                                              &lt;translate by="(widths[type],0)"/&gt;
                                          &lt;/repeat&gt;
                                          &lt;label at="right-dots" anchor="(0,height/2)" alignment="e"&gt;
                                              &lt;m&gt;\ldots&lt;/m&gt;
                                          &lt;/label&gt;
                                      &lt;/transform&gt;
                                      &lt;scale by="(phi, 1)"/&gt;
                                      &lt;translate by="(0,1)"/&gt;
                                  &lt;/repeat&gt;
                              &lt;/transform&gt;

                              &lt;transform&gt;
                                  &lt;repeat at="down-arrows" parameter="row in tilings"&gt;
                                      &lt;line at="down-arrow" endpoints="((width/2, 1), (width/2,height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;
                                      &lt;translate by="(0,1)"/&gt;
                                  &lt;/repeat&gt;
                              &lt;/transform&gt;
                              &lt;transform&gt;
                                  &lt;repeat at="right-arrows" parameter="row in tilings"&gt;
                                      &lt;line at="right-arrow" endpoints="((15,-0.15), (17,-0.15))" arrows="1" stroke="black" thickness="2"/&gt;
                                      &lt;translate by="(0,1)"/&gt;
                                  &lt;/repeat&gt;
                              &lt;/transform&gt;
                          &lt;/coordinates&gt;

                          &lt;annotations&gt;
                              &lt;annotation ref="figure" text="A Fibonacci tiling is a horizontal sequence of tiles obtained by deflating the tiles in another Fibonacci tiling.  We will explain why these tilings are aperiodic."&gt;
                                  &lt;annotation ref="down-arrows"/&gt;
                                  &lt;annotation ref="top-down-arrow"/&gt;

                                  &lt;annotation ref="tiling-row=0" text="We begin with this Fibonacci tiling"/&gt;

                                  &lt;annotation ref="tiling-row=1" text="Our first Fibonacci tiling is obtained by deflating this second tiling"&gt;
                                      &lt;annotation ref="down-arrow-row=0"/&gt;
                                  &lt;/annotation&gt;

                                  &lt;annotation ref="tiling-row=2" text="The second tiling is obtained by deflating this third tiling, so we see that there is an infinite hierarchy of tilings."&gt;
                                      &lt;annotation ref="down-arrow-row=1"/&gt;
                                  &lt;/annotation&gt;

                                  &lt;annotation ref="bottom-tilings" text="Beginning with one tiling, the tiling above is uniquely determined."&gt;
                                      &lt;annotation ref="tiling-row=0" text="Consider this Fibonacci tiling."/&gt;
                                      &lt;annotation ref="tiling-row=1" text="By inverting the deflation rules, we can uniquely determine the tiling above."/&gt;
                                  &lt;/annotation&gt;
                                  &lt;annotation ref="periodic-0" text="Suppose that a Fibonacci tiling is periodic under a horizontal translation."&gt;
                                      &lt;annotation ref="tiling-row=0" text="For example, suppose this Fibonacci tiling is periodic."/&gt;
                                      &lt;annotation ref="right-arrow-row=0" text="And that this horizontal translation leaves the tiling unchanged."/&gt;
                                  &lt;/annotation&gt;
                                  &lt;annotation ref="periodic-1" text="Because the inflated tiling above is unique, it must also be periodic under the same translation."&gt;
                                      &lt;annotation ref="tiling-row=1" text="This Fibonacci tiling is also periodic."/&gt;
                                      &lt;annotation ref="right-arrow-row=1" text="The same horizontal translation leaves the tiling unchanged."/&gt;
                                  &lt;/annotation&gt;
                                  &lt;annotation ref="periodic-2" text="Consequently, every tiling in the hierarchy is periodic by this translation.  This is not possible, which means the original tiling cannot be periodic."&gt;
                                      &lt;annotation ref="tiling-row=2" text="The size of the tiles grows exponentially as we move up in the hierarchy."/&gt;
                                      &lt;annotation ref="right-arrow-row=2" text="Eventually the tiles are longer than the translation."/&gt;
                                  &lt;/annotation&gt;
                              &lt;/annotation&gt;
                          &lt;/annotations&gt;
                      &lt;/diagram&gt;

                  &lt;/prefigure&gt;
              &lt;/image&gt;
            &lt;/sidebyside&gt;
        &lt;/figure&gt;

        &lt;p&gt;For sighted readers, here is an example of a tactile version of one of the above diagrams.  It is generated automatically from the same source as the other version.  Imagine this being &lt;q&gt;printed&lt;/q&gt; with an embosser so that the parts of the diagram, and the braille labels, are raised up from the paper and can be explored with one's fingertips.  This image is a &lt;init&gt;PNG&lt;/init&gt; produced specifically for this document.  Typically, a tactile diagram produced by &lt;prefigure/&gt; will be a &lt;init&gt;PDF&lt;/init&gt; ready to be sent to an appropriate embosser.  Notice that &lt;pretext/&gt; adds a caption indicating the diagram's location in the document along the top of the diagram.&lt;/p&gt;

        &lt;image source="tactile/prefigure-diffeq.png" width="70%"/&gt;
    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;&lt;latex/&gt; images&lt;/title&gt;
        &lt;idx sortby="latex"&gt;&lt;latex/&gt; image&lt;/idx&gt;
        &lt;idx&gt;&lt;h&gt;image&lt;/h&gt;&lt;h&gt;&lt;latex/&gt; image&lt;/h&gt;&lt;/idx&gt;

        &lt;p&gt;There are several graphics engine packages that a &lt;latex/&gt; document can employ. Code from these packages renders diagrams automatically as part of normal processing of &lt;latex/&gt; files.  For HTML output the &lt;c&gt;pretext&lt;/c&gt; script produces SVG versions of the pictures.  The script can also produce standalone &lt;tex/&gt; source files, PDFs, PNGs, and EPSs. The packages should be loaded in &lt;c&gt;docinfo/latex-image-preamble&lt;/c&gt;, which is also where global package settings should be made. If any ampersands occur in your &lt;latex/&gt; code you should use the &lt;c&gt;\amp&lt;/c&gt; macro pre-defined by &lt;pretext/&gt;. These first examples are from the &lt;url href="http://www.texample.net/tikz/examples/" visual="www.texample.net/tikz/examples/"&gt;TeXample.net&lt;/url&gt; site.  Note that any &lt;latex/&gt; macros used in the rest of your document may be employed in the &lt;latex/&gt;-standalone or Asymptote diagrams (with this feature coming to Sage graphics next?).&lt;/p&gt;

        &lt;!-- http://www.texample.net/media/tikz/examples/TEX/noise-shaper.tex --&gt;
        &lt;figure xml:id="figure-tikz-electronics"&gt;
            &lt;caption&gt;TikZ Electronics Diagram&lt;/caption&gt;
            &lt;image xml:id="tikz-electronics"&gt;
                &lt;shortdescription&gt;
                    a pile of electronic components wired together
                &lt;/shortdescription&gt;
                &lt;latex-image&gt;
                &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
                \tikzset{%
                  block/.style    = {draw, thick, rectangle, minimum height = 3em,
                    minimum width = 3em},
                  sum/.style      = {draw, circle, node distance = 2cm}, % Adder
                  input/.style    = {coordinate}, % Input
                  output/.style   = {coordinate} % Output
                }
                % Defining string as labels of certain blocks.
                \newcommand{\suma}{\Large$+$}
                \newcommand{\inte}{$\displaystyle \int$}
                \newcommand{\derv}{\huge$\frac{d}{dt}$}

                \begin{tikzpicture}[auto, thick, node distance=2cm, &amp;gt;=triangle 45]
                \draw
                    % Drawing the blocks of first filter :
                    node at (0,0)[right=-3mm]{\Large \textbullet}
                    node [input, name=input1] {}
                    node [sum, right of=input1] (suma1) {\suma}
                    node [block, right of=suma1] (inte1) {\inte}
                         node at (6.8,0)[block] (Q1) {\Large $Q_1$}
                         node [block, below of=inte1] (ret1) {\Large$T_1$};
                    % Joining blocks.
                    % Commands \draw with options like [-&amp;gt;] must be written individually
                    \draw[-&amp;gt;](input1) -- node {$X(Z)$}(suma1);
                    \draw[-&amp;gt;](suma1) -- node {} (inte1);
                    \draw[-&amp;gt;](inte1) -- node {} (Q1);
                    \draw[-&amp;gt;](ret1) -| node[near end]{} (suma1);
                    % Adder
                \draw
                    node at (5.4,-4) [sum, name=suma2] {\suma}
                        % Second stage of filter
                    node at  (1,-6) [sum, name=suma3] {\suma}
                    node [block, right of=suma3] (inte2) {\inte}
                    node [sum, right of=inte2] (suma4) {\suma}
                    node [block, right of=suma4] (inte3) {\inte}
                    node [block, right of=inte3] (Q2) {\Large$Q_2$}
                    node at (9,-8) [block, name=ret2] {\Large$T_2$}
                ;
                    % Joining the blocks of second filter
                    \draw[-&amp;gt;] (suma3) -- node {} (inte2);
                    \draw[-&amp;gt;] (inte2) -- node {} (suma4);
                    \draw[-&amp;gt;] (suma4) -- node {} (inte3);
                    \draw[-&amp;gt;] (inte3) -- node {} (Q2);
                    \draw[-&amp;gt;] (ret2) -| (suma3);
                    \draw[-&amp;gt;] (ret2) -| (suma4);
                         % Third stage of filter:
                    % Defining nodes:
                \draw
                    node at (11.5, 0) [sum, name=suma5]{\suma}
                    node [output, right of=suma5]{}
                    node [block, below of=suma5] (deriv1){\derv}
                    node [output, right of=suma5] (sal2){}
                ;
                    % Joining the blocks:
                    \draw[-&amp;gt;] (suma2) -| node {}(suma3);
                    \draw[-&amp;gt;] (Q1) -- (8,0) |- node {}(ret1);
                    \draw[-&amp;gt;] (8,0) |- (suma2);
                    \draw[-&amp;gt;] (5.4,0) -- (suma2);
                    \draw[-&amp;gt;] (Q1) -- node {}(suma5);
                    \draw[-&amp;gt;] (deriv1) -- node {}(suma5);
                    \draw[-&amp;gt;] (Q2) -| node {}(deriv1);
                        \draw[&amp;lt;-&amp;gt;] (ret2) -| node {}(deriv1);
                        \draw[-&amp;gt;] (suma5) -- node {$Y(Z)$}(sal2);
                        % Drawing nodes with \textbullet
                \draw
                    node at (8,0) {\textbullet}
                    node at (8,-2){\textbullet}
                    node at (5.4,0){\textbullet}
                        node at (5,-8){\textbullet}
                        node at (11.5,-6){\textbullet}
                        ;
                    % Boxing and labelling noise shapers
                    \draw [color=gray,thick](-0.5,-3) rectangle (9,1);
                    \node at (-0.5,1) [above=5mm, right=0mm] {\textsc{first-order noise shaper}};
                    \draw [color=gray,thick](-0.5,-9) rectangle (12.5,-5);
                    \node at (-0.5,-9) [below=5mm, right=0mm] {\textsc{second-order noise shaper}};
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;The next example began life in &lt;url href="http://www.frontiernet.net/~eugene.ressler/" visual="www.frontiernet.net/~eugene.ressler/"&gt;Sketch&lt;/url&gt;, which will output TikZ code (though the code has been edited by hand for readability).&lt;/p&gt;

        &lt;!-- http://www.texample.net/media/tikz/examples/TEX/3d-cone.tex --&gt;
        &lt;figure xml:id="figure-tikz-cone3D"&gt;
            &lt;caption&gt;TikZ Cone Drawing&lt;/caption&gt;
            &lt;image xml:id="tikz-cone" width="70%"&gt;
                &lt;latex-image&gt;
                &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
                \begin{tikzpicture}[join=round]
                \tikzstyle{conefill} = [fill=blue!20,fill opacity=0.8]
                \tikzstyle{ann} = [fill=white,font=\footnotesize,inner sep=1pt]
                \tikzstyle{ghostfill} = [fill=white]
                     \tikzstyle{ghostdraw} = [draw=black!50]
                \filldraw[conefill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                    --(-.183,2.067)--cycle;
                \filldraw[conefill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                    --(.516,2.016)--cycle;
                \filldraw[conefill](.516,2.016)--(.775,.424)--(1.369,.1)
                                    --(.913,1.8)--cycle;
                \filldraw[conefill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                    --(-.775,1.922)--cycle;
                \draw(1.461,.107)--(1.734,.127);
                \draw[arrows=&amp;lt;-&amp;gt;](1.643,1.853)--(1.643,.12);
                \filldraw[conefill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                    --(.775,1.545)--cycle;
                \draw[arrows=-&amp;gt;,line width=.4pt](.274,-.5)--(0,0)--(0,2.86);
                \draw[arrows=-,line width=.4pt](0,0)--(-1.369,-.1);
                \draw[arrows=-&amp;gt;,line width=.4pt](-1.369,-.1)--(-2.1,-.153);
                \filldraw[conefill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                    --(-.913,1.667)--cycle;
                \draw(-1.369,.073)--(-1.369,2.76);
                \draw(1.004,1.807)--(1.734,1.86);
                \filldraw[conefill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                    --(.183,1.4)--cycle;
                \draw[arrows=&amp;lt;-&amp;gt;](0,2.34)--(-.913,2.273);
                \draw(-.913,1.84)--(-.913,2.447);
                \draw[arrows=&amp;lt;-&amp;gt;](0,2.687)--(-1.369,2.587);
                \filldraw[conefill](.183,1.4)--(.274,-.5)--(-.775,-.424)
                                    --(-.516,1.45)--cycle;
                \draw[arrows=&amp;lt;-,line width=.4pt](.42,-.767)--(.274,-.5);
                \node[ann] at (-.456,2.307) {$r_0$};
                \node[ann] at (-.685,2.637) {$r_1$};
                \node[ann] at (1.643,.987) {$h$};
                \path (.42,-.767) node[below] {$x$}
                    (0,2.86) node[above] {$y$}
                    (-2.1,-.153) node[left] {$z$};
                % Second version of the cone
                \begin{scope}[xshift=3.5cm]
                \filldraw[ghostdraw,ghostfill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                               --(-.183,2.067)--cycle;
                \filldraw[ghostdraw,ghostfill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                               --(.516,2.016)--cycle;
                \filldraw[ghostdraw,ghostfill](.516,2.016)--(.775,.424)--(1.369,.1)
                                               --(.913,1.8)--cycle;
                \filldraw[ghostdraw,ghostfill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                               --(-.775,1.922)--cycle;
                \filldraw[ghostdraw,ghostfill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                               --(.775,1.545)--cycle;
                \filldraw[ghostdraw,ghostfill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                               --(-.913,1.667)--cycle;
                \filldraw[ghostdraw,ghostfill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                               --(.183,1.4)--cycle;
                \filldraw[fill=red,fill opacity=0.5](-.516,1.45)--(-.775,-.424)--(.274,-.5)
                                                     --(.183,1.4)--cycle;
                \fill(-.775,-.424) circle (2pt);
                \fill(.274,-.5) circle (2pt);
                \fill(-.516,1.45) circle (2pt);
                \fill(.183,1.4) circle (2pt);
                \path[font=\footnotesize]
                        (.913,1.8) node[right] {$i\hbox{$=$}0$}
                        (1.369,.1) node[right] {$i\hbox{$=$}1$};
                \path[font=\footnotesize]
                        (-.645,.513) node[left] {$j$}
                        (.228,.45) node[right] {$j\hbox{$+$}1$};
                \draw (-.209,.482)+(-60:.25) [yscale=1.3,-&amp;gt;] arc(-60:240:.25);
                \fill[black,font=\footnotesize]
                                (-.516,1.45) node [above] {$P_{00}$}
                                (-.775,-.424) node [below] {$P_{10}$}
                                (.183,1.4) node [above] {$P_{01}$}
                                (.274,-.5) node [below] {$P_{11}$};
                \end{scope}
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;The pgfplots package was included in &lt;c&gt;docinfo/latex-image-preamble&lt;/c&gt;. Here, it is used. Also, here we demonstrate using &lt;c&gt;\amp&lt;/c&gt; where you would normally use an ampersand in &lt;latex/&gt;. There are known issues with &lt;c&gt;xelatex&lt;/c&gt; processing any gradient shading in &lt;c&gt;tikz&lt;/c&gt;. To (successfully) create the gradient shading in the 3D image here, you may need to use &lt;c&gt;pdflatex&lt;/c&gt; until &lt;latex/&gt; developers resolve this issue.&lt;/p&gt;

        &lt;figure xml:id="figure-pgfplots-demo"&gt;
            &lt;caption&gt;Sample pgfplots plot&lt;/caption&gt;
            &lt;image xml:id="pgfplots-demo"&gt;
                &lt;shortdescription&gt;
                    a Cartesian plane with a function graph, a parametric curve, and some points
                &lt;/shortdescription&gt;
                &lt;latex-image&gt;
                &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
                \begin{tikzpicture}
                \matrix{
                    \begin{axis}[width = 0.5\linewidth]
                        \addplot[
                            domain = 0.1:10,
                            &amp;lt;-&amp;gt;,
                            smooth,
                            thin,
                            color = blue,
                        ]{4*ln(x)/ln(10)};
                        \addplot[
                            only marks,
                        ]coordinates{
                            (0,2)
                            (4,3)
                            (2,4)
                            (3,4)};
                        \addplot[
                            variable = \t,
                            domain = 0:360,
                            samples = 200,
                            color = orange,
                        ]({3*sin(2*t)}, {2*cos(5*t)});
                    \end{axis}
                    \amp
                    \begin{axis}[axis lines = box, width = 0.5\linewidth]
                        \addplot3[
                            surf,
                            faceted color = blue,
                            samples = 15,
                            domain = 0:1,
                            y domain = -1:1
                        ]{x^2 - y^2};
                    \end{axis}\\
                };
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;A plot might use a graphics language to draw the axes and grid, but the data might be from an experiment and live in an external file that you do not wish to place in your source.  Place such a file in a subdirectory directly below the directory where your master source file resides.  Then indicate this directory in a &lt;c&gt;docinfo/directories/@data&lt;/c&gt; attribute of your source.  But you &lt;em&gt;must&lt;/em&gt; prefix the path with &lt;c&gt;data/&lt;/c&gt; as in the source below.&lt;/p&gt;

        &lt;figure xml:id="figure-pgfplots-data-demo"&gt;
            &lt;caption&gt;External data in a pgfplots plot&lt;/caption&gt;
            &lt;image xml:id="pgfplots-data-demo"&gt;
                &lt;shortdescription&gt;
                    a Cartesian plot of electric potential over time;
                &lt;/shortdescription&gt;
                &lt;latex-image&gt;
                &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
                
                \begin{tikzpicture}
                \begin{axis}[
                    xmin=0,xmax=100,ymin=-20,ymax=100,
                    ytick={-20,0,...,100},
                    xlabel={time (ms)},
                    ylabel={potential (V)},
                ]
                \addplot[blue] table {data/dataplot/hodgkin-huxley-data.dat};
                \end{axis}
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;The TikZ image in the next figure is made up from two &lt;init&gt;PNG&lt;/init&gt; images (the shark and the swimmer), in addition to various TikZ commands.  The images reside in a source directory, &lt;c&gt;numerical/attack&lt;/c&gt;, so the image files (&lt;c&gt;shark.png&lt;/c&gt;, &lt;c&gt;swimmer.png&lt;/c&gt;) are prefixed in the TikZ code with &lt;c&gt;data/attack&lt;/c&gt; so the creation of the image will be successful.&lt;/p&gt;

        &lt;figure xml:id="figure-shark-attack"&gt;
            &lt;caption&gt;An illustration of the shark trying to catch you as you swim to shore.&lt;/caption&gt;
            &lt;image label="shark-attack"&gt;
                &lt;latex-image&gt;
                \begin{tikzpicture}
                    \tikzset{ ragged border/.style={ decoration={random steps, segment length=1mm, amplitude=0.5mm}, decorate, } }
                    \fill[cyan!30] decorate[ragged border]{ (0,2) -- (8,2) } -- (8,0) -- (0,0) -- cycle;
                    \fill[yellow!30] decorate[ragged border]{ (8,2) -- (8,0) } -- (9,0) -- (9,2) -- cycle;
                    \draw (1.5,1) node {\scalebox{-0.2}[0.2]{\includegraphics{data/attack/shark.png}}};
                    \draw (5,1) node {\includegraphics[scale=0.05]{data/attack/swimmer.png}};
                    \draw[|-|] (1.5,3) node [above] {\(\SI{0}{m}\)} -- (5,3) node [above] {\(\SI{50}{m}\)};
                    \draw[|-|] (5,3) -- (8,3) node [above] {\(\SI{70}{m}\)};
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;
            A Cartesian plot might benefit from having a &lt;tag&gt;description&lt;/tag&gt; with a
            &lt;tag&gt;tabular&lt;/tag&gt; that lays bare the data used to to plot points.
        &lt;/p&gt;

        &lt;figure xml:id="figure-pgfplots-data-description"&gt;
            &lt;caption&gt;Full description with tabular&lt;/caption&gt;
            &lt;image label="pgfplots-data-description" width="70%"&gt;
                &lt;shortdescription&gt;
                    a plot of some data points
                &lt;/shortdescription&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A Cartesian graph plotting the following data.
                    &lt;/p&gt;
                    &lt;tabular row-headers="yes"&gt;
                        &lt;col right="minor"/&gt;
                        &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                        &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                        &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                        &lt;row bottom="minor"&gt;
                            &lt;cell&gt;&lt;m&gt;x&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;1&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;2&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;4&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;6&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;7&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;9&lt;/m&gt;&lt;/cell&gt;
                        &lt;/row&gt;
                        &lt;row&gt;
                            &lt;cell&gt;&lt;m&gt;y&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;9&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;2&lt;/m&gt;&lt;/cell&gt;
                            &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                        &lt;/row&gt;
                    &lt;/tabular&gt;
                &lt;/description&gt;
                &lt;latex-image&gt;
                    \begin{tikzpicture}
                        \begin{axis}[
                                xmin=0,
                                xmax=10,
                                ymin=-0,ymax=10,
                                xlabel={\(x\)},
                                ylabel={\(y\)},
                            ]
                            \addplot[only marks] coordinates {(1,5) (2,3) (3,8) (4,9) (5,5) (6,5) (7,8) (8,2) (9,3)};
                        \end{axis}
                    \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;The next image requires three passes with &lt;latex/&gt; to get everything in place.  It is placed here to test that the code in the Pythion script correctly recognizes this requirement.&lt;/p&gt;

        &lt;figure&gt;
            &lt;caption&gt;A matrix with colored entries&lt;/caption&gt;

            &lt;!-- This image needs three passes with LaTeX, which --&gt;
            &lt;!-- is supported by the script making this image    --&gt;
            &lt;image width="50%"&gt;
                &lt;latex-image label="latex-three-pass"&gt;
                    \begin{tikzpicture}
                    \node{
                        $\begin{bNiceArray}{ccc|cc}[
                        code-before={\cellcolor{green!72}{1-1,2-2,3-3}\cellcolor{teal!72}{1-2,2-3,3-4}\cellcolor{yellow!72}{1-3,2-4,3-5}}
                        ]
                        3 \amp 4 \amp 0 \amp 1 \amp 4 \\
                        -2 \amp 3 \amp 1 \amp -2 \amp 3 \\
                        0 \amp 2 \amp 1 \amp 0 \amp 2
                        \end{bNiceArray}$
                    };
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;PSTricks is a &lt;latex/&gt; package for drawing diagrams and pictures, dating back to the days before &lt;init&gt;PDF&lt;/init&gt;, when PostScript (&lt;init&gt;PS&lt;/init&gt;) was king.  Given its history, it does not seem to work easily with the &lt;c&gt;pdflatex&lt;/c&gt; engine.  But it will work easily with the &lt;c&gt;xelatex&lt;/c&gt; engine.  We try to keep this present sample document workable with both engines, so we have presented an example of the use of PSTricks in the &lt;c&gt;xelatex&lt;/c&gt;-exclusive sample document where we test obscure fonts and characters.  So your best bet is to look there.&lt;idx&gt;PSTricks&lt;/idx&gt;&lt;/p&gt;

        &lt;p&gt;There are suggestions online that &lt;cd&gt;\usepackage[pdf]{pstricks}&lt;/cd&gt;along with &lt;cd&gt;pdflatex --shell-escape *.tex&lt;/cd&gt; is workable.  We could not make it happen, and a &lt;q&gt;shell escape&lt;/q&gt; can be a dangerous security hole.  That said, updates to this approach are welcome.&lt;/p&gt;
    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;Asymptote, 2D&lt;/title&gt;

        &lt;p&gt;The Asymptote&lt;idx&gt;&lt;h&gt;asymptote graphics language&lt;/h&gt;&lt;/idx&gt; graphics language may be placed in your source to draw graphs, diagrams or pictures.  Rules for formatting code are identical to those for Sage code.  For more on Asymptote see &lt;url href="http://asymptote.sourceforge.net/" visual="asymptote.sourceforge.net"/&gt;.&lt;/p&gt;

        &lt;!--
        See a different (more traditional) variant of URL usage
        in the introductory section.
        --&gt;

        &lt;p&gt;This is a simple physics diagram about levers, taken from the Asymptote documentation.  In the HTML version of this article, the images are SVG's and so should scale nicely when you zoom in on the page.&lt;/p&gt;
        &lt;!-- http://asymptote.sourceforge.net/gallery/lever.asy --&gt;

        &lt;!--
        xml:id's on the figures may be employed for cross-references,
        while the xml:id's on the actual graphics code will be used to name
        the files that are created.  They are optional, in which case,
        generic names will be created, though these use serial numbers and so
        will change as more are added.
        --&gt;

        &lt;figure xml:id="figure-asymptote-levers"&gt;
            &lt;caption&gt;Asymptote Lever Demonstration&lt;/caption&gt;
            &lt;image xml:id="asymptote-lever"&gt;
                &lt;shortdescription&gt;moments on a lever&lt;/shortdescription&gt;
                &lt;asymptote&gt;
                size(200,0);

                pair z0=(0,0);
                pair z1=(2,0);
                pair z2=(5,0);
                pair zf=z1+0.75*(z2-z1);

                draw(z1--z2);
                dot(z1,red+0.15cm);
                dot(z2,darkgreen+0.3cm);
                label("$m$",z1,1.2N,red);
                label("$M$",z2,1.5N,darkgreen);
                label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

                pair s=-0.2*I;
                draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

                s=-0.5*I;
                draw("$\bar{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

                s=-0.95*I;
                draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
                &lt;/asymptote&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;And a colorful contour plot with logarithmic scale.  Again, from the Asymptote documentation.  This SVG image employs two additional PNG images for the two parts where the color varies continuously.&lt;/p&gt;
        &lt;!-- http://asymptote.sourceforge.net/gallery/2D%20graphs/logimage.asy --&gt;

        &lt;figure xml:id="figure-asymptote-contour-plot"&gt;
            &lt;caption&gt;Asymptote Contour Plot&lt;/caption&gt;
            &lt;image xml:id="asymptote-contour"&gt;
                &lt;asymptote&gt;
                import graph;
                import palette;

                size(10cm,10cm,IgnoreAspect);

                real f(real x, real y) {
                  return 0.9*pow10(2*sin(x/5+2*y^0.25)) + 0.1*(1+cos(10*log(y)));
                }

                scale(Linear,Log,Log);

                pen[] Palette=BWRainbow();

                bounds range=image(f,Automatic,(0,1),(100,100),nx=200,Palette);

                xaxis("$x$",BottomTop,LeftTicks,above=true);
                yaxis("$y$",LeftRight,RightTicks,above=true);

                palette("$f(x,y)$",range,(0,200),(100,250),Top,Palette,
                        PaletteTicks(ptick=linewidth(0.5*linewidth())));
                &lt;/asymptote&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;Here is the lever diagram again, but now we have added an integral to one of the legends, &lt;em&gt;using a &lt;latex/&gt; macro of our own,&lt;/em&gt; which is idential to one we used in the early part of this article.  The point is, we only needed to define the macro once for the entire document, and it is available as we make Asymptote diagrams.  This device can be used to maintain flexibility and consistency in your choice of notation.&lt;/p&gt;

        &lt;figure xml:id="figure-asymptote-latex-macro"&gt;
            &lt;caption&gt;Aymptote Lever, plus Integral&lt;/caption&gt;
            &lt;image xml:id="asymptote-lever-integral" width="80%"&gt;
                &lt;asymptote&gt;
                size(200,0);

                pair z0=(0,0);
                pair z1=(2,0);
                pair z2=(5,0);
                pair zf=z1+0.75*(z2-z1);

                draw(z1--z2);
                dot(z1,red+0.15cm);
                dot(z2,darkgreen+0.3cm);
                label("$m$",z1,1.2N,red);
                label("$M$",z2,1.5N,darkgreen);
                label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

                pair s=-0.2*I;
                draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

                s=-0.5*I;
                draw("$\bar{x}=\definiteintegral{0}{1}{x\delta(x)}{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

                s=-1.05*I;
                draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
                &lt;/asymptote&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

    &lt;/subsection&gt;

    &lt;subsection xml:id="graphics-asymptote-webgl"&gt;
        &lt;title&gt;Asymptote, 3D via WebGL&lt;/title&gt;

        &lt;p&gt;Asymptote can create an &lt;init&gt;HTML&lt;/init&gt; file that is an interactive version of a 3D shape.  At this writing (2020-05-18) support via the &lt;c&gt;pretext&lt;/c&gt; script is evolving.  Plus, you will need newer versions of Asymptote and the &lt;c&gt;dvisvgm&lt;/c&gt; utility to duplicate all of the results being displayed here in this testing document.  The other distinction is that the author needs to provide the aspect ratio of the figure, and this should be placed on the &lt;tag&gt;asymptote&lt;/tag&gt; element (not on the &lt;tag&gt;image&lt;/tag&gt; element).  &lt;xref ref="figure-asymptote-workcone" text="type-global"/&gt; is from the &lt;url href="http://asymptote.sourceforge.net/gallery/3Dwebgl/" visual="asymptote.sourceforge.net/gallery/3Dwebgl/"&gt;Asymptote Gallery&lt;/url&gt;.&lt;/p&gt;

        &lt;figure xml:id="figure-asymptote-workcone"&gt;
            &lt;caption&gt;Work Cone (Asymptote Interactive 3D Image)&lt;/caption&gt;
            &lt;image xml:id="asymptote-workcone" width="50%"&gt;
                &lt;asymptote&gt;
                import solids;
                size(0,150);
                currentprojection=orthographic(0,-30,5);

                real r=4;
                real h=10;
                real s=8;
                real x=r*s/h;

                real sr=5;
                real xr=r*sr/h;

                real s1=sr-0.1;
                real x1=r*s1/h;

                real s2=sr+0.2;
                real x2=r*s2/h;

                render render=render(compression=0,merge=true);

                draw(scale(x1,x1,-s1)*shift(-Z)*unitcone,lightblue+opacity(0.5),render);

                path3 p=(x2,0,s2)--(x,0,s+0.005);
                revolution a=revolution(p,Z);
                draw(surface(a),lightblue+opacity(0.5),render);

                path3 q=(x,0,s)--(r,0,h);
                revolution b=revolution(q,Z);
                draw(surface(b),white+opacity(0.5),render);

                draw((-r-1,0,0)--(r+1,0,0));
                draw((0,0,0)--(0,0,h+1),dashed);

                path3 w=(x1,0,s1)--(x2,0,s2)--(0,0,s2);
                revolution b=revolution(w,Z);
                draw(surface(b),blue+opacity(0.5),render);
                draw(circle((0,0,s2),x2));
                draw(circle((0,0,s1),x1));

                draw("$x$",(xr,0,0)--(xr,0,sr),red,Arrow3,PenMargin3);
                draw("$r$",(0,0,sr)--(xr,0,sr),N,red);
                draw((string) r,(0,0,h)--(r,0,h),N,red);
                draw((string) h,(r,0,0)--(r,0,h),red,Arrow3,PenMargin3);
                draw((string) s,(-x,0,0)--(-x,0,s),W,red,Arrow3,Bar3,PenMargin3);
                &lt;/asymptote&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;These 3D images in HTML output are rotable with a pointing device (mouse, trackpad) with a click-and-drag.  A finger should suffice on touch-sensitive devices (phones, tablets).  Zooming in and out can be accomplished with a mouse wheel, or by pinching.  As a contribution to the accessibility of &lt;pretext/&gt; HTML output, keyboard controls will also allow for exploration of these images.  (Make sure the image has focus when you attempt to use these.)&lt;/p&gt;

        &lt;!-- More possible keyboard shortcuts are at Section 8.29, page 136 --&gt;
        &lt;!-- https://asymptote.sourceforge.io/asymptote.pdf                 --&gt;
        &lt;!-- Not all seem to be implented, so review/test carefully         --&gt;

        &lt;table&gt;
            &lt;title&gt;3D Image Keyboard Controls&lt;/title&gt;
            &lt;tabular&gt;
                &lt;row bottom="medium"&gt;&lt;cell&gt;Key&lt;/cell&gt;&lt;cell&gt;Action&lt;/cell&gt;&lt;/row&gt;
                &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;x&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;x&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
                &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;y&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;y&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
                &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;z&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;z&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
                &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;+&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Enlarge image&lt;/cell&gt;&lt;/row&gt;
                &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;-&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Shrink image&lt;/cell&gt;&lt;/row&gt;
                &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;h&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Return to home position&lt;/cell&gt;&lt;/row&gt;
            &lt;/tabular&gt;
        &lt;/table&gt;

        &lt;p&gt;And finally, an example of a 3-D graph (from the Asymptote documentation again).  This WebGL image is a beautiful example of a Riemann surface.  As you rotate the image, notice how the reflection of the light source varies, along with the brightness of various regions of the surface.  This example is accomplished with just 10 lines of Asymptote code.&lt;/p&gt;

        &lt;!-- http://asymptote.sourceforge.net/gallery/3D%20graphs/filesurface.asy --&gt;
        &lt;!-- Projection point adjusted by Michael Doob --&gt;

        &lt;figure xml:id="figure-asymptote-surface"&gt;
            &lt;caption&gt;Asymptote 3-D Surface&lt;/caption&gt;
            &lt;image xml:id="asymptote-surface" width="40%"&gt;
                &lt;asymptote&gt;
                // Riemann surface of z^{1/n}
                import graph3;
                import palette;

                int n=3;

                size(200,300,keepAspect=false);

                currentprojection=orthographic(10,10,5);
                currentlight=(10,10,5);
                triple f(pair t) {return (t.x*cos(t.y),t.x*sin(t.y),t.x^(1/n)*sin(t.y/n));}

                surface s=surface(f,(0,0),(1,2pi*n),8,16,Spline);
                s.colors(palette(s.map(zpart),Rainbow()));

                draw(s,meshpen=black,render(merge=true));
                &lt;/asymptote&gt;
            &lt;/image&gt;
        &lt;/figure&gt;
    &lt;/subsection&gt;

    &lt;subsection xml:id="graphics-mermaid"&gt;
        &lt;title&gt;Mermaid Diagrams&lt;/title&gt;
        &lt;idx&gt;&lt;h&gt;Mermaid diagrams&lt;/h&gt;&lt;/idx&gt;

        &lt;p&gt;&lt;url href="https://mermaid.js.org/" visual="mermaid.js.org"&gt;Mermaid&lt;/url&gt; is a Markdown-inspired tool for authoring various kinds of diagrams. Below, three of the available diagram types are demonstrated. For a full listing of diagram types, see the &lt;url href="https://mermaid.js.org/intro/#diagram-types"&gt;Mermaid Documentation&lt;/url&gt;. The &lt;url href="https://mermaid.live/" visual="mermaid.live"&gt;Mermaid live editor&lt;/url&gt;is a great tool for testing the syntax of your mermaid diagrams.&lt;/p&gt;

        &lt;p&gt;In PreTeXt, you can specify a Mermaid theme via &lt;attr&gt;common/mermaid/@theme&lt;/attr&gt;&lt;/p&gt;

        &lt;figure xml:id="figure-mermaid-git"&gt;
            &lt;caption&gt;Mermaid Git Diagram&lt;/caption&gt;
            &lt;image xml:id="mermaid-git-image"&gt;
                &lt;shortdescription&gt;
                    A git diagram in Mermaid
                &lt;/shortdescription&gt;
                &lt;mermaid&gt;
                    ---
                    title: Example Git diagram
                    ---
                    gitGraph
                        commit
                        commit
                        branch develop
                        checkout develop
                        commit
                        commit
                        checkout main
                        merge develop
                        commit
                        commit
                &lt;/mermaid&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;figure xml:id="figure-mermaid-class"&gt;
            &lt;caption&gt;Mermaid Class Diagram&lt;/caption&gt;
            &lt;image xml:id="mermaid-class-image"&gt;
                &lt;shortdescription&gt;
                    A class diagram in Mermaid
                &lt;/shortdescription&gt;
                &lt;mermaid&gt;
                classDiagram
                    Animal &amp;lt;|-- Duck
                    Animal &amp;lt;-- Fish
                    Animal &amp;lt;|-- Zebra
                    Animal : +int age
                    Animal : +String gender
                    Animal: +isMammal()
                    Animal: +mate()
                    class Duck{
                      +String beakColor
                      +swim()
                      +quack()
                    }
                    class Fish{
                      -int sizeInFeet
                      -canEat()
                    }
                    class Zebra{
                      +bool is_wild
                      +run()
                    }
                &lt;/mermaid&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;figure xml:id="figure-mermaid-sequence"&gt;
            &lt;caption&gt;Mermaid Seuqnece Diagram&lt;/caption&gt;
            &lt;image xml:id="mermaid-sequence-image"&gt;
                &lt;shortdescription&gt;
                    A sequence diagram in Mermaid
                &lt;/shortdescription&gt;
                &lt;mermaid&gt;
                sequenceDiagram
                    participant Alice
                    participant Bob
                    Alice-&amp;gt;&amp;gt;John: Hello John, how are you?
                    loop HealthCheck
                        John-&amp;gt;&amp;gt;John: Fight against hypochondria
                    end
                    Note right of John: Rational thoughts &amp;lt;br/&amp;gt;prevail!
                    John--&amp;gt;&amp;gt;Alice: Great!
                    John-&amp;gt;&amp;gt;Bob: How about you?
                    Bob--&amp;gt;&amp;gt;John: Jolly good!
                &lt;/mermaid&gt;
            &lt;/image&gt;
        &lt;/figure&gt;
    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;Sage Plots&lt;/title&gt;
        &lt;idx&gt;&lt;h&gt;Sage plots&lt;/h&gt;&lt;/idx&gt;

        &lt;p&gt;Any of the numerous capabilities of Sage may be used to produce any graphics object, be it the simple graph of a single-variable function or some realization of a more complicated object.  All of the usual rules about formatting Sage code (esp. indentation) apply, along with one more caveat.  The last line of your Sage code &lt;alert&gt;must&lt;/alert&gt; return a Sage &lt;c&gt;Graphics&lt;/c&gt; object (or 3D plot).  The &lt;c&gt;pretext&lt;/c&gt; script will isolate this last line, use it as the RHS of an assignment statement, and the Sage &lt;c&gt;.save()&lt;/c&gt; method will be called to generate the image, which is either a Portable Document Format (PDF) file amenable to &lt;latex/&gt; output, or a Scalable Vector Graphics (SVG) file amenable to HTML output.  For visualizations of 3D plots, Sage will only produce Portable Network Graphics (PNG) files, which can be included in HTML pages or &lt;latex/&gt; output.  For complete documentation, see the &lt;pretext/&gt; Guide as this subsection is not comprehensive.&lt;/p&gt;

        &lt;figure xml:id="figure-sage-parabola"&gt;
            &lt;caption&gt;A Sage standard parabola, on &lt;m&gt;[-2,4]&lt;/m&gt;&lt;/caption&gt;
            &lt;image xml:id="sageplot-parabola" width="50%"&gt;
                &lt;shortdescription&gt;a standard parabola on the interval [-2,4]&lt;/shortdescription&gt;
                &lt;sageplot&gt;
                f(x) = x^2
                plot(f, (x, -2, 4), color='green', thickness=3)
                &lt;/sageplot&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;Pay careful attention to the requirement that the last line of your code be a graphics object.  In particular, while &lt;c&gt;show()&lt;/c&gt; might appear to do the right thing, it evaluates to Python's &lt;c&gt;None&lt;/c&gt; object and that is just what you will get.  The code for Figure&lt;nbsp/&gt;&lt;xref ref="figure-sage-double-plot"/&gt; illustrates creating two graphics objects and combining them into an expression on the last line that evaluates to a graphics object.&lt;/p&gt;

        &lt;figure xml:id="figure-sage-double-plot"&gt;
            &lt;caption&gt;Two Sage plots on one set of axes&lt;/caption&gt;
            &lt;image xml:id="sageplot-updown" width="45%"&gt;
                &lt;sageplot&gt;
                f(x) = x^4
                g(x) = -x^4
                up = plot(f, (x, -1.5, 1.5), color='blue', thickness=2)
                down = plot(g, (x, -1.5, 1.5), color='red', thickness=2)
                up + down
                &lt;/sageplot&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;Sage code comprised of just a single line was once mishandled, leading to &lt;em&gt;no ouput&lt;/em&gt;.  From Jean-Sébastien Turcotte we have the example that revealed the problem.&lt;/p&gt;

        &lt;figure xml:id="figure-sage-exosagevec1"&gt;
            &lt;caption&gt;Les vecteurs &lt;m&gt;\vec{u}&lt;/m&gt; et &lt;m&gt;\vec{v}&lt;/m&gt;&lt;/caption&gt;
            &lt;image width="25%" xml:id="sageplot-exosagevec1"&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        Les vecteurs &lt;m&gt;\vec{u}&lt;/m&gt; et &lt;m&gt;\vec{v}&lt;/m&gt;sont tracés tel que demandé,
                        respectivement en rouge et en bleu.
                    &lt;/p&gt;
                &lt;/description&gt;
                &lt;sageplot&gt;
                plot(vector([-1,2]),color='red')+plot(vector([2,1]),color='blue')
                &lt;/sageplot&gt;
            &lt;/image&gt;
        &lt;/figure&gt;

        &lt;p&gt;The following examples are from the &lt;url href="http://www.sagemath.org/tour-graphics.html" visual="www.sagemath.org/tour-graphics.html"&gt;Sage Tour&lt;/url&gt;.  We package them into a &lt;c&gt;sidebyside&lt;/c&gt; layout element, see &lt;xref ref="section-side-by-side" text="type-global"/&gt;.&lt;/p&gt;

        &lt;sidebyside width="40%" margins="auto"&gt;
            &lt;!-- Tour example modified: figsize moved from show() into plot() --&gt;
            &lt;!-- 2020-11-18: converted an xrange() to an srange() --&gt;
            &lt;figure xml:id="figure-sage-multigraph"&gt;
                &lt;caption&gt;A Sage multigraph of a sentence&lt;/caption&gt;
                &lt;image xml:id="sageplot-sentence-multigraph"&gt;
                    &lt;sageplot&gt;
                    stnc = 'I am a cool multiedge graph with loops'
                    g = DiGraph({}, loops=True, multiedges=True)
                    for a,b in [(stnc[i], stnc[i+1]) for i in srange(len(stnc)-1)]:
                       g.add_edge(a, b, b)
                    g.plot(color_by_label=True, edge_style='solid', figsize=(8,8))
                    &lt;/sageplot&gt;
                &lt;/image&gt;
            &lt;/figure&gt;
            &lt;!--  --&gt;
            &lt;!-- Tour example modified: now using R.lagrange_polynomial() --&gt;
            &lt;!-- Tour example modified: dropped ymin/ymax, figsize --&gt;
            &lt;figure xml:id="figure-sage-polynomial-approximation"&gt;
                &lt;caption&gt;Sage polynomial approximations of &lt;m&gt;f(x)=1/(1+25x^2)&lt;/m&gt;&lt;/caption&gt;
                &lt;image xml:id="sageplot-polynomial-approximation"&gt;
                    &lt;!-- default variant is 2d, just testing here --&gt;
                    &lt;sageplot variant="2d"&gt;
                    def f(x):
                       return RDF(1 / (1 + 25 * x^2))

                    def runge():
                        R = PolynomialRing(RDF, 'x')
                        g = plot(f, -1, 1, rgbcolor='red', thickness=1)
                        polynom = []
                        for i, n in enumerate([6, 8, 10, 12]):
                          data = [(x, f(x)) for x in xsrange(-1, 1, 2 / (n - 1), include_endpoint=True)]
                          polynom.append(R.lagrange_polynomial(data))
                          g += list_plot(data, rgbcolor='black', pointsize=5)
                        g += plot(polynom, -1, 1, fill=f, fillalpha=0.2, thickness=0)
                        return g

                    runge()
                    &lt;/sageplot&gt;
                &lt;/image&gt;
            &lt;/figure&gt;
        &lt;/sidebyside&gt;

        &lt;p&gt;From the Sage documentation, with slight modifications, credited to Douglas Summers-Stay.  A plot of the implicity defined surface &lt;me&gt;2 = \cos(x + ty) + \cos(x - ty) + \cos(y + tz) + \cos(y - tz) + \cos(z - tx) + \cos(z + tx)&lt;/me&gt; in rectangular &lt;m&gt;xyz&lt;/m&gt; coordinates, with &lt;m&gt;t&lt;/m&gt; equal to the golden ratio.  If you set &lt;c&gt;plot_points=100&lt;/c&gt; in the Sage code, you will get a very smooth rendering, but also a quite large &lt;init&gt;HTML&lt;/init&gt; file.  We have used &lt;c&gt;plot_points=50&lt;/c&gt; to reduce the file size by a factor of four.  Note the need for a value of &lt;c&gt;3d&lt;/c&gt; for the &lt;attr&gt;variant&lt;/attr&gt; attribute, and an explicit aspect ratio with &lt;attr&gt;aspect&lt;/attr&gt;.  Arrow keys, a mouse scroll wheel, plus grabbing with a left or a right mouse button, can be used to manipulate the image.&lt;/p&gt;

        &lt;figure xml:id="figure-sage-implicit-surface"&gt;
            &lt;caption&gt;A Sage implicitly defined 3D surface&lt;/caption&gt;
            &lt;image xml:id="sageplot-implicit-surface" width="80%" margins="15% 5%"&gt;
                &lt;sageplot variant="3d" aspect="1.0"&gt;
                var('x y z')
                T = RDF(golden_ratio)
                p = 2 - (cos(x + T*y) + cos(x - T*y) + cos(y + T*z) + cos(y - T*z) + cos(z - T*x) + cos(z + T*x))
                r = 4.77
                implicit_plot3d(p, (x, -r, r), (y, -r, r), (z, -r, r), plot_points=50, frame=False)
                &lt;/sageplot&gt;
            &lt;/image&gt;
        &lt;/figure&gt;
    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;Inkscape Images&lt;/title&gt;

        &lt;p&gt;&lt;url href="https://inkscape.org/" visual="inkscape.org"&gt;Inkscape&lt;/url&gt; is a great tool for creating images.  It ticks all the boxes: open source, mature, cross-platform, standards-compliant.  Read much more about it in The &lt;pretext/&gt; Guide.  In &lt;init&gt;HTML&lt;/init&gt; output the two images below are both in &lt;init&gt;SVG&lt;/init&gt; format.  The first is &lt;q&gt;pure&lt;/q&gt; SVG, while the second has embedded information that makes it easier to edit in Inkscape.  You could view the source for this page in the &lt;init&gt;HTML&lt;/init&gt; version, deduce the filename of the second image, download it, and manipulate it profitably with Inkscape.  Both files are quite small, but the first is half the size of the second.  In &lt;init&gt;PDF&lt;/init&gt; the two images come from files that are identical, so nothing is being tested.  The &lt;init&gt;PDF&lt;/init&gt; version is smaller still.&lt;/p&gt;

        &lt;figure&gt;
            &lt;caption&gt;Inkscape Stars, Plain SVG (left), Inkscape SVG (right), from Bethany Llewellyn&lt;/caption&gt;
            &lt;sidebyside width="25%"&gt;
                &lt;image source="images/inkscape-stars-plain"/&gt;
                &lt;image source="images/inkscape-stars-native"/&gt;
            &lt;/sidebyside&gt;
        &lt;/figure&gt;

    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;Copies of Images&lt;/title&gt;

        &lt;p&gt;Sometimes you want to use the same image more than once.  Here we just point to a &lt;init&gt;PNG&lt;/init&gt; file that we repeat often throughout this sample.&lt;/p&gt;

        &lt;figure xml:id="figure-raster-image-copy"&gt;
            &lt;caption&gt;Copy of raster image, in a figure, so now numbered and captioned&lt;/caption&gt;
            &lt;image source="images/cross-square.png" width="30%"/&gt;
        &lt;/figure&gt;

        &lt;p&gt;For images described by code, such as TikZ code in a &lt;tag&gt;latex-image&lt;/tag&gt; element, this is a bit subtler.  See the &lt;pretext/&gt; Guide for a complete description.  We also demonstrate this with the sample book, since it is all set up with the &lt;c&gt;xinclude&lt;/c&gt; mechanism.  See the two plots of the 8-th roots of unity in the complex numbers section of the chapter on cyclic groups.&lt;/p&gt;
    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;Caption Testing&lt;/title&gt;

        &lt;p&gt;A caption could be as substantial as a paragraph, here we test out one such example.&lt;/p&gt;

        &lt;figure xml:id="figure-long-caption"&gt;
            &lt;caption&gt;A caption can be a whole paragraph with lots of technical details, and maybe a hyperlink to something external, such as &lt;url href="https://pretextbook.org" visual="pretextbook.org"/&gt; or &lt;url href="https://pretextbook.org" visual="pretextbook.org"&gt;&lt;pretext/&gt;&lt;/url&gt;.  There could be some inline mathematics, such as &lt;m&gt;x^2 + y^2 = c^2&lt;/m&gt;.  Would a knowl open here?  Recursively?  Let's see: &lt;xref ref="figure-long-caption"/&gt;.  Display mathematics, side-by-sides, theorems, and lots of other things should be banned.  Footnotes sound like a bad idea.  Strange characters should be fine: &lt;section-mark/&gt;.&lt;/caption&gt;

            &lt;image source="images/cross-square.png" width="20%"/&gt;
        &lt;/figure&gt;
    &lt;/subsection&gt;

    &lt;subsection xml:id="captionless-images"&gt;
        &lt;title&gt;Captionless Images&lt;/title&gt;

        &lt;p&gt;We strongly suggest placing images within a &lt;tag&gt;figure&lt;/tag&gt;, as we have done above, so that you can reference them, and use the (required) &lt;tag&gt;caption&lt;/tag&gt; to explain what they are.  However there are places, such as a &lt;tag&gt;preface&lt;/tag&gt;, where numbered items are not permitted.  So you might want a solo image there.  Or maybe graphics are an illustration of sorts, and a numbered figure feels like overkill.  Or it is part of an &lt;tag&gt;exercise&lt;/tag&gt; or &lt;tag&gt;proof&lt;/tag&gt; of a &lt;tag&gt;theorem&lt;/tag&gt;. But notice that you cannot then use this image as the target of a cross-reference, so you may need to refer to some enclosing container.&lt;/p&gt;

        &lt;p&gt;The image can be scaled by specifying the &lt;attr&gt;width&lt;/attr&gt; as a percentage, including the percent-sign (%).  The height is scaled to preserve the aspect ratio.  There is no facility to change the height, it is your responsibility to manage the aspect ratio independently.  The &lt;attr&gt;margins&lt;/attr&gt; can be given as a pair of percentages, separated by a space.  The &lt;attr&gt;width&lt;/attr&gt; defaults to 100%, while &lt;attr&gt;margins&lt;/attr&gt; defaults to the value &lt;c&gt;auto&lt;/c&gt;, which will center the image.  Missing values are computed sensibly, and there is robust error-checking.  The layout control here is a subset of what is available for the more elaborate &lt;tag&gt;sidebyside&lt;/tag&gt; element, see &lt;xref ref="section-side-by-side" text="type-global"/&gt;.&lt;/p&gt;

        &lt;p&gt;Two simple examples. The first has width &lt;c&gt;10%&lt;/c&gt; and so defaults to being centered, and the second has width &lt;c&gt;10%&lt;/c&gt; and left margin of &lt;c&gt;25%&lt;/c&gt;.&lt;/p&gt;

        &lt;image source="images/cross-square.png" width="10%"/&gt;

        &lt;p&gt;A paragraph, just to show where the first stops and the second ends.&lt;/p&gt;

        &lt;image source="images/cross-square.png" width="10%" margins="25% 65%"/&gt;

        &lt;p&gt;You might wish to place a single image flush-left, or flush-right.  You can specify the &lt;c&gt;margins&lt;/c&gt; attribute as a pair of percentages for different left and right margins.  The following are laid out with two margins, with a 0% left margin and right margin (respectively). &lt;/p&gt;

        &lt;image source="images/cross-square.png" width="10%" margins="0% 90%"/&gt;

        &lt;image source="images/cross-square.png" width="10%" margins="90% 0%"/&gt;

        &lt;p&gt;We place two images right above one another, to test spacing of consecutive images (provided they stay on the same page!).&lt;/p&gt;

        &lt;image source="images/cross-square.png" width="10%" margins="10% 80%"/&gt;

        &lt;image source="images/cross-square.png" width="10%" margins="10% 80%"/&gt;

        &lt;paragraphs&gt;
            &lt;title&gt;Testing (2019-06-02)&lt;/title&gt;

            &lt;p&gt;All the images above are specified by filenames.  We need to test how various options behave when incorporated into the (new) implementation for images, being introduced with solo images.&lt;/p&gt;

            &lt;p&gt;A &lt;c&gt;tikz&lt;/c&gt; image recycled from above, now 40% width, with 40% left margin, 20% right margin.&lt;/p&gt;

            &lt;image xml:id="tikz-cone-solo" width="40%" margins="40% 20%"&gt;
                &lt;latex-image&gt;
                &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
                \begin{tikzpicture}[join=round]
                \tikzstyle{conefill} = [fill=blue!20,fill opacity=0.8]
                \tikzstyle{ann} = [fill=white,font=\footnotesize,inner sep=1pt]
                \tikzstyle{ghostfill} = [fill=white]
                     \tikzstyle{ghostdraw} = [draw=black!50]
                \filldraw[conefill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                    --(-.183,2.067)--cycle;
                \filldraw[conefill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                    --(.516,2.016)--cycle;
                \filldraw[conefill](.516,2.016)--(.775,.424)--(1.369,.1)
                                    --(.913,1.8)--cycle;
                \filldraw[conefill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                    --(-.775,1.922)--cycle;
                \draw(1.461,.107)--(1.734,.127);
                \draw[arrows=&amp;lt;-&amp;gt;](1.643,1.853)--(1.643,.12);
                \filldraw[conefill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                    --(.775,1.545)--cycle;
                \draw[arrows=-&amp;gt;,line width=.4pt](.274,-.5)--(0,0)--(0,2.86);
                \draw[arrows=-,line width=.4pt](0,0)--(-1.369,-.1);
                \draw[arrows=-&amp;gt;,line width=.4pt](-1.369,-.1)--(-2.1,-.153);
                \filldraw[conefill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                    --(-.913,1.667)--cycle;
                \draw(-1.369,.073)--(-1.369,2.76);
                \draw(1.004,1.807)--(1.734,1.86);
                \filldraw[conefill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                    --(.183,1.4)--cycle;
                \draw[arrows=&amp;lt;-&amp;gt;](0,2.34)--(-.913,2.273);
                \draw(-.913,1.84)--(-.913,2.447);
                \draw[arrows=&amp;lt;-&amp;gt;](0,2.687)--(-1.369,2.587);
                \filldraw[conefill](.183,1.4)--(.274,-.5)--(-.775,-.424)
                                    --(-.516,1.45)--cycle;
                \draw[arrows=&amp;lt;-,line width=.4pt](.42,-.767)--(.274,-.5);
                \node[ann] at (-.456,2.307) {$r_0$};
                \node[ann] at (-.685,2.637) {$r_1$};
                \node[ann] at (1.643,.987) {$h$};
                \path (.42,-.767) node[below] {$x$}
                    (0,2.86) node[above] {$y$}
                    (-2.1,-.153) node[left] {$z$};
                % Second version of the cone
                \begin{scope}[xshift=3.5cm]
                \filldraw[ghostdraw,ghostfill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                               --(-.183,2.067)--cycle;
                \filldraw[ghostdraw,ghostfill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                               --(.516,2.016)--cycle;
                \filldraw[ghostdraw,ghostfill](.516,2.016)--(.775,.424)--(1.369,.1)
                                               --(.913,1.8)--cycle;
                \filldraw[ghostdraw,ghostfill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                               --(-.775,1.922)--cycle;
                \filldraw[ghostdraw,ghostfill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                               --(.775,1.545)--cycle;
                \filldraw[ghostdraw,ghostfill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                               --(-.913,1.667)--cycle;
                \filldraw[ghostdraw,ghostfill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                               --(.183,1.4)--cycle;
                \filldraw[fill=red,fill opacity=0.5](-.516,1.45)--(-.775,-.424)--(.274,-.5)
                                                     --(.183,1.4)--cycle;
                \fill(-.775,-.424) circle (2pt);
                \fill(.274,-.5) circle (2pt);
                \fill(-.516,1.45) circle (2pt);
                \fill(.183,1.4) circle (2pt);
                \path[font=\footnotesize]
                        (.913,1.8) node[right] {$i\hbox{$=$}0$}
                        (1.369,.1) node[right] {$i\hbox{$=$}1$};
                \path[font=\footnotesize]
                        (-.645,.513) node[left] {$j$}
                        (.228,.45) node[right] {$j\hbox{$+$}1$};
                \draw (-.209,.482)+(-60:.25) [yscale=1.3,-&amp;gt;] arc(-60:240:.25);
                \fill[black,font=\footnotesize]
                                (-.516,1.45) node [above] {$P_{00}$}
                                (-.775,-.424) node [below] {$P_{10}$}
                                (.183,1.4) node [above] {$P_{01}$}
                                (.274,-.5) node [below] {$P_{11}$};
                \end{scope}
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;

            &lt;p&gt;A &lt;c&gt;pgfplot&lt;/c&gt; image recycled from above, now 20% width, with 40% left margin, 40% right margin, and no longer legible.&lt;/p&gt;

            &lt;image xml:id="pgfplots-data-demo-solo" width="20%" margins="40% 40%"&gt;
                &lt;latex-image&gt;
                &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
                
                \begin{tikzpicture}
                \begin{axis}[
                    xmin=0,xmax=100,ymin=-20,ymax=100,
                    ytick={-20,0,...,100},
                    xlabel={time (ms)},
                    ylabel={potential (V)},
                ]
                \addplot[blue] table {data/dataplot/hodgkin-huxley-data.dat};
                \end{axis}
                \end{tikzpicture}
                &lt;/latex-image&gt;
            &lt;/image&gt;


            &lt;p&gt;An Asymptote image, with zero layout control, so 100% width.&lt;/p&gt;

            &lt;image xml:id="asymptote-lever-solo"&gt;
                &lt;shortdescription&gt;moments on a lever&lt;/shortdescription&gt;
                &lt;asymptote&gt;
                // The next comment was seen in the wild, and the angle brackets
                // are non-ASCII Unicode characters, which was disrupting communication
                // with the Asymptote server, so we include the comment here for testing.
                // The actual comment is immaterial for the lever diagram.
                //
                // The path is an elliptical helix ⟨ cos t, 2sin t, t/pi ⟩.
                //
                size(200,0);

                pair z0=(0,0);
                pair z1=(2,0);
                pair z2=(5,0);
                pair zf=z1+0.75*(z2-z1);

                draw(z1--z2);
                dot(z1,red+0.15cm);
                dot(z2,darkgreen+0.3cm);
                label("$m$",z1,1.2N,red);
                label("$M$",z2,1.5N,darkgreen);
                label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

                pair s=-0.2*I;
                draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

                s=-0.5*I;
                draw("$\bar{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

                s=-0.95*I;
                draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
                &lt;/asymptote&gt;
            &lt;/image&gt;

            &lt;p&gt;A Sage example, pushed to the right margin.&lt;/p&gt;

            &lt;image xml:id="sageplot-parabola-solo" width="30%" margins="70% 0%"&gt;
                &lt;shortdescription&gt;a standard parabola on the interval [-2,4]&lt;/shortdescription&gt;
                &lt;sageplot&gt;
                f(x) = x^2
                plot(f, (x, -2, 4), color='green', thickness=3)
                &lt;/sageplot&gt;
            &lt;/image&gt;
        &lt;/paragraphs&gt;
    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;Technical Details&lt;/title&gt;

        &lt;p&gt;The table below is a summary of how graphics and images are specified, constructed and manipulated.  Additional processing is indicated by reference to the Python script &lt;c&gt;pretext&lt;/c&gt;.  Images need to be placed relative to the &lt;latex/&gt; file that includes them during compilation, and placed relative to the &lt;init&gt;HTML&lt;/init&gt; files which reference/include them.  Author-provided image files may be placed in any subdirectory, and the &lt;c&gt;@source&lt;/c&gt; attribute should include the complete relative path with the subdirectory.  Files generated by the &lt;c&gt;pretext&lt;/c&gt; script will be specified in the output using the relative directory &lt;c&gt;images&lt;/c&gt;, which can be changed.  There is no reason author-provided files cannot also be placed in this same directory (presuming no duplicate names). [This table is presently more readable in HTML, the PDF version will improve.]&lt;/p&gt;

        &lt;tabular top="medium" bottom="minor"&gt;
            &lt;row bottom="medium"&gt;
                &lt;cell&gt;Element&lt;/cell&gt;
                &lt;cell&gt;Specification&lt;/cell&gt;
                &lt;cell&gt;&lt;latex/&gt;/Print&lt;/cell&gt;
                &lt;cell&gt;HTML&lt;/cell&gt;
                &lt;cell&gt;Notes&lt;/cell&gt;
            &lt;/row&gt;

            &lt;row&gt;
                &lt;cell&gt;&lt;c&gt;image/@source&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;full relative path, w/ extension&lt;/cell&gt;
                &lt;cell&gt;directly included&lt;/cell&gt;
                &lt;cell&gt;directly included&lt;/cell&gt;
                &lt;cell&gt;author-provided &lt;init&gt;PNG&lt;/init&gt;, &lt;init&gt;JPEG&lt;/init&gt;&lt;/cell&gt;
            &lt;/row&gt;

            &lt;row&gt;
                &lt;cell&gt;&lt;c&gt;image/@source&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;full relative path, w/o extension&lt;/cell&gt;
                &lt;cell&gt;presumes &lt;init&gt;PDF&lt;/init&gt;&lt;/cell&gt;
                &lt;cell&gt;presumes &lt;init&gt;SVG&lt;/init&gt;&lt;/cell&gt;
                &lt;cell&gt;author-provided&lt;/cell&gt;
            &lt;/row&gt;

            &lt;row&gt;
                &lt;cell&gt;&lt;c&gt;image/latex-image-code&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;&lt;latex/&gt;-compatible source&lt;/cell&gt;
                &lt;cell&gt;directly included&lt;/cell&gt;
                &lt;cell&gt;&lt;init&gt;SVG&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;&lt;eg/&gt; tikz, pgfplots, xypic&lt;/cell&gt;
            &lt;/row&gt;

            &lt;row&gt;
                &lt;cell&gt;&lt;c&gt;image/sageplot&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;Sage code&lt;/cell&gt;
                &lt;cell&gt;&lt;init&gt;PDF&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;&lt;init&gt;SVG&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;&lt;init&gt;PNG&lt;/init&gt; for 3-D&lt;/cell&gt;
            &lt;/row&gt;

            &lt;row&gt;
                &lt;cell&gt;&lt;c&gt;image/asymptote&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;Asymptote code&lt;/cell&gt;
                &lt;cell&gt;&lt;init&gt;PDF&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
                &lt;cell&gt;&lt;init&gt;SVG&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
                &lt;cell/&gt;
            &lt;/row&gt;
        &lt;/tabular&gt;

        &lt;p&gt;In the early stages of a writing project, it may be best not to track provisional image files built with &lt;c&gt;pretext&lt;/c&gt; under version control, and just regenerate them periodically (see the &lt;c&gt;-r&lt;/c&gt; option for &lt;c&gt;pretext&lt;/c&gt;).  As a project matures, then it makes sense to put stable files under version control for collaborators and others.  In every case, managing graphics files (and other aspects of production), is much more pleasurable with a script (shell, Makefile, etc.)&lt;/p&gt;
    &lt;/subsection&gt;

    &lt;subsection&gt;
        &lt;title&gt;Accessibility&lt;/title&gt;
        &lt;p&gt;
            An &lt;tag&gt;image&lt;/tag&gt; should either have a non-empty &lt;tag&gt;description&lt;/tag&gt;,
            a non-empty &lt;tag&gt;shortdescription&lt;/tag&gt;, or set &lt;attr&gt;decorative&lt;/attr&gt; to the
            value &lt;c&gt;yes&lt;/c&gt;. Some of the following images comply, and some do not.  There's
            not really anything to see here visually, this is testing notifications made
            elsewhere.
        &lt;/p&gt;

        &lt;sbsgroup width="20%"&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;No description, no shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"/&gt;
                &lt;p&gt;No description, no shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"/&gt;
            &lt;/sidebyside&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;No description, empty shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"&gt;
                    &lt;shortdescription/&gt;
                &lt;/image&gt;
                &lt;p&gt;No description, empty shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"&gt;
                    &lt;shortdescription/&gt;
                &lt;/image&gt;
            &lt;/sidebyside&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;No description, too long shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"&gt;
                    &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
                &lt;/image&gt;
                &lt;p&gt;No description, too long shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"&gt;
                    &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
                &lt;/image&gt;
            &lt;/sidebyside&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;No description, good shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"&gt;
                    &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
                &lt;/image&gt;
                &lt;p&gt;No description, good shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"&gt;
                    &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
                &lt;/image&gt;
            &lt;/sidebyside&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;Description, no shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
                &lt;p&gt;Description, no shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
            &lt;/sidebyside&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;Description, empty shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"&gt;
                    &lt;shortdescription/&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
                &lt;p&gt;Description, empty shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"&gt;
                    &lt;shortdescription/&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
            &lt;/sidebyside&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;Description, too long shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"&gt;
                    &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
                &lt;p&gt;Description, too long shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"&gt;
                    &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
            &lt;/sidebyside&gt;
            &lt;sidebyside&gt;
                &lt;p&gt;Description, good shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png"&gt;
                    &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
                &lt;p&gt;Description, good shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
                &lt;image source="images/cross-square.png" decorative="yes"&gt;
                    &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
                    &lt;description&gt;
                        &lt;p&gt;
                            A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                        &lt;/p&gt;
                    &lt;/description&gt;
                &lt;/image&gt;
            &lt;/sidebyside&gt;
        &lt;/sbsgroup&gt;
    &lt;/subsection&gt;
&lt;/section&gt;
</code></pre></article></details><section class="introduction" id="section-graphics-2"><div class="para" id="section-graphics-2-1">In addition to including images created externally (e.g. photographs),  PreTeXt supports several languages for describing diagrams and pictures with human-readable source code (i.e. plain text), rather than using a “paint” program.  This section describes the various methods for incorporationg, or generating, graphis, images or diagrams.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></section><section class="subsection" id="section-graphics-3"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.1</span><span class="space"> </span><span class="title">Images from External Sources</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Images from External Sources&lt;/title&gt;

    &lt;p&gt;If you have raster images (photographs, etc.) then they are specified with complete filenames, as above in Figure&lt;nbsp/&gt;&lt;xref ref="figure-function-derivative"/&gt; or just below.&lt;/p&gt;

    &lt;figure&gt;
        &lt;caption&gt;New Zealand Landscape, &lt;url href="https://commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg" visual="commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg"&gt;&lt;c&gt;commons.wikimedia.org&lt;/c&gt;&lt;/url&gt;, CC-BY-SA-2.0&lt;/caption&gt;
        &lt;image source="images/nz-landscape.jpg" width="80%"/&gt;
    &lt;/figure&gt;

    &lt;p&gt;If you have existing images that are vector graphics, then PDF format works best for &lt;latex/&gt; output and SVG format works best for HTML.  The utility &lt;c&gt;pdf2svg&lt;/c&gt; works well for converting PDF to SVG.  In this case, specify your source as a filename, but leave off the file extension, and the appropriate version will be used for the current output format.&lt;/p&gt;

    &lt;p&gt;The image below is provided from a PDF file in &lt;latex/&gt; output, and was converted to an SVG for use with the HTML output.  It has been explicitly scaled to a width of 65% of the text width.&lt;/p&gt;

    &lt;figure xml:id="figure-complete-graph"&gt;
        &lt;caption&gt;Complete graph on &lt;m&gt;16&lt;/m&gt; vertices, from &lt;c&gt;www.texample.net&lt;/c&gt;&lt;/caption&gt;
        &lt;image source="images/complete-graph" width="65%"/&gt;
    &lt;/figure&gt;

    &lt;remark&gt;
        &lt;title&gt;Footnote Buried&lt;/title&gt;

        &lt;p&gt;Nested &lt;c&gt;tcolorbox&lt;/c&gt; (in &lt;latex/&gt; conversion) need special care when footnotes are interior.&lt;/p&gt;

        &lt;sidebyside margins="20% 30%"&gt;
            &lt;p&gt;A paragraph interior to a &lt;c&gt;sidebyside&lt;/c&gt; with a footnote&lt;fn&gt;Interior footnote.&lt;/fn&gt; buried inside the paragraph.&lt;/p&gt;
            &lt;p&gt;A second paragraph, just to avoid a one-panel warning.&lt;/p&gt;
        &lt;/sidebyside&gt;

        &lt;p&gt;The final paragraph of this remark, randomly placed, to test footnotes in &lt;latex/&gt; conversions.&lt;/p&gt;
    &lt;/remark&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-3-2">If you have raster images (photographs, etc.) then they are specified with complete filenames, as above in Figure <a href="section-facts-figures.html#figure-function-derivative" class="xref" data-knowl="./knowl/xref/figure-function-derivative.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 5.2">5.2</a> or just below.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-3-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="section-graphics-3-3"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure&gt;
    &lt;caption&gt;New Zealand Landscape, &lt;url href="https://commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg" visual="commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg"&gt;&lt;c&gt;commons.wikimedia.org&lt;/c&gt;&lt;/url&gt;, CC-BY-SA-2.0&lt;/caption&gt;
    &lt;image source="images/nz-landscape.jpg" width="80%"/&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;"><img src="external/images/nz-landscape.jpg" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.1<span class="period">.</span></span><span class="space"> </span>New Zealand Landscape, <a class="external" href="https://commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg" target="_blank"><code class="code-inline tex2jax_ignore">commons.wikimedia.org</code></a><details class="ptx-footnote" aria-live="polite" id="section-graphics-3-3-1-2"><summary class="ptx-footnote__number" title="Footnote 10.1"><sup> 1 </sup></summary><div class="ptx-footnote__contents" id="section-graphics-3-3-1-2"><code class="code-inline tex2jax_ignore">commons.wikimedia.org/wiki/File:NZ_Landscape_from_the_van.jpg</code></div></details>, CC-BY-SA-2.0<div class="autopermalink" data-description="Figure 10.1"><a href="#section-graphics-3-3" title="Copy heading and permalink for Figure 10.1">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-3-4">If you have existing images that are vector graphics, then PDF format works best for <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output and SVG format works best for HTML.  The utility <code class="code-inline tex2jax_ignore">pdf2svg</code> works well for converting PDF to SVG.  In this case, specify your source as a filename, but leave off the file extension, and the appropriate version will be used for the current output format.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-3-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para" id="section-graphics-3-5">The image below is provided from a PDF file in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output, and was converted to an SVG for use with the HTML output.  It has been explicitly scaled to a width of 65% of the text width.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-3-5" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-complete-graph"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-complete-graph"&gt;
    &lt;caption&gt;Complete graph on &lt;m&gt;16&lt;/m&gt; vertices, from &lt;c&gt;www.texample.net&lt;/c&gt;&lt;/caption&gt;
    &lt;image source="images/complete-graph" width="65%"/&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 65%; margin-left: 17.5%; margin-right: 17.5%;"><img src="external/images/complete-graph.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.2<span class="period">.</span></span><span class="space"> </span>Complete graph on <span class="process-math">\(16\)</span> vertices, from <code class="code-inline tex2jax_ignore">www.texample.net</code><div class="autopermalink" data-description="Figure 10.2"><a href="#figure-complete-graph" title="Copy heading and permalink for Figure 10.2">🔗</a></div></figcaption></figure><article class="remark remark-like" id="section-graphics-3-7"><h4 class="heading">
<span class="type">Remark</span><span class="space"> </span><span class="codenumber">10.3</span><span class="period">.</span><span class="space"> </span><span class="title">Footnote Buried.</span>
</h4>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for remark</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;remark&gt;
    &lt;title&gt;Footnote Buried&lt;/title&gt;

    &lt;p&gt;Nested &lt;c&gt;tcolorbox&lt;/c&gt; (in &lt;latex/&gt; conversion) need special care when footnotes are interior.&lt;/p&gt;

    &lt;sidebyside margins="20% 30%"&gt;
        &lt;p&gt;A paragraph interior to a &lt;c&gt;sidebyside&lt;/c&gt; with a footnote&lt;fn&gt;Interior footnote.&lt;/fn&gt; buried inside the paragraph.&lt;/p&gt;
        &lt;p&gt;A second paragraph, just to avoid a one-panel warning.&lt;/p&gt;
    &lt;/sidebyside&gt;

    &lt;p&gt;The final paragraph of this remark, randomly placed, to test footnotes in &lt;latex/&gt; conversions.&lt;/p&gt;
&lt;/remark&gt;
</code></pre></article></details><div class="para" id="section-graphics-3-7-2">Nested <code class="code-inline tex2jax_ignore">tcolorbox</code> (in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> conversion) need special care when footnotes are interior.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-3-7-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:20%;margin-right:30%;">
<div class="sbspanel top" style="width:50%;"><div class="para" id="section-graphics-3-7-3-1">A paragraph interior to a <code class="code-inline tex2jax_ignore">sidebyside</code> with a footnote<details class="ptx-footnote" aria-live="polite" id="section-graphics-3-7-3-1-2"><summary class="ptx-footnote__number" title="Footnote 10.2"><sup> 2 </sup></summary><div class="ptx-footnote__contents" id="section-graphics-3-7-3-1-2">Interior footnote.</div></details> buried inside the paragraph.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-3-7-3-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:50%;"><div class="para" id="section-graphics-3-7-3-2">A second paragraph, just to avoid a one-panel warning.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-3-7-3-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
</div></div>
<div class="para" id="section-graphics-3-7-4">The final paragraph of this remark, randomly placed, to test footnotes in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> conversions.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-3-7-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="autopermalink" data-description="Remark 10.3: Footnote Buried"><a href="#section-graphics-3-7" title="Copy heading and permalink for Remark 10.3: Footnote Buried">🔗</a></div></article><div class="autopermalink" data-description="Subsection 10.1: Images from External Sources"><a href="#section-graphics-3" title="Copy heading and permalink for Subsection 10.1: Images from External Sources">🔗</a></div></section><section class="subsection" id="prefigure-diagrams"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.2</span><span class="space"> </span><span class="title">PreFigure</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection xml:id="prefigure-diagrams" label="prefigure-diagrams"&gt;
    &lt;title&gt;&lt;prefigure/&gt;&lt;/title&gt;
    &lt;idx&gt;&lt;prefigure/&gt; image&lt;/idx&gt;
    &lt;idx&gt;&lt;h&gt;image&lt;/h&gt;&lt;h&gt;&lt;prefigure/&gt; image&lt;/h&gt;&lt;/idx&gt;

    &lt;p&gt;&lt;prefigure/&gt; is a standalone project for authoring mathematical diagrams (see &lt;url href="https://prefigure.org/" visual="prefigure.org"/&gt;).  Its philosophy and approach are much like that of &lt;pretext/&gt;, and &lt;prefigure/&gt; is tightly integrated into &lt;pretext/&gt;.  One key feature is excellent support for the creation of accessible output formats.&lt;/p&gt;

    &lt;p&gt;As of 2024-11-06 development continues for &lt;prefigure/&gt; itself, and fine-tuning of its integration within &lt;pretext/&gt;.  But it is usable now for projects that want to use it.&lt;ul&gt;
        &lt;li&gt;You can author &lt;prefigure/&gt; diagrams, and then generate &lt;init&gt;SVG&lt;/init&gt;, &lt;init&gt;PDF&lt;/init&gt;, and &lt;init&gt;PNG&lt;/init&gt; output versions with the &lt;c&gt;pretext/pretext&lt;/c&gt; script (see the &lt;pretext/&gt; Guide), and expect them to render in &lt;init&gt;HTML&lt;/init&gt;, &lt;init&gt;PDF&lt;/init&gt;, and &lt;init&gt;EPUB&lt;/init&gt; output formats.&lt;/li&gt;
        &lt;li&gt;Look for automatic generation to come to the &lt;pretext/&gt;-CLI sometime very soon.&lt;/li&gt;
        &lt;li&gt;&lt;prefigure/&gt; has excellent support for annotations within an &lt;init&gt;SVG&lt;/init&gt; diagram, supporting their use by screenreaders, for example.  See an example below.&lt;/li&gt;
        &lt;li&gt;Production of tactile versions is now possible, though they are not incorporated explicitly into any of the output formats.  Perhaps they will become available via archive links or as a zip archive.&lt;/li&gt;
    &lt;/ul&gt;&lt;/p&gt;

    &lt;p&gt;This is a basic &lt;prefigure/&gt; diagram, in the sense that it does not use all the features of &lt;prefigure/&gt; or &lt;pretext/&gt;.&lt;/p&gt;

    &lt;figure&gt;
        &lt;caption&gt;Solution to a differential equation&lt;/caption&gt;
        &lt;image width="60%"&gt;
            &lt;prefigure label="prefigure-diffeq" xmlns="https://prefigure.org"&gt;
                &lt;diagram dimensions="(300,300)" margins="5"&gt;
                    &lt;definition&gt;f(t,y) = (y[1], -pi*y[0]-0.3*y[1])&lt;/definition&gt;
                    &lt;coordinates bbox="[-1,-3,6,3]"&gt;
                        &lt;grid-axes xlabel="t"/&gt;
                        &lt;de-solve function="f" t0="0" t1="bbox[2]" y0="(0,2)" name="oscillator" N="200"/&gt;
                        &lt;plot-de-solution at="x" solution="oscillator" axes="(t,y0)"/&gt;
                        &lt;plot-de-solution at="xprime" solution="oscillator" axes="(t,y1)" stroke="red" tactile-dash="9 9"/&gt;
                        &lt;legend at="legend" anchor="(bbox[2], bbox[3])" alignment="sw" scale="0.9" opacity="0.5"&gt;
                            &lt;item ref="x"&gt;&lt;m&gt;x(t)&lt;/m&gt;&lt;/item&gt;
                            &lt;item ref="xprime"&gt;&lt;m&gt;x'(t)&lt;/m&gt;&lt;/item&gt;
                        &lt;/legend&gt;
                    &lt;/coordinates&gt;
                &lt;/diagram&gt;
            &lt;/prefigure&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;This next diagram employs some &lt;latex/&gt; macros that are defined in the usual way in &lt;tag&gt;docinfo&lt;/tag&gt; and are employed to produce the names of some vectors in the labels.  The blue line is colored blue by a global &lt;prefigure/&gt; declaration, also in &lt;tag&gt;docinfo&lt;/tag&gt;.&lt;/p&gt;

    &lt;image width="60%"&gt;
        &lt;prefigure label="prefigure-projection" xmlns="https://prefigure.org"&gt;
            &lt;diagram dimensions="(300,300)" margins="5"&gt;
                &lt;definition&gt;v=(2,1)&lt;/definition&gt;
                &lt;definition&gt;b=(2,4)&lt;/definition&gt;
                &lt;definition&gt;bhat=dot(v,b)/dot(v,v) * v&lt;/definition&gt;
                &lt;definition&gt;bperp = b - bhat&lt;/definition&gt;
                &lt;coordinates bbox="[-1,-1,5,5]"&gt;
                    &lt;grid-axes/&gt;
                    &lt;line endpoints="((0,0),v)" infinite="yes"/&gt;
                    &lt;label anchor="(4.4,2.5)"&gt;
                        &lt;m&gt;L&lt;/m&gt;
                    &lt;/label&gt;

                    &lt;vector v="bperp" tail="bhat" stroke="gray"/&gt;
                    &lt;label anchor="midpoint(b,bhat)" alignment="ne"&gt;
                        &lt;m&gt;\bvec^\perp&lt;/m&gt;
                    &lt;/label&gt;

                    &lt;vector v="b"/&gt;
                    &lt;label anchor="b" alignment="nw"&gt;
                        &lt;m&gt;\bvec&lt;/m&gt;
                    &lt;/label&gt;

                    &lt;vector v="bhat" stroke="red"/&gt;
                    &lt;label anchor="bhat" alignment="se"&gt;
                        &lt;m&gt;\widehat{\bvec}&lt;/m&gt;
                    &lt;/label&gt;

                    &lt;vector v="v"/&gt;
                    &lt;label anchor="v" alignment="se"&gt;
                        &lt;m&gt;\vvec&lt;/m&gt;
                    &lt;/label&gt;
                &lt;/coordinates&gt;
            &lt;/diagram&gt;
        &lt;/prefigure&gt;
    &lt;/image&gt;

    &lt;p&gt;The next &lt;prefigure/&gt; diagram is authored with annotations, arranged in a hierarchy of increasing refinement and detail.  Each identified graphical component will read its annotation and show it on the screen below the diagram.  When a reader clicks on the image, a high-level summary will be read using the author-provided annotation.  The down and up arrow keys enable a reader to explore the diagram in more or less detail while the right and left arrow keys reveal features at the same level of detail.  When the focus is on the graph, pressing "O" will produce a sonification of the graph.&lt;/p&gt;

    &lt;image width="60%"&gt;
        &lt;prefigure label="prefigure-tangent" xmlns="https://prefigure.org"&gt;
            &lt;diagram dimensions="(300,300)" margins="5"&gt;
                &lt;definition&gt;a=1&lt;/definition&gt;
                &lt;definition&gt;f(x) = exp(x/3)*cos(x)&lt;/definition&gt;
                &lt;coordinates bbox="[-4,-4,4,4]"&gt;
                    &lt;grid-axes xlabel="x" ylabel="y"/&gt;
                    &lt;graph at="graph" function="f"/&gt;
                    &lt;tangent-line at="tangent" function="f" point="a"/&gt;
                    &lt;point at="point" p="(a, f(a))"&gt;
                        &lt;m&gt;(a,f(a))&lt;/m&gt;
                    &lt;/point&gt;
                &lt;/coordinates&gt;

                &lt;annotations&gt;
                    &lt;annotation ref="figure" text="The graph of a function and its tangent line at the point a equals 1"&gt;
                        &lt;annotation ref="graph-tangent" text="The graph and its tangent line"&gt;
                            &lt;annotation ref="graph" text="The graph of the function f" sonify="yes"/&gt;
                            &lt;annotation ref="point" text="The point a comma f of a"/&gt;
                            &lt;annotation ref="tangent" text="The tangent line to the graph of f at the point"/&gt;
                        &lt;/annotation&gt;
                    &lt;/annotation&gt;
                &lt;/annotations&gt;

            &lt;/diagram&gt;
        &lt;/prefigure&gt;
    &lt;/image&gt;

    &lt;p&gt;Including annotations enables a new type of interactive diagram within a &lt;pretext/&gt; document offering potential benefits for all readers.  In particular, annotations allow an author to call the reader's attention to specific details in a diagram and how they are related to one another so that the diagram and surrounding text are more tightly integrated.  The annotated diagram below introduces Fibonacci tilings, which are one-dimensional analogs of Penrose tilings, and offers an explanation of their aperiodicity.  Of course, surrounding text would usually provide a richer context for a diagram like this.&lt;/p&gt;

    &lt;figure xml:id="figure-fibonnaci-tiling-annotated"&gt;
      &lt;caption&gt;Fibonacci tilings are one-dimensional analogs of Penrose tilings.  The diagram on the left introduces the process of deflation that is used to produce tilings while the diagram on the right explains why they are aperiodic.&lt;/caption&gt;
      &lt;sidebyside widths="30% 50%" valign="bottom" margins="0% 15%"&gt;
          &lt;image&gt;
              &lt;prefigure label="prefigure-fibonacci-a" xmlns="https://prefigure.org"&gt;

                  &lt;diagram dimensions="(200, 200)"&gt;
                      &lt;definition&gt;phi=(sqrt(5)+1)/2&lt;/definition&gt;
                      &lt;definition&gt;height=0.25&lt;/definition&gt;
                      &lt;definition&gt;top=1&lt;/definition&gt;
                      &lt;definition&gt;bottom=0&lt;/definition&gt;
                      &lt;definition&gt;left=0&lt;/definition&gt;
                      &lt;definition&gt;right=2&lt;/definition&gt;
                      &lt;definition&gt;colors={0:'blue', 1:'red'}&lt;/definition&gt;
                      &lt;definition&gt;widths={0:phi, 1:1}&lt;/definition&gt;
                      &lt;coordinates bbox="(-0.5,-1,3.5,2)"&gt;
                          &lt;transform&gt;
                              &lt;!-- Define the upper row of tiles--&gt;
                              &lt;translate by="(0,top)"/&gt;
                              &lt;!-- We put tiles and their labels into a group for annotating--&gt;
                              &lt;group at="top-L"&gt;
                                  &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                  &lt;label anchor="(widths[0]/2,height)" alignment="n"&gt;
                                      &lt;m&gt;L&lt;/m&gt;
                                  &lt;/label&gt;
                              &lt;/group&gt;
                              &lt;translate by="(right,0)"/&gt;
                              &lt;group at="top-S"&gt;
                                  &lt;rectangle lower-left="(0,0)" dimensions="(widths[1],height)" fill="${colors[1]}" stroke="black"/&gt;
                                  &lt;label anchor="(widths[1]/2, height)" alignment="n"&gt;
                                      &lt;m&gt;S&lt;/m&gt;
                                  &lt;/label&gt;
                              &lt;/group&gt;
                          &lt;/transform&gt;

                          &lt;transform&gt;
                              &lt;translate by="(0,bottom)"/&gt;
                              &lt;transform&gt;
                                  &lt;scale by="(1/phi, 1)"/&gt;
                                  &lt;group at="bottom-L"&gt;
                                      &lt;group at="bottom-LL"&gt;
                                          &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                          &lt;label anchor="(widths[0]/2,0)" alignment="south"&gt;
                                              &lt;m&gt;L&lt;/m&gt;
                                          &lt;/label&gt;
                                      &lt;/group&gt;
                                      &lt;translate by="(widths[0],0)"/&gt;
                                      &lt;group at="bottom-LS"&gt;
                                          &lt;rectangle lower-left="(0,0)" dimensions="(widths[1], height)" fill="${colors[1]}" stroke="black"/&gt;
                                          &lt;label anchor="(widths[1]/2,0)" alignment="south"&gt;
                                              &lt;m&gt;S&lt;/m&gt;
                                          &lt;/label&gt;
                                      &lt;/group&gt;
                                  &lt;/group&gt;
                              &lt;/transform&gt;

                              &lt;translate by="(right, 0)"/&gt;
                              &lt;scale by="(1/phi,1)"/&gt;
                              &lt;group at="bottom-S"&gt;
                                  &lt;group at="bottom-SL"&gt;
                                      &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                      &lt;label anchor="(widths[0]/2,0)" alignment="south"&gt;
                                          &lt;m&gt;L&lt;/m&gt;
                                      &lt;/label&gt;
                                  &lt;/group&gt;
                              &lt;/group&gt;
                          &lt;/transform&gt;

                          &lt;line at="left-arrow" endpoints="((left+phi/2, top), (left+phi/2, bottom+height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;

                          &lt;line at="right-arrow" endpoints="((right+1/2, top), (right+1/2, bottom+height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;
                      &lt;/coordinates&gt;

                      &lt;annotations&gt;
                          &lt;annotation ref="figure" text="The set of Fibonacci tiles consists of two tiles denoted by L and S."&gt;
                              &lt;annotation ref="top" text="The ratio of the lengths of the tiles is the golden ratio so one tile L is long and the other S is short"&gt;
                                  &lt;annotation ref="top-L" text="The long tile L"/&gt;
                                  &lt;annotation ref="top-S" text="The short tile S"/&gt;
                              &lt;/annotation&gt;
                              &lt;annotation ref="arrows" text="A process called deflation replaces each tile by a new set of tiles"&gt;
                                  &lt;annotation ref="left-deflate" text="A long tile is replaced by a long and a short tile"&gt;
                                      &lt;annotation ref="left-arrow"/&gt;
                                      &lt;annotation ref="top-L"/&gt;
                                      &lt;annotation ref="bottom-L" text="The length of the new tiles is scaled by the reciprocal of the golden ratio"&gt;
                                          &lt;annotation ref="bottom-LL" text="The new long tile is on the left"/&gt;
                                          &lt;annotation ref="bottom-LS" text="The new short tile is on the right"/&gt;
                                      &lt;/annotation&gt;
                                  &lt;/annotation&gt;
                                  &lt;annotation ref="right-deflate" text="A short tile is replaced by a single long tile"&gt;
                                      &lt;annotation ref="right-arrow"/&gt;
                                      &lt;annotation ref="top-S"/&gt;
                                      &lt;annotation ref="bottom-S" text="The length of the new tile is again scaled by the reciprocal of the golden ratio"/&gt;
                                  &lt;/annotation&gt;
                              &lt;/annotation&gt;
                          &lt;/annotation&gt;
                      &lt;/annotations&gt;
                  &lt;/diagram&gt;

              &lt;/prefigure&gt;
          &lt;/image&gt;
          &lt;image&gt;
              &lt;prefigure label="prefigure-fibonacci-b" xmlns="https://prefigure.org"&gt;

                  &lt;diagram dimensions="(300, 200)" margins="(30,0,30,0)"&gt;
                      &lt;definition&gt;phi=(sqrt(5)+1)/2&lt;/definition&gt;
                      &lt;definition&gt;height=0.25&lt;/definition&gt;
                      &lt;definition&gt;width=5+8*phi&lt;/definition&gt;
                      &lt;definition&gt;colors={0:'blue', 1:'red'}&lt;/definition&gt;
                      &lt;definition&gt;widths={0:phi, 1:1}&lt;/definition&gt;
                      &lt;definition&gt;tiling2=[0,1,0,0,1]&lt;/definition&gt;
                      &lt;definition&gt;tiling1=[0,1,0,0,1,0,1,0]&lt;/definition&gt;
                      &lt;definition&gt;tiling0=[0,1,0,0,1,0,1,0,0,1,0,0,1]&lt;/definition&gt;
                      &lt;definition&gt;tilings=[tiling0, tiling1, tiling2]&lt;/definition&gt;
                      &lt;coordinates bbox="(0,-0.5,width,3.5)"&gt;
                          &lt;transform&gt;
                              &lt;repeat parameter="row in tilings"&gt;
                                  &lt;label at="left-dots" anchor="(0,height/2)" alignment="w"&gt;
                                      &lt;m&gt;\ldots&lt;/m&gt;
                                  &lt;/label&gt;
                                  &lt;transform&gt;
                                      &lt;repeat at="tiling" parameter="type in row"&gt;
                                          &lt;rectangle at="tile" lower-left="(0,0)" dimensions="(widths[type], height)" fill="${colors[type]}" stroke="black"/&gt;
                                          &lt;translate by="(widths[type],0)"/&gt;
                                      &lt;/repeat&gt;
                                      &lt;label at="right-dots" anchor="(0,height/2)" alignment="e"&gt;
                                          &lt;m&gt;\ldots&lt;/m&gt;
                                      &lt;/label&gt;
                                  &lt;/transform&gt;
                                  &lt;scale by="(phi, 1)"/&gt;
                                  &lt;translate by="(0,1)"/&gt;
                              &lt;/repeat&gt;
                          &lt;/transform&gt;

                          &lt;transform&gt;
                              &lt;repeat at="down-arrows" parameter="row in tilings"&gt;
                                  &lt;line at="down-arrow" endpoints="((width/2, 1), (width/2,height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;
                                  &lt;translate by="(0,1)"/&gt;
                              &lt;/repeat&gt;
                          &lt;/transform&gt;
                          &lt;transform&gt;
                              &lt;repeat at="right-arrows" parameter="row in tilings"&gt;
                                  &lt;line at="right-arrow" endpoints="((15,-0.15), (17,-0.15))" arrows="1" stroke="black" thickness="2"/&gt;
                                  &lt;translate by="(0,1)"/&gt;
                              &lt;/repeat&gt;
                          &lt;/transform&gt;
                      &lt;/coordinates&gt;

                      &lt;annotations&gt;
                          &lt;annotation ref="figure" text="A Fibonacci tiling is a horizontal sequence of tiles obtained by deflating the tiles in another Fibonacci tiling.  We will explain why these tilings are aperiodic."&gt;
                              &lt;annotation ref="down-arrows"/&gt;
                              &lt;annotation ref="top-down-arrow"/&gt;

                              &lt;annotation ref="tiling-row=0" text="We begin with this Fibonacci tiling"/&gt;

                              &lt;annotation ref="tiling-row=1" text="Our first Fibonacci tiling is obtained by deflating this second tiling"&gt;
                                  &lt;annotation ref="down-arrow-row=0"/&gt;
                              &lt;/annotation&gt;

                              &lt;annotation ref="tiling-row=2" text="The second tiling is obtained by deflating this third tiling, so we see that there is an infinite hierarchy of tilings."&gt;
                                  &lt;annotation ref="down-arrow-row=1"/&gt;
                              &lt;/annotation&gt;

                              &lt;annotation ref="bottom-tilings" text="Beginning with one tiling, the tiling above is uniquely determined."&gt;
                                  &lt;annotation ref="tiling-row=0" text="Consider this Fibonacci tiling."/&gt;
                                  &lt;annotation ref="tiling-row=1" text="By inverting the deflation rules, we can uniquely determine the tiling above."/&gt;
                              &lt;/annotation&gt;
                              &lt;annotation ref="periodic-0" text="Suppose that a Fibonacci tiling is periodic under a horizontal translation."&gt;
                                  &lt;annotation ref="tiling-row=0" text="For example, suppose this Fibonacci tiling is periodic."/&gt;
                                  &lt;annotation ref="right-arrow-row=0" text="And that this horizontal translation leaves the tiling unchanged."/&gt;
                              &lt;/annotation&gt;
                              &lt;annotation ref="periodic-1" text="Because the inflated tiling above is unique, it must also be periodic under the same translation."&gt;
                                  &lt;annotation ref="tiling-row=1" text="This Fibonacci tiling is also periodic."/&gt;
                                  &lt;annotation ref="right-arrow-row=1" text="The same horizontal translation leaves the tiling unchanged."/&gt;
                              &lt;/annotation&gt;
                              &lt;annotation ref="periodic-2" text="Consequently, every tiling in the hierarchy is periodic by this translation.  This is not possible, which means the original tiling cannot be periodic."&gt;
                                  &lt;annotation ref="tiling-row=2" text="The size of the tiles grows exponentially as we move up in the hierarchy."/&gt;
                                  &lt;annotation ref="right-arrow-row=2" text="Eventually the tiles are longer than the translation."/&gt;
                              &lt;/annotation&gt;
                          &lt;/annotation&gt;
                      &lt;/annotations&gt;
                  &lt;/diagram&gt;

              &lt;/prefigure&gt;
          &lt;/image&gt;
        &lt;/sidebyside&gt;
    &lt;/figure&gt;

    &lt;p&gt;For sighted readers, here is an example of a tactile version of one of the above diagrams.  It is generated automatically from the same source as the other version.  Imagine this being &lt;q&gt;printed&lt;/q&gt; with an embosser so that the parts of the diagram, and the braille labels, are raised up from the paper and can be explored with one's fingertips.  This image is a &lt;init&gt;PNG&lt;/init&gt; produced specifically for this document.  Typically, a tactile diagram produced by &lt;prefigure/&gt; will be a &lt;init&gt;PDF&lt;/init&gt; ready to be sent to an appropriate embosser.  Notice that &lt;pretext/&gt; adds a caption indicating the diagram's location in the document along the top of the diagram.&lt;/p&gt;

    &lt;image source="tactile/prefigure-diffeq.png" width="70%"/&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="prefigure-diagrams-4">PreFigure is a standalone project for authoring mathematical diagrams (see <a class="external" href="https://prefigure.org/" target="_blank"><code class="code-inline tex2jax_ignore">prefigure.org</code></a>).  Its philosophy and approach are much like that of PreTeXt, and PreFigure is tightly integrated into PreTeXt.  One key feature is excellent support for the creation of accessible output formats.<div class="autopermalink" data-description="Paragraph"><a href="#prefigure-diagrams-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para logical" id="prefigure-diagrams-5">
<div class="para">As of 2024-11-06 development continues for PreFigure itself, and fine-tuning of its integration within PreTeXt.  But it is usable now for projects that want to use it.</div>
<ul class="disc" id="prefigure-diagrams-5-3">
<li id="prefigure-diagrams-5-3-1">
<div class="para" id="p-derived-prefigure-diagrams-5-3-1">You can author PreFigure diagrams, and then generate <abbr class="initialism">SVG</abbr>, <abbr class="initialism">PDF</abbr>, and <abbr class="initialism">PNG</abbr> output versions with the <code class="code-inline tex2jax_ignore">pretext/pretext</code> script (see the PreTeXt Guide), and expect them to render in <abbr class="initialism">HTML</abbr>, <abbr class="initialism">PDF</abbr>, and <abbr class="initialism">EPUB</abbr> output formats.</div>
<div class="autopermalink" data-description="Item"><a href="#prefigure-diagrams-5-3-1" title="Copy heading and permalink for Item">🔗</a></div>
</li>
<li id="prefigure-diagrams-5-3-2">
<div class="para" id="p-derived-prefigure-diagrams-5-3-2">Look for automatic generation to come to the PreTeXt-CLI sometime very soon.</div>
<div class="autopermalink" data-description="Item"><a href="#prefigure-diagrams-5-3-2" title="Copy heading and permalink for Item">🔗</a></div>
</li>
<li id="prefigure-diagrams-5-3-3">
<div class="para" id="p-derived-prefigure-diagrams-5-3-3">PreFigure has excellent support for annotations within an <abbr class="initialism">SVG</abbr> diagram, supporting their use by screenreaders, for example.  See an example below.</div>
<div class="autopermalink" data-description="Item"><a href="#prefigure-diagrams-5-3-3" title="Copy heading and permalink for Item">🔗</a></div>
</li>
<li id="prefigure-diagrams-5-3-4">
<div class="para" id="p-derived-prefigure-diagrams-5-3-4">Production of tactile versions is now possible, though they are not incorporated explicitly into any of the output formats.  Perhaps they will become available via archive links or as a zip archive.</div>
<div class="autopermalink" data-description="Item"><a href="#prefigure-diagrams-5-3-4" title="Copy heading and permalink for Item">🔗</a></div>
</li>
</ul>
<div class="autopermalink" data-description="Paragraph"><a href="#prefigure-diagrams-5" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para" id="prefigure-diagrams-6">This is a basic PreFigure diagram, in the sense that it does not use all the features of PreFigure or PreTeXt.<div class="autopermalink" data-description="Paragraph"><a href="#prefigure-diagrams-6" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="prefigure-diagrams-7"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure&gt;
    &lt;caption&gt;Solution to a differential equation&lt;/caption&gt;
    &lt;image width="60%"&gt;
        &lt;prefigure label="prefigure-diffeq" xmlns="https://prefigure.org"&gt;
            &lt;diagram dimensions="(300,300)" margins="5"&gt;
                &lt;definition&gt;f(t,y) = (y[1], -pi*y[0]-0.3*y[1])&lt;/definition&gt;
                &lt;coordinates bbox="[-1,-3,6,3]"&gt;
                    &lt;grid-axes xlabel="t"/&gt;
                    &lt;de-solve function="f" t0="0" t1="bbox[2]" y0="(0,2)" name="oscillator" N="200"/&gt;
                    &lt;plot-de-solution at="x" solution="oscillator" axes="(t,y0)"/&gt;
                    &lt;plot-de-solution at="xprime" solution="oscillator" axes="(t,y1)" stroke="red" tactile-dash="9 9"/&gt;
                    &lt;legend at="legend" anchor="(bbox[2], bbox[3])" alignment="sw" scale="0.9" opacity="0.5"&gt;
                        &lt;item ref="x"&gt;&lt;m&gt;x(t)&lt;/m&gt;&lt;/item&gt;
                        &lt;item ref="xprime"&gt;&lt;m&gt;x'(t)&lt;/m&gt;&lt;/item&gt;
                    &lt;/legend&gt;
                &lt;/coordinates&gt;
            &lt;/diagram&gt;
        &lt;/prefigure&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 60%; margin-left: 20%; margin-right: 20%;"><img src="generated/prefigure/prefigure-diffeq.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.4<span class="period">.</span></span><span class="space"> </span>Solution to a differential equation<div class="autopermalink" data-description="Figure 10.4"><a href="#prefigure-diagrams-7" title="Copy heading and permalink for Figure 10.4">🔗</a></div></figcaption></figure><div class="para" id="prefigure-diagrams-8">This next diagram employs some <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> macros that are defined in the usual way in <code class="code-inline tex2jax_ignore">&lt;docinfo&gt;</code> and are employed to produce the names of some vectors in the labels.  The blue line is colored blue by a global PreFigure declaration, also in <code class="code-inline tex2jax_ignore">&lt;docinfo&gt;</code>.<div class="autopermalink" data-description="Paragraph"><a href="#prefigure-diagrams-8" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 60%; margin-left: 20%; margin-right: 20%;"><img src="generated/prefigure/prefigure-projection.svg" role="img" class="contained"></div>
<div class="para" id="prefigure-diagrams-10">The next PreFigure diagram is authored with annotations, arranged in a hierarchy of increasing refinement and detail.  Each identified graphical component will read its annotation and show it on the screen below the diagram.  When a reader clicks on the image, a high-level summary will be read using the author-provided annotation.  The down and up arrow keys enable a reader to explore the diagram in more or less detail while the right and left arrow keys reveal features at the same level of detail.  When the focus is on the graph, pressing "O" will produce a sonification of the graph.<div class="autopermalink" data-description="Paragraph"><a href="#prefigure-diagrams-10" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 60%; margin-left: 20%; margin-right: 20%;">
<div class="ChemAccess-element" data-src="generated/prefigure/prefigure-tangent.svg" data-cml="generated/prefigure/prefigure-tangent-annotations.xml"></div>
<details><summary>Diagram Exploration Keyboard Controls</summary><div class="diagcess-navigation-controls"><table>
<thead><tr>
<th>Key</th>
<th>Action</th>
</tr></thead>
<tbody>
<tr>
<td>Enter, A</td>
<td>Activate keyboard driven exploration</td>
</tr>
<tr>
<td>B</td>
<td>Activate menu driven exploration</td>
</tr>
<tr>
<td>Escape</td>
<td>Leave exploration mode</td>
</tr>
<tr>
<td>Cursor down</td>
<td>Explore next lower level</td>
</tr>
<tr>
<td>Cursor up</td>
<td>Explore next upper level</td>
</tr>
<tr>
<td>Cursor right</td>
<td>Explore next element on level</td>
</tr>
<tr>
<td>Cursor left</td>
<td>Explore previous element on level</td>
</tr>
<tr>
<td>X</td>
<td>Toggle expert mode</td>
</tr>
<tr>
<td>W</td>
<td>Extra details if available</td>
</tr>
<tr>
<td>Space</td>
<td>Repeat speech</td>
</tr>
<tr>
<td>M</td>
<td>Activate step magnification</td>
</tr>
<tr>
<td>Comma</td>
<td>Activate direct magnification</td>
</tr>
<tr>
<td>N</td>
<td>Deactivate magnification</td>
</tr>
<tr>
<td>Z</td>
<td>Toggle subtitles</td>
</tr>
<tr>
<td>C</td>
<td>Cycle contrast settings</td>
</tr>
<tr>
<td>T</td>
<td>Monochrome colours</td>
</tr>
<tr>
<td>L</td>
<td>Toggle language (if available)</td>
</tr>
<tr>
<td>K</td>
<td>Kill current sound</td>
</tr>
<tr>
<td>Y</td>
<td>Stop sound output</td>
</tr>
<tr>
<td>O</td>
<td>Start and stop sonification</td>
</tr>
<tr>
<td>P</td>
<td>Repeat sonification output</td>
</tr>
</tbody>
</table></div></details>
</div>
<div class="para" id="prefigure-diagrams-12">Including annotations enables a new type of interactive diagram within a PreTeXt document offering potential benefits for all readers.  In particular, annotations allow an author to call the reader’s attention to specific details in a diagram and how they are related to one another so that the diagram and surrounding text are more tightly integrated.  The annotated diagram below introduces Fibonacci tilings, which are one-dimensional analogs of Penrose tilings, and offers an explanation of their aperiodicity.  Of course, surrounding text would usually provide a richer context for a diagram like this.<div class="autopermalink" data-description="Paragraph"><a href="#prefigure-diagrams-12" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-fibonnaci-tiling-annotated"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-fibonnaci-tiling-annotated"&gt;
  &lt;caption&gt;Fibonacci tilings are one-dimensional analogs of Penrose tilings.  The diagram on the left introduces the process of deflation that is used to produce tilings while the diagram on the right explains why they are aperiodic.&lt;/caption&gt;
  &lt;sidebyside widths="30% 50%" valign="bottom" margins="0% 15%"&gt;
      &lt;image&gt;
          &lt;prefigure label="prefigure-fibonacci-a" xmlns="https://prefigure.org"&gt;

              &lt;diagram dimensions="(200, 200)"&gt;
                  &lt;definition&gt;phi=(sqrt(5)+1)/2&lt;/definition&gt;
                  &lt;definition&gt;height=0.25&lt;/definition&gt;
                  &lt;definition&gt;top=1&lt;/definition&gt;
                  &lt;definition&gt;bottom=0&lt;/definition&gt;
                  &lt;definition&gt;left=0&lt;/definition&gt;
                  &lt;definition&gt;right=2&lt;/definition&gt;
                  &lt;definition&gt;colors={0:'blue', 1:'red'}&lt;/definition&gt;
                  &lt;definition&gt;widths={0:phi, 1:1}&lt;/definition&gt;
                  &lt;coordinates bbox="(-0.5,-1,3.5,2)"&gt;
                      &lt;transform&gt;
                          &lt;!-- Define the upper row of tiles--&gt;
                          &lt;translate by="(0,top)"/&gt;
                          &lt;!-- We put tiles and their labels into a group for annotating--&gt;
                          &lt;group at="top-L"&gt;
                              &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                              &lt;label anchor="(widths[0]/2,height)" alignment="n"&gt;
                                  &lt;m&gt;L&lt;/m&gt;
                              &lt;/label&gt;
                          &lt;/group&gt;
                          &lt;translate by="(right,0)"/&gt;
                          &lt;group at="top-S"&gt;
                              &lt;rectangle lower-left="(0,0)" dimensions="(widths[1],height)" fill="${colors[1]}" stroke="black"/&gt;
                              &lt;label anchor="(widths[1]/2, height)" alignment="n"&gt;
                                  &lt;m&gt;S&lt;/m&gt;
                              &lt;/label&gt;
                          &lt;/group&gt;
                      &lt;/transform&gt;

                      &lt;transform&gt;
                          &lt;translate by="(0,bottom)"/&gt;
                          &lt;transform&gt;
                              &lt;scale by="(1/phi, 1)"/&gt;
                              &lt;group at="bottom-L"&gt;
                                  &lt;group at="bottom-LL"&gt;
                                      &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                      &lt;label anchor="(widths[0]/2,0)" alignment="south"&gt;
                                          &lt;m&gt;L&lt;/m&gt;
                                      &lt;/label&gt;
                                  &lt;/group&gt;
                                  &lt;translate by="(widths[0],0)"/&gt;
                                  &lt;group at="bottom-LS"&gt;
                                      &lt;rectangle lower-left="(0,0)" dimensions="(widths[1], height)" fill="${colors[1]}" stroke="black"/&gt;
                                      &lt;label anchor="(widths[1]/2,0)" alignment="south"&gt;
                                          &lt;m&gt;S&lt;/m&gt;
                                      &lt;/label&gt;
                                  &lt;/group&gt;
                              &lt;/group&gt;
                          &lt;/transform&gt;

                          &lt;translate by="(right, 0)"/&gt;
                          &lt;scale by="(1/phi,1)"/&gt;
                          &lt;group at="bottom-S"&gt;
                              &lt;group at="bottom-SL"&gt;
                                  &lt;rectangle lower-left="(0,0)" dimensions="(widths[0], height)" fill="${colors[0]}" stroke="black"/&gt;
                                  &lt;label anchor="(widths[0]/2,0)" alignment="south"&gt;
                                      &lt;m&gt;L&lt;/m&gt;
                                  &lt;/label&gt;
                              &lt;/group&gt;
                          &lt;/group&gt;
                      &lt;/transform&gt;

                      &lt;line at="left-arrow" endpoints="((left+phi/2, top), (left+phi/2, bottom+height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;

                      &lt;line at="right-arrow" endpoints="((right+1/2, top), (right+1/2, bottom+height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;
                  &lt;/coordinates&gt;

                  &lt;annotations&gt;
                      &lt;annotation ref="figure" text="The set of Fibonacci tiles consists of two tiles denoted by L and S."&gt;
                          &lt;annotation ref="top" text="The ratio of the lengths of the tiles is the golden ratio so one tile L is long and the other S is short"&gt;
                              &lt;annotation ref="top-L" text="The long tile L"/&gt;
                              &lt;annotation ref="top-S" text="The short tile S"/&gt;
                          &lt;/annotation&gt;
                          &lt;annotation ref="arrows" text="A process called deflation replaces each tile by a new set of tiles"&gt;
                              &lt;annotation ref="left-deflate" text="A long tile is replaced by a long and a short tile"&gt;
                                  &lt;annotation ref="left-arrow"/&gt;
                                  &lt;annotation ref="top-L"/&gt;
                                  &lt;annotation ref="bottom-L" text="The length of the new tiles is scaled by the reciprocal of the golden ratio"&gt;
                                      &lt;annotation ref="bottom-LL" text="The new long tile is on the left"/&gt;
                                      &lt;annotation ref="bottom-LS" text="The new short tile is on the right"/&gt;
                                  &lt;/annotation&gt;
                              &lt;/annotation&gt;
                              &lt;annotation ref="right-deflate" text="A short tile is replaced by a single long tile"&gt;
                                  &lt;annotation ref="right-arrow"/&gt;
                                  &lt;annotation ref="top-S"/&gt;
                                  &lt;annotation ref="bottom-S" text="The length of the new tile is again scaled by the reciprocal of the golden ratio"/&gt;
                              &lt;/annotation&gt;
                          &lt;/annotation&gt;
                      &lt;/annotation&gt;
                  &lt;/annotations&gt;
              &lt;/diagram&gt;

          &lt;/prefigure&gt;
      &lt;/image&gt;
      &lt;image&gt;
          &lt;prefigure label="prefigure-fibonacci-b" xmlns="https://prefigure.org"&gt;

              &lt;diagram dimensions="(300, 200)" margins="(30,0,30,0)"&gt;
                  &lt;definition&gt;phi=(sqrt(5)+1)/2&lt;/definition&gt;
                  &lt;definition&gt;height=0.25&lt;/definition&gt;
                  &lt;definition&gt;width=5+8*phi&lt;/definition&gt;
                  &lt;definition&gt;colors={0:'blue', 1:'red'}&lt;/definition&gt;
                  &lt;definition&gt;widths={0:phi, 1:1}&lt;/definition&gt;
                  &lt;definition&gt;tiling2=[0,1,0,0,1]&lt;/definition&gt;
                  &lt;definition&gt;tiling1=[0,1,0,0,1,0,1,0]&lt;/definition&gt;
                  &lt;definition&gt;tiling0=[0,1,0,0,1,0,1,0,0,1,0,0,1]&lt;/definition&gt;
                  &lt;definition&gt;tilings=[tiling0, tiling1, tiling2]&lt;/definition&gt;
                  &lt;coordinates bbox="(0,-0.5,width,3.5)"&gt;
                      &lt;transform&gt;
                          &lt;repeat parameter="row in tilings"&gt;
                              &lt;label at="left-dots" anchor="(0,height/2)" alignment="w"&gt;
                                  &lt;m&gt;\ldots&lt;/m&gt;
                              &lt;/label&gt;
                              &lt;transform&gt;
                                  &lt;repeat at="tiling" parameter="type in row"&gt;
                                      &lt;rectangle at="tile" lower-left="(0,0)" dimensions="(widths[type], height)" fill="${colors[type]}" stroke="black"/&gt;
                                      &lt;translate by="(widths[type],0)"/&gt;
                                  &lt;/repeat&gt;
                                  &lt;label at="right-dots" anchor="(0,height/2)" alignment="e"&gt;
                                      &lt;m&gt;\ldots&lt;/m&gt;
                                  &lt;/label&gt;
                              &lt;/transform&gt;
                              &lt;scale by="(phi, 1)"/&gt;
                              &lt;translate by="(0,1)"/&gt;
                          &lt;/repeat&gt;
                      &lt;/transform&gt;

                      &lt;transform&gt;
                          &lt;repeat at="down-arrows" parameter="row in tilings"&gt;
                              &lt;line at="down-arrow" endpoints="((width/2, 1), (width/2,height))" endpoint-offsets="(3,-5)" arrows="1" stroke="black"/&gt;
                              &lt;translate by="(0,1)"/&gt;
                          &lt;/repeat&gt;
                      &lt;/transform&gt;
                      &lt;transform&gt;
                          &lt;repeat at="right-arrows" parameter="row in tilings"&gt;
                              &lt;line at="right-arrow" endpoints="((15,-0.15), (17,-0.15))" arrows="1" stroke="black" thickness="2"/&gt;
                              &lt;translate by="(0,1)"/&gt;
                          &lt;/repeat&gt;
                      &lt;/transform&gt;
                  &lt;/coordinates&gt;

                  &lt;annotations&gt;
                      &lt;annotation ref="figure" text="A Fibonacci tiling is a horizontal sequence of tiles obtained by deflating the tiles in another Fibonacci tiling.  We will explain why these tilings are aperiodic."&gt;
                          &lt;annotation ref="down-arrows"/&gt;
                          &lt;annotation ref="top-down-arrow"/&gt;

                          &lt;annotation ref="tiling-row=0" text="We begin with this Fibonacci tiling"/&gt;

                          &lt;annotation ref="tiling-row=1" text="Our first Fibonacci tiling is obtained by deflating this second tiling"&gt;
                              &lt;annotation ref="down-arrow-row=0"/&gt;
                          &lt;/annotation&gt;

                          &lt;annotation ref="tiling-row=2" text="The second tiling is obtained by deflating this third tiling, so we see that there is an infinite hierarchy of tilings."&gt;
                              &lt;annotation ref="down-arrow-row=1"/&gt;
                          &lt;/annotation&gt;

                          &lt;annotation ref="bottom-tilings" text="Beginning with one tiling, the tiling above is uniquely determined."&gt;
                              &lt;annotation ref="tiling-row=0" text="Consider this Fibonacci tiling."/&gt;
                              &lt;annotation ref="tiling-row=1" text="By inverting the deflation rules, we can uniquely determine the tiling above."/&gt;
                          &lt;/annotation&gt;
                          &lt;annotation ref="periodic-0" text="Suppose that a Fibonacci tiling is periodic under a horizontal translation."&gt;
                              &lt;annotation ref="tiling-row=0" text="For example, suppose this Fibonacci tiling is periodic."/&gt;
                              &lt;annotation ref="right-arrow-row=0" text="And that this horizontal translation leaves the tiling unchanged."/&gt;
                          &lt;/annotation&gt;
                          &lt;annotation ref="periodic-1" text="Because the inflated tiling above is unique, it must also be periodic under the same translation."&gt;
                              &lt;annotation ref="tiling-row=1" text="This Fibonacci tiling is also periodic."/&gt;
                              &lt;annotation ref="right-arrow-row=1" text="The same horizontal translation leaves the tiling unchanged."/&gt;
                          &lt;/annotation&gt;
                          &lt;annotation ref="periodic-2" text="Consequently, every tiling in the hierarchy is periodic by this translation.  This is not possible, which means the original tiling cannot be periodic."&gt;
                              &lt;annotation ref="tiling-row=2" text="The size of the tiles grows exponentially as we move up in the hierarchy."/&gt;
                              &lt;annotation ref="right-arrow-row=2" text="Eventually the tiles are longer than the translation."/&gt;
                          &lt;/annotation&gt;
                      &lt;/annotation&gt;
                  &lt;/annotations&gt;
              &lt;/diagram&gt;

          &lt;/prefigure&gt;
      &lt;/image&gt;
    &lt;/sidebyside&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="sidebyside"><div class="sbsrow" style="margin-left:0%;margin-right:15%;">
<div class="sbspanel bottom" style="width:35.2941176470588%;"><div class="ChemAccess-element" data-src="generated/prefigure/prefigure-fibonacci-a.svg" data-cml="generated/prefigure/prefigure-fibonacci-a-annotations.xml"></div></div>
<div class="sbspanel bottom" style="width:58.8235294117647%;"><div class="ChemAccess-element" data-src="generated/prefigure/prefigure-fibonacci-b.svg" data-cml="generated/prefigure/prefigure-fibonacci-b-annotations.xml"></div></div>
</div></div>
<details><summary>Diagram Exploration Keyboard Controls</summary><div class="diagcess-navigation-controls"><table>
<thead><tr>
<th>Key</th>
<th>Action</th>
</tr></thead>
<tbody>
<tr>
<td>Enter, A</td>
<td>Activate keyboard driven exploration</td>
</tr>
<tr>
<td>B</td>
<td>Activate menu driven exploration</td>
</tr>
<tr>
<td>Escape</td>
<td>Leave exploration mode</td>
</tr>
<tr>
<td>Cursor down</td>
<td>Explore next lower level</td>
</tr>
<tr>
<td>Cursor up</td>
<td>Explore next upper level</td>
</tr>
<tr>
<td>Cursor right</td>
<td>Explore next element on level</td>
</tr>
<tr>
<td>Cursor left</td>
<td>Explore previous element on level</td>
</tr>
<tr>
<td>X</td>
<td>Toggle expert mode</td>
</tr>
<tr>
<td>W</td>
<td>Extra details if available</td>
</tr>
<tr>
<td>Space</td>
<td>Repeat speech</td>
</tr>
<tr>
<td>M</td>
<td>Activate step magnification</td>
</tr>
<tr>
<td>Comma</td>
<td>Activate direct magnification</td>
</tr>
<tr>
<td>N</td>
<td>Deactivate magnification</td>
</tr>
<tr>
<td>Z</td>
<td>Toggle subtitles</td>
</tr>
<tr>
<td>C</td>
<td>Cycle contrast settings</td>
</tr>
<tr>
<td>T</td>
<td>Monochrome colours</td>
</tr>
<tr>
<td>L</td>
<td>Toggle language (if available)</td>
</tr>
<tr>
<td>K</td>
<td>Kill current sound</td>
</tr>
<tr>
<td>Y</td>
<td>Stop sound output</td>
</tr>
<tr>
<td>O</td>
<td>Start and stop sonification</td>
</tr>
<tr>
<td>P</td>
<td>Repeat sonification output</td>
</tr>
</tbody>
</table></div></details><figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.5<span class="period">.</span></span><span class="space"> </span>Fibonacci tilings are one-dimensional analogs of Penrose tilings.  The diagram on the left introduces the process of deflation that is used to produce tilings while the diagram on the right explains why they are aperiodic.<div class="autopermalink" data-description="Figure 10.5"><a href="#figure-fibonnaci-tiling-annotated" title="Copy heading and permalink for Figure 10.5">🔗</a></div></figcaption></figure><div class="para" id="prefigure-diagrams-14">For sighted readers, here is an example of a tactile version of one of the above diagrams.  It is generated automatically from the same source as the other version.  Imagine this being “printed” with an embosser so that the parts of the diagram, and the braille labels, are raised up from the paper and can be explored with one’s fingertips.  This image is a <abbr class="initialism">PNG</abbr> produced specifically for this document.  Typically, a tactile diagram produced by PreFigure will be a <abbr class="initialism">PDF</abbr> ready to be sent to an appropriate embosser.  Notice that PreTeXt adds a caption indicating the diagram’s location in the document along the top of the diagram.<div class="autopermalink" data-description="Paragraph"><a href="#prefigure-diagrams-14" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 70%; margin-left: 15%; margin-right: 15%;"><img src="external/tactile/prefigure-diffeq.png" class="contained"></div>
<div class="autopermalink" data-description="Subsection 10.2: PreFigure"><a href="#prefigure-diagrams" title="Copy heading and permalink for Subsection 10.2: PreFigure">🔗</a></div></section><section class="subsection" id="section-graphics-5"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.3</span><span class="space"> </span><span class="title"><span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> images</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;&lt;latex/&gt; images&lt;/title&gt;
    &lt;idx sortby="latex"&gt;&lt;latex/&gt; image&lt;/idx&gt;
    &lt;idx&gt;&lt;h&gt;image&lt;/h&gt;&lt;h&gt;&lt;latex/&gt; image&lt;/h&gt;&lt;/idx&gt;

    &lt;p&gt;There are several graphics engine packages that a &lt;latex/&gt; document can employ. Code from these packages renders diagrams automatically as part of normal processing of &lt;latex/&gt; files.  For HTML output the &lt;c&gt;pretext&lt;/c&gt; script produces SVG versions of the pictures.  The script can also produce standalone &lt;tex/&gt; source files, PDFs, PNGs, and EPSs. The packages should be loaded in &lt;c&gt;docinfo/latex-image-preamble&lt;/c&gt;, which is also where global package settings should be made. If any ampersands occur in your &lt;latex/&gt; code you should use the &lt;c&gt;\amp&lt;/c&gt; macro pre-defined by &lt;pretext/&gt;. These first examples are from the &lt;url href="http://www.texample.net/tikz/examples/" visual="www.texample.net/tikz/examples/"&gt;TeXample.net&lt;/url&gt; site.  Note that any &lt;latex/&gt; macros used in the rest of your document may be employed in the &lt;latex/&gt;-standalone or Asymptote diagrams (with this feature coming to Sage graphics next?).&lt;/p&gt;

    &lt;!-- http://www.texample.net/media/tikz/examples/TEX/noise-shaper.tex --&gt;
    &lt;figure xml:id="figure-tikz-electronics"&gt;
        &lt;caption&gt;TikZ Electronics Diagram&lt;/caption&gt;
        &lt;image xml:id="tikz-electronics"&gt;
            &lt;shortdescription&gt;
                a pile of electronic components wired together
            &lt;/shortdescription&gt;
            &lt;latex-image&gt;
            &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
            \tikzset{%
              block/.style    = {draw, thick, rectangle, minimum height = 3em,
                minimum width = 3em},
              sum/.style      = {draw, circle, node distance = 2cm}, % Adder
              input/.style    = {coordinate}, % Input
              output/.style   = {coordinate} % Output
            }
            % Defining string as labels of certain blocks.
            \newcommand{\suma}{\Large$+$}
            \newcommand{\inte}{$\displaystyle \int$}
            \newcommand{\derv}{\huge$\frac{d}{dt}$}

            \begin{tikzpicture}[auto, thick, node distance=2cm, &amp;gt;=triangle 45]
            \draw
                % Drawing the blocks of first filter :
                node at (0,0)[right=-3mm]{\Large \textbullet}
                node [input, name=input1] {}
                node [sum, right of=input1] (suma1) {\suma}
                node [block, right of=suma1] (inte1) {\inte}
                     node at (6.8,0)[block] (Q1) {\Large $Q_1$}
                     node [block, below of=inte1] (ret1) {\Large$T_1$};
                % Joining blocks.
                % Commands \draw with options like [-&amp;gt;] must be written individually
                \draw[-&amp;gt;](input1) -- node {$X(Z)$}(suma1);
                \draw[-&amp;gt;](suma1) -- node {} (inte1);
                \draw[-&amp;gt;](inte1) -- node {} (Q1);
                \draw[-&amp;gt;](ret1) -| node[near end]{} (suma1);
                % Adder
            \draw
                node at (5.4,-4) [sum, name=suma2] {\suma}
                    % Second stage of filter
                node at  (1,-6) [sum, name=suma3] {\suma}
                node [block, right of=suma3] (inte2) {\inte}
                node [sum, right of=inte2] (suma4) {\suma}
                node [block, right of=suma4] (inte3) {\inte}
                node [block, right of=inte3] (Q2) {\Large$Q_2$}
                node at (9,-8) [block, name=ret2] {\Large$T_2$}
            ;
                % Joining the blocks of second filter
                \draw[-&amp;gt;] (suma3) -- node {} (inte2);
                \draw[-&amp;gt;] (inte2) -- node {} (suma4);
                \draw[-&amp;gt;] (suma4) -- node {} (inte3);
                \draw[-&amp;gt;] (inte3) -- node {} (Q2);
                \draw[-&amp;gt;] (ret2) -| (suma3);
                \draw[-&amp;gt;] (ret2) -| (suma4);
                     % Third stage of filter:
                % Defining nodes:
            \draw
                node at (11.5, 0) [sum, name=suma5]{\suma}
                node [output, right of=suma5]{}
                node [block, below of=suma5] (deriv1){\derv}
                node [output, right of=suma5] (sal2){}
            ;
                % Joining the blocks:
                \draw[-&amp;gt;] (suma2) -| node {}(suma3);
                \draw[-&amp;gt;] (Q1) -- (8,0) |- node {}(ret1);
                \draw[-&amp;gt;] (8,0) |- (suma2);
                \draw[-&amp;gt;] (5.4,0) -- (suma2);
                \draw[-&amp;gt;] (Q1) -- node {}(suma5);
                \draw[-&amp;gt;] (deriv1) -- node {}(suma5);
                \draw[-&amp;gt;] (Q2) -| node {}(deriv1);
                    \draw[&amp;lt;-&amp;gt;] (ret2) -| node {}(deriv1);
                    \draw[-&amp;gt;] (suma5) -- node {$Y(Z)$}(sal2);
                    % Drawing nodes with \textbullet
            \draw
                node at (8,0) {\textbullet}
                node at (8,-2){\textbullet}
                node at (5.4,0){\textbullet}
                    node at (5,-8){\textbullet}
                    node at (11.5,-6){\textbullet}
                    ;
                % Boxing and labelling noise shapers
                \draw [color=gray,thick](-0.5,-3) rectangle (9,1);
                \node at (-0.5,1) [above=5mm, right=0mm] {\textsc{first-order noise shaper}};
                \draw [color=gray,thick](-0.5,-9) rectangle (12.5,-5);
                \node at (-0.5,-9) [below=5mm, right=0mm] {\textsc{second-order noise shaper}};
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;The next example began life in &lt;url href="http://www.frontiernet.net/~eugene.ressler/" visual="www.frontiernet.net/~eugene.ressler/"&gt;Sketch&lt;/url&gt;, which will output TikZ code (though the code has been edited by hand for readability).&lt;/p&gt;

    &lt;!-- http://www.texample.net/media/tikz/examples/TEX/3d-cone.tex --&gt;
    &lt;figure xml:id="figure-tikz-cone3D"&gt;
        &lt;caption&gt;TikZ Cone Drawing&lt;/caption&gt;
        &lt;image xml:id="tikz-cone" width="70%"&gt;
            &lt;latex-image&gt;
            &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
            \begin{tikzpicture}[join=round]
            \tikzstyle{conefill} = [fill=blue!20,fill opacity=0.8]
            \tikzstyle{ann} = [fill=white,font=\footnotesize,inner sep=1pt]
            \tikzstyle{ghostfill} = [fill=white]
                 \tikzstyle{ghostdraw} = [draw=black!50]
            \filldraw[conefill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                --(-.183,2.067)--cycle;
            \filldraw[conefill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                --(.516,2.016)--cycle;
            \filldraw[conefill](.516,2.016)--(.775,.424)--(1.369,.1)
                                --(.913,1.8)--cycle;
            \filldraw[conefill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                --(-.775,1.922)--cycle;
            \draw(1.461,.107)--(1.734,.127);
            \draw[arrows=&amp;lt;-&amp;gt;](1.643,1.853)--(1.643,.12);
            \filldraw[conefill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                --(.775,1.545)--cycle;
            \draw[arrows=-&amp;gt;,line width=.4pt](.274,-.5)--(0,0)--(0,2.86);
            \draw[arrows=-,line width=.4pt](0,0)--(-1.369,-.1);
            \draw[arrows=-&amp;gt;,line width=.4pt](-1.369,-.1)--(-2.1,-.153);
            \filldraw[conefill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                --(-.913,1.667)--cycle;
            \draw(-1.369,.073)--(-1.369,2.76);
            \draw(1.004,1.807)--(1.734,1.86);
            \filldraw[conefill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                --(.183,1.4)--cycle;
            \draw[arrows=&amp;lt;-&amp;gt;](0,2.34)--(-.913,2.273);
            \draw(-.913,1.84)--(-.913,2.447);
            \draw[arrows=&amp;lt;-&amp;gt;](0,2.687)--(-1.369,2.587);
            \filldraw[conefill](.183,1.4)--(.274,-.5)--(-.775,-.424)
                                --(-.516,1.45)--cycle;
            \draw[arrows=&amp;lt;-,line width=.4pt](.42,-.767)--(.274,-.5);
            \node[ann] at (-.456,2.307) {$r_0$};
            \node[ann] at (-.685,2.637) {$r_1$};
            \node[ann] at (1.643,.987) {$h$};
            \path (.42,-.767) node[below] {$x$}
                (0,2.86) node[above] {$y$}
                (-2.1,-.153) node[left] {$z$};
            % Second version of the cone
            \begin{scope}[xshift=3.5cm]
            \filldraw[ghostdraw,ghostfill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                           --(-.183,2.067)--cycle;
            \filldraw[ghostdraw,ghostfill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                           --(.516,2.016)--cycle;
            \filldraw[ghostdraw,ghostfill](.516,2.016)--(.775,.424)--(1.369,.1)
                                           --(.913,1.8)--cycle;
            \filldraw[ghostdraw,ghostfill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                           --(-.775,1.922)--cycle;
            \filldraw[ghostdraw,ghostfill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                           --(.775,1.545)--cycle;
            \filldraw[ghostdraw,ghostfill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                           --(-.913,1.667)--cycle;
            \filldraw[ghostdraw,ghostfill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                           --(.183,1.4)--cycle;
            \filldraw[fill=red,fill opacity=0.5](-.516,1.45)--(-.775,-.424)--(.274,-.5)
                                                 --(.183,1.4)--cycle;
            \fill(-.775,-.424) circle (2pt);
            \fill(.274,-.5) circle (2pt);
            \fill(-.516,1.45) circle (2pt);
            \fill(.183,1.4) circle (2pt);
            \path[font=\footnotesize]
                    (.913,1.8) node[right] {$i\hbox{$=$}0$}
                    (1.369,.1) node[right] {$i\hbox{$=$}1$};
            \path[font=\footnotesize]
                    (-.645,.513) node[left] {$j$}
                    (.228,.45) node[right] {$j\hbox{$+$}1$};
            \draw (-.209,.482)+(-60:.25) [yscale=1.3,-&amp;gt;] arc(-60:240:.25);
            \fill[black,font=\footnotesize]
                            (-.516,1.45) node [above] {$P_{00}$}
                            (-.775,-.424) node [below] {$P_{10}$}
                            (.183,1.4) node [above] {$P_{01}$}
                            (.274,-.5) node [below] {$P_{11}$};
            \end{scope}
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;The pgfplots package was included in &lt;c&gt;docinfo/latex-image-preamble&lt;/c&gt;. Here, it is used. Also, here we demonstrate using &lt;c&gt;\amp&lt;/c&gt; where you would normally use an ampersand in &lt;latex/&gt;. There are known issues with &lt;c&gt;xelatex&lt;/c&gt; processing any gradient shading in &lt;c&gt;tikz&lt;/c&gt;. To (successfully) create the gradient shading in the 3D image here, you may need to use &lt;c&gt;pdflatex&lt;/c&gt; until &lt;latex/&gt; developers resolve this issue.&lt;/p&gt;

    &lt;figure xml:id="figure-pgfplots-demo"&gt;
        &lt;caption&gt;Sample pgfplots plot&lt;/caption&gt;
        &lt;image xml:id="pgfplots-demo"&gt;
            &lt;shortdescription&gt;
                a Cartesian plane with a function graph, a parametric curve, and some points
            &lt;/shortdescription&gt;
            &lt;latex-image&gt;
            &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
            \begin{tikzpicture}
            \matrix{
                \begin{axis}[width = 0.5\linewidth]
                    \addplot[
                        domain = 0.1:10,
                        &amp;lt;-&amp;gt;,
                        smooth,
                        thin,
                        color = blue,
                    ]{4*ln(x)/ln(10)};
                    \addplot[
                        only marks,
                    ]coordinates{
                        (0,2)
                        (4,3)
                        (2,4)
                        (3,4)};
                    \addplot[
                        variable = \t,
                        domain = 0:360,
                        samples = 200,
                        color = orange,
                    ]({3*sin(2*t)}, {2*cos(5*t)});
                \end{axis}
                \amp
                \begin{axis}[axis lines = box, width = 0.5\linewidth]
                    \addplot3[
                        surf,
                        faceted color = blue,
                        samples = 15,
                        domain = 0:1,
                        y domain = -1:1
                    ]{x^2 - y^2};
                \end{axis}\\
            };
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;A plot might use a graphics language to draw the axes and grid, but the data might be from an experiment and live in an external file that you do not wish to place in your source.  Place such a file in a subdirectory directly below the directory where your master source file resides.  Then indicate this directory in a &lt;c&gt;docinfo/directories/@data&lt;/c&gt; attribute of your source.  But you &lt;em&gt;must&lt;/em&gt; prefix the path with &lt;c&gt;data/&lt;/c&gt; as in the source below.&lt;/p&gt;

    &lt;figure xml:id="figure-pgfplots-data-demo"&gt;
        &lt;caption&gt;External data in a pgfplots plot&lt;/caption&gt;
        &lt;image xml:id="pgfplots-data-demo"&gt;
            &lt;shortdescription&gt;
                a Cartesian plot of electric potential over time;
            &lt;/shortdescription&gt;
            &lt;latex-image&gt;
            &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
            
            \begin{tikzpicture}
            \begin{axis}[
                xmin=0,xmax=100,ymin=-20,ymax=100,
                ytick={-20,0,...,100},
                xlabel={time (ms)},
                ylabel={potential (V)},
            ]
            \addplot[blue] table {data/dataplot/hodgkin-huxley-data.dat};
            \end{axis}
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;The TikZ image in the next figure is made up from two &lt;init&gt;PNG&lt;/init&gt; images (the shark and the swimmer), in addition to various TikZ commands.  The images reside in a source directory, &lt;c&gt;numerical/attack&lt;/c&gt;, so the image files (&lt;c&gt;shark.png&lt;/c&gt;, &lt;c&gt;swimmer.png&lt;/c&gt;) are prefixed in the TikZ code with &lt;c&gt;data/attack&lt;/c&gt; so the creation of the image will be successful.&lt;/p&gt;

    &lt;figure xml:id="figure-shark-attack"&gt;
        &lt;caption&gt;An illustration of the shark trying to catch you as you swim to shore.&lt;/caption&gt;
        &lt;image label="shark-attack"&gt;
            &lt;latex-image&gt;
            \begin{tikzpicture}
                \tikzset{ ragged border/.style={ decoration={random steps, segment length=1mm, amplitude=0.5mm}, decorate, } }
                \fill[cyan!30] decorate[ragged border]{ (0,2) -- (8,2) } -- (8,0) -- (0,0) -- cycle;
                \fill[yellow!30] decorate[ragged border]{ (8,2) -- (8,0) } -- (9,0) -- (9,2) -- cycle;
                \draw (1.5,1) node {\scalebox{-0.2}[0.2]{\includegraphics{data/attack/shark.png}}};
                \draw (5,1) node {\includegraphics[scale=0.05]{data/attack/swimmer.png}};
                \draw[|-|] (1.5,3) node [above] {\(\SI{0}{m}\)} -- (5,3) node [above] {\(\SI{50}{m}\)};
                \draw[|-|] (5,3) -- (8,3) node [above] {\(\SI{70}{m}\)};
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;
        A Cartesian plot might benefit from having a &lt;tag&gt;description&lt;/tag&gt; with a
        &lt;tag&gt;tabular&lt;/tag&gt; that lays bare the data used to to plot points.
    &lt;/p&gt;

    &lt;figure xml:id="figure-pgfplots-data-description"&gt;
        &lt;caption&gt;Full description with tabular&lt;/caption&gt;
        &lt;image label="pgfplots-data-description" width="70%"&gt;
            &lt;shortdescription&gt;
                a plot of some data points
            &lt;/shortdescription&gt;
            &lt;description&gt;
                &lt;p&gt;
                    A Cartesian graph plotting the following data.
                &lt;/p&gt;
                &lt;tabular row-headers="yes"&gt;
                    &lt;col right="minor"/&gt;
                    &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                    &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                    &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                    &lt;row bottom="minor"&gt;
                        &lt;cell&gt;&lt;m&gt;x&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;1&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;2&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;4&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;6&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;7&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;9&lt;/m&gt;&lt;/cell&gt;
                    &lt;/row&gt;
                    &lt;row&gt;
                        &lt;cell&gt;&lt;m&gt;y&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;9&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;2&lt;/m&gt;&lt;/cell&gt;
                        &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                    &lt;/row&gt;
                &lt;/tabular&gt;
            &lt;/description&gt;
            &lt;latex-image&gt;
                \begin{tikzpicture}
                    \begin{axis}[
                            xmin=0,
                            xmax=10,
                            ymin=-0,ymax=10,
                            xlabel={\(x\)},
                            ylabel={\(y\)},
                        ]
                        \addplot[only marks] coordinates {(1,5) (2,3) (3,8) (4,9) (5,5) (6,5) (7,8) (8,2) (9,3)};
                    \end{axis}
                \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;The next image requires three passes with &lt;latex/&gt; to get everything in place.  It is placed here to test that the code in the Pythion script correctly recognizes this requirement.&lt;/p&gt;

    &lt;figure&gt;
        &lt;caption&gt;A matrix with colored entries&lt;/caption&gt;

        &lt;!-- This image needs three passes with LaTeX, which --&gt;
        &lt;!-- is supported by the script making this image    --&gt;
        &lt;image width="50%"&gt;
            &lt;latex-image label="latex-three-pass"&gt;
                \begin{tikzpicture}
                \node{
                    $\begin{bNiceArray}{ccc|cc}[
                    code-before={\cellcolor{green!72}{1-1,2-2,3-3}\cellcolor{teal!72}{1-2,2-3,3-4}\cellcolor{yellow!72}{1-3,2-4,3-5}}
                    ]
                    3 \amp 4 \amp 0 \amp 1 \amp 4 \\
                    -2 \amp 3 \amp 1 \amp -2 \amp 3 \\
                    0 \amp 2 \amp 1 \amp 0 \amp 2
                    \end{bNiceArray}$
                };
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;PSTricks is a &lt;latex/&gt; package for drawing diagrams and pictures, dating back to the days before &lt;init&gt;PDF&lt;/init&gt;, when PostScript (&lt;init&gt;PS&lt;/init&gt;) was king.  Given its history, it does not seem to work easily with the &lt;c&gt;pdflatex&lt;/c&gt; engine.  But it will work easily with the &lt;c&gt;xelatex&lt;/c&gt; engine.  We try to keep this present sample document workable with both engines, so we have presented an example of the use of PSTricks in the &lt;c&gt;xelatex&lt;/c&gt;-exclusive sample document where we test obscure fonts and characters.  So your best bet is to look there.&lt;idx&gt;PSTricks&lt;/idx&gt;&lt;/p&gt;

    &lt;p&gt;There are suggestions online that &lt;cd&gt;\usepackage[pdf]{pstricks}&lt;/cd&gt;along with &lt;cd&gt;pdflatex --shell-escape *.tex&lt;/cd&gt; is workable.  We could not make it happen, and a &lt;q&gt;shell escape&lt;/q&gt; can be a dangerous security hole.  That said, updates to this approach are welcome.&lt;/p&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-5-4">There are several graphics engine packages that a <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> document can employ. Code from these packages renders diagrams automatically as part of normal processing of <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> files.  For HTML output the <code class="code-inline tex2jax_ignore">pretext</code> script produces SVG versions of the pictures.  The script can also produce standalone <span class="latex-logo">T<span class="E">e</span>X</span> source files, PDFs, PNGs, and EPSs. The packages should be loaded in <code class="code-inline tex2jax_ignore">docinfo/latex-image-preamble</code>, which is also where global package settings should be made. If any ampersands occur in your <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> code you should use the <code class="code-inline tex2jax_ignore">\amp</code> macro pre-defined by PreTeXt. These first examples are from the <a class="external" href="http://www.texample.net/tikz/examples/" target="_blank">TeXample.net</a><details class="ptx-footnote" aria-live="polite" id="section-graphics-5-4-10"><summary class="ptx-footnote__number" title="Footnote 10.3"><sup> 3 </sup></summary><div class="ptx-footnote__contents" id="section-graphics-5-4-10"><code class="code-inline tex2jax_ignore">www.texample.net/tikz/examples/</code></div></details> site.  Note that any <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> macros used in the rest of your document may be employed in the <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>-standalone or Asymptote diagrams (with this feature coming to Sage graphics next?).<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-tikz-electronics"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-tikz-electronics"&gt;
    &lt;caption&gt;TikZ Electronics Diagram&lt;/caption&gt;
    &lt;image xml:id="tikz-electronics"&gt;
        &lt;shortdescription&gt;
            a pile of electronic components wired together
        &lt;/shortdescription&gt;
        &lt;latex-image&gt;
        &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
        \tikzset{%
          block/.style    = {draw, thick, rectangle, minimum height = 3em,
            minimum width = 3em},
          sum/.style      = {draw, circle, node distance = 2cm}, % Adder
          input/.style    = {coordinate}, % Input
          output/.style   = {coordinate} % Output
        }
        % Defining string as labels of certain blocks.
        \newcommand{\suma}{\Large$+$}
        \newcommand{\inte}{$\displaystyle \int$}
        \newcommand{\derv}{\huge$\frac{d}{dt}$}

        \begin{tikzpicture}[auto, thick, node distance=2cm, &amp;gt;=triangle 45]
        \draw
            % Drawing the blocks of first filter :
            node at (0,0)[right=-3mm]{\Large \textbullet}
            node [input, name=input1] {}
            node [sum, right of=input1] (suma1) {\suma}
            node [block, right of=suma1] (inte1) {\inte}
                 node at (6.8,0)[block] (Q1) {\Large $Q_1$}
                 node [block, below of=inte1] (ret1) {\Large$T_1$};
            % Joining blocks.
            % Commands \draw with options like [-&amp;gt;] must be written individually
            \draw[-&amp;gt;](input1) -- node {$X(Z)$}(suma1);
            \draw[-&amp;gt;](suma1) -- node {} (inte1);
            \draw[-&amp;gt;](inte1) -- node {} (Q1);
            \draw[-&amp;gt;](ret1) -| node[near end]{} (suma1);
            % Adder
        \draw
            node at (5.4,-4) [sum, name=suma2] {\suma}
                % Second stage of filter
            node at  (1,-6) [sum, name=suma3] {\suma}
            node [block, right of=suma3] (inte2) {\inte}
            node [sum, right of=inte2] (suma4) {\suma}
            node [block, right of=suma4] (inte3) {\inte}
            node [block, right of=inte3] (Q2) {\Large$Q_2$}
            node at (9,-8) [block, name=ret2] {\Large$T_2$}
        ;
            % Joining the blocks of second filter
            \draw[-&amp;gt;] (suma3) -- node {} (inte2);
            \draw[-&amp;gt;] (inte2) -- node {} (suma4);
            \draw[-&amp;gt;] (suma4) -- node {} (inte3);
            \draw[-&amp;gt;] (inte3) -- node {} (Q2);
            \draw[-&amp;gt;] (ret2) -| (suma3);
            \draw[-&amp;gt;] (ret2) -| (suma4);
                 % Third stage of filter:
            % Defining nodes:
        \draw
            node at (11.5, 0) [sum, name=suma5]{\suma}
            node [output, right of=suma5]{}
            node [block, below of=suma5] (deriv1){\derv}
            node [output, right of=suma5] (sal2){}
        ;
            % Joining the blocks:
            \draw[-&amp;gt;] (suma2) -| node {}(suma3);
            \draw[-&amp;gt;] (Q1) -- (8,0) |- node {}(ret1);
            \draw[-&amp;gt;] (8,0) |- (suma2);
            \draw[-&amp;gt;] (5.4,0) -- (suma2);
            \draw[-&amp;gt;] (Q1) -- node {}(suma5);
            \draw[-&amp;gt;] (deriv1) -- node {}(suma5);
            \draw[-&amp;gt;] (Q2) -| node {}(deriv1);
                \draw[&amp;lt;-&amp;gt;] (ret2) -| node {}(deriv1);
                \draw[-&amp;gt;] (suma5) -- node {$Y(Z)$}(sal2);
                % Drawing nodes with \textbullet
        \draw
            node at (8,0) {\textbullet}
            node at (8,-2){\textbullet}
            node at (5.4,0){\textbullet}
                node at (5,-8){\textbullet}
                node at (11.5,-6){\textbullet}
                ;
            % Boxing and labelling noise shapers
            \draw [color=gray,thick](-0.5,-3) rectangle (9,1);
            \node at (-0.5,1) [above=5mm, right=0mm] {\textsc{first-order noise shaper}};
            \draw [color=gray,thick](-0.5,-9) rectangle (12.5,-5);
            \node at (-0.5,-9) [below=5mm, right=0mm] {\textsc{second-order noise shaper}};
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="generated/latex-image/tikz-electronics.svg" role="img" class="contained" alt="a pile of electronic components wired together"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.6<span class="period">.</span></span><span class="space"> </span>TikZ Electronics Diagram<div class="autopermalink" data-description="Figure 10.6"><a href="#figure-tikz-electronics" title="Copy heading and permalink for Figure 10.6">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-5-6">The next example began life in <a class="external" href="http://www.frontiernet.net/~eugene.ressler/" target="_blank">Sketch</a><details class="ptx-footnote" aria-live="polite" id="section-graphics-5-6-2"><summary class="ptx-footnote__number" title="Footnote 10.4"><sup> 4 </sup></summary><div class="ptx-footnote__contents" id="section-graphics-5-6-2"><code class="code-inline tex2jax_ignore">www.frontiernet.net/~eugene.ressler/</code></div></details>, which will output TikZ code (though the code has been edited by hand for readability).<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-6" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-tikz-cone3D"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-tikz-cone3D"&gt;
    &lt;caption&gt;TikZ Cone Drawing&lt;/caption&gt;
    &lt;image xml:id="tikz-cone" width="70%"&gt;
        &lt;latex-image&gt;
        &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
        \begin{tikzpicture}[join=round]
        \tikzstyle{conefill} = [fill=blue!20,fill opacity=0.8]
        \tikzstyle{ann} = [fill=white,font=\footnotesize,inner sep=1pt]
        \tikzstyle{ghostfill} = [fill=white]
             \tikzstyle{ghostdraw} = [draw=black!50]
        \filldraw[conefill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                            --(-.183,2.067)--cycle;
        \filldraw[conefill](-.183,2.067)--(-.274,.5)--(.775,.424)
                            --(.516,2.016)--cycle;
        \filldraw[conefill](.516,2.016)--(.775,.424)--(1.369,.1)
                            --(.913,1.8)--cycle;
        \filldraw[conefill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                            --(-.775,1.922)--cycle;
        \draw(1.461,.107)--(1.734,.127);
        \draw[arrows=&amp;lt;-&amp;gt;](1.643,1.853)--(1.643,.12);
        \filldraw[conefill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                            --(.775,1.545)--cycle;
        \draw[arrows=-&amp;gt;,line width=.4pt](.274,-.5)--(0,0)--(0,2.86);
        \draw[arrows=-,line width=.4pt](0,0)--(-1.369,-.1);
        \draw[arrows=-&amp;gt;,line width=.4pt](-1.369,-.1)--(-2.1,-.153);
        \filldraw[conefill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                            --(-.913,1.667)--cycle;
        \draw(-1.369,.073)--(-1.369,2.76);
        \draw(1.004,1.807)--(1.734,1.86);
        \filldraw[conefill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                            --(.183,1.4)--cycle;
        \draw[arrows=&amp;lt;-&amp;gt;](0,2.34)--(-.913,2.273);
        \draw(-.913,1.84)--(-.913,2.447);
        \draw[arrows=&amp;lt;-&amp;gt;](0,2.687)--(-1.369,2.587);
        \filldraw[conefill](.183,1.4)--(.274,-.5)--(-.775,-.424)
                            --(-.516,1.45)--cycle;
        \draw[arrows=&amp;lt;-,line width=.4pt](.42,-.767)--(.274,-.5);
        \node[ann] at (-.456,2.307) {$r_0$};
        \node[ann] at (-.685,2.637) {$r_1$};
        \node[ann] at (1.643,.987) {$h$};
        \path (.42,-.767) node[below] {$x$}
            (0,2.86) node[above] {$y$}
            (-2.1,-.153) node[left] {$z$};
        % Second version of the cone
        \begin{scope}[xshift=3.5cm]
        \filldraw[ghostdraw,ghostfill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                       --(-.183,2.067)--cycle;
        \filldraw[ghostdraw,ghostfill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                       --(.516,2.016)--cycle;
        \filldraw[ghostdraw,ghostfill](.516,2.016)--(.775,.424)--(1.369,.1)
                                       --(.913,1.8)--cycle;
        \filldraw[ghostdraw,ghostfill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                       --(-.775,1.922)--cycle;
        \filldraw[ghostdraw,ghostfill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                       --(.775,1.545)--cycle;
        \filldraw[ghostdraw,ghostfill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                       --(-.913,1.667)--cycle;
        \filldraw[ghostdraw,ghostfill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                       --(.183,1.4)--cycle;
        \filldraw[fill=red,fill opacity=0.5](-.516,1.45)--(-.775,-.424)--(.274,-.5)
                                             --(.183,1.4)--cycle;
        \fill(-.775,-.424) circle (2pt);
        \fill(.274,-.5) circle (2pt);
        \fill(-.516,1.45) circle (2pt);
        \fill(.183,1.4) circle (2pt);
        \path[font=\footnotesize]
                (.913,1.8) node[right] {$i\hbox{$=$}0$}
                (1.369,.1) node[right] {$i\hbox{$=$}1$};
        \path[font=\footnotesize]
                (-.645,.513) node[left] {$j$}
                (.228,.45) node[right] {$j\hbox{$+$}1$};
        \draw (-.209,.482)+(-60:.25) [yscale=1.3,-&amp;gt;] arc(-60:240:.25);
        \fill[black,font=\footnotesize]
                        (-.516,1.45) node [above] {$P_{00}$}
                        (-.775,-.424) node [below] {$P_{10}$}
                        (.183,1.4) node [above] {$P_{01}$}
                        (.274,-.5) node [below] {$P_{11}$};
        \end{scope}
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 70%; margin-left: 15%; margin-right: 15%;"><img src="generated/latex-image/tikz-cone.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.7<span class="period">.</span></span><span class="space"> </span>TikZ Cone Drawing<div class="autopermalink" data-description="Figure 10.7"><a href="#figure-tikz-cone3D" title="Copy heading and permalink for Figure 10.7">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-5-8">The pgfplots package was included in <code class="code-inline tex2jax_ignore">docinfo/latex-image-preamble</code>. Here, it is used. Also, here we demonstrate using <code class="code-inline tex2jax_ignore">\amp</code> where you would normally use an ampersand in <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>. There are known issues with <code class="code-inline tex2jax_ignore">xelatex</code> processing any gradient shading in <code class="code-inline tex2jax_ignore">tikz</code>. To (successfully) create the gradient shading in the 3D image here, you may need to use <code class="code-inline tex2jax_ignore">pdflatex</code> until <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> developers resolve this issue.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-8" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-pgfplots-demo"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-pgfplots-demo"&gt;
    &lt;caption&gt;Sample pgfplots plot&lt;/caption&gt;
    &lt;image xml:id="pgfplots-demo"&gt;
        &lt;shortdescription&gt;
            a Cartesian plane with a function graph, a parametric curve, and some points
        &lt;/shortdescription&gt;
        &lt;latex-image&gt;
        &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
        \begin{tikzpicture}
        \matrix{
            \begin{axis}[width = 0.5\linewidth]
                \addplot[
                    domain = 0.1:10,
                    &amp;lt;-&amp;gt;,
                    smooth,
                    thin,
                    color = blue,
                ]{4*ln(x)/ln(10)};
                \addplot[
                    only marks,
                ]coordinates{
                    (0,2)
                    (4,3)
                    (2,4)
                    (3,4)};
                \addplot[
                    variable = \t,
                    domain = 0:360,
                    samples = 200,
                    color = orange,
                ]({3*sin(2*t)}, {2*cos(5*t)});
            \end{axis}
            \amp
            \begin{axis}[axis lines = box, width = 0.5\linewidth]
                \addplot3[
                    surf,
                    faceted color = blue,
                    samples = 15,
                    domain = 0:1,
                    y domain = -1:1
                ]{x^2 - y^2};
            \end{axis}\\
        };
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="generated/latex-image/pgfplots-demo.svg" role="img" class="contained" alt="a Cartesian plane with a function graph, a parametric curve, and some points"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.8<span class="period">.</span></span><span class="space"> </span>Sample pgfplots plot<div class="autopermalink" data-description="Figure 10.8"><a href="#figure-pgfplots-demo" title="Copy heading and permalink for Figure 10.8">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-5-10">A plot might use a graphics language to draw the axes and grid, but the data might be from an experiment and live in an external file that you do not wish to place in your source.  Place such a file in a subdirectory directly below the directory where your master source file resides.  Then indicate this directory in a <code class="code-inline tex2jax_ignore">docinfo/directories/@data</code> attribute of your source.  But you <em class="emphasis">must</em> prefix the path with <code class="code-inline tex2jax_ignore">data/</code> as in the source below.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-10" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-pgfplots-data-demo"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-pgfplots-data-demo"&gt;
    &lt;caption&gt;External data in a pgfplots plot&lt;/caption&gt;
    &lt;image xml:id="pgfplots-data-demo"&gt;
        &lt;shortdescription&gt;
            a Cartesian plot of electric potential over time;
        &lt;/shortdescription&gt;
        &lt;latex-image&gt;
        &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
        
        \begin{tikzpicture}
        \begin{axis}[
            xmin=0,xmax=100,ymin=-20,ymax=100,
            ytick={-20,0,...,100},
            xlabel={time (ms)},
            ylabel={potential (V)},
        ]
        \addplot[blue] table {data/dataplot/hodgkin-huxley-data.dat};
        \end{axis}
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="generated/latex-image/pgfplots-data-demo.svg" role="img" class="contained" alt="a Cartesian plot of electric potential over time;"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.9<span class="period">.</span></span><span class="space"> </span>External data in a pgfplots plot<div class="autopermalink" data-description="Figure 10.9"><a href="#figure-pgfplots-data-demo" title="Copy heading and permalink for Figure 10.9">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-5-12">The TikZ image in the next figure is made up from two <abbr class="initialism">PNG</abbr> images (the shark and the swimmer), in addition to various TikZ commands.  The images reside in a source directory, <code class="code-inline tex2jax_ignore">numerical/attack</code>, so the image files (<code class="code-inline tex2jax_ignore">shark.png</code>, <code class="code-inline tex2jax_ignore">swimmer.png</code>) are prefixed in the TikZ code with <code class="code-inline tex2jax_ignore">data/attack</code> so the creation of the image will be successful.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-12" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-shark-attack"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-shark-attack"&gt;
    &lt;caption&gt;An illustration of the shark trying to catch you as you swim to shore.&lt;/caption&gt;
    &lt;image label="shark-attack"&gt;
        &lt;latex-image&gt;
        \begin{tikzpicture}
            \tikzset{ ragged border/.style={ decoration={random steps, segment length=1mm, amplitude=0.5mm}, decorate, } }
            \fill[cyan!30] decorate[ragged border]{ (0,2) -- (8,2) } -- (8,0) -- (0,0) -- cycle;
            \fill[yellow!30] decorate[ragged border]{ (8,2) -- (8,0) } -- (9,0) -- (9,2) -- cycle;
            \draw (1.5,1) node {\scalebox{-0.2}[0.2]{\includegraphics{data/attack/shark.png}}};
            \draw (5,1) node {\includegraphics[scale=0.05]{data/attack/swimmer.png}};
            \draw[|-|] (1.5,3) node [above] {\(\SI{0}{m}\)} -- (5,3) node [above] {\(\SI{50}{m}\)};
            \draw[|-|] (5,3) -- (8,3) node [above] {\(\SI{70}{m}\)};
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;"><img src="generated/latex-image/shark-attack.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.10<span class="period">.</span></span><span class="space"> </span>An illustration of the shark trying to catch you as you swim to shore.<div class="autopermalink" data-description="Figure 10.10"><a href="#figure-shark-attack" title="Copy heading and permalink for Figure 10.10">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-5-14">A Cartesian plot might benefit from having a <code class="code-inline tex2jax_ignore">&lt;description&gt;</code> with a <code class="code-inline tex2jax_ignore">&lt;tabular&gt;</code> that lays bare the data used to to plot points.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-14" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-pgfplots-data-description"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-pgfplots-data-description"&gt;
    &lt;caption&gt;Full description with tabular&lt;/caption&gt;
    &lt;image label="pgfplots-data-description" width="70%"&gt;
        &lt;shortdescription&gt;
            a plot of some data points
        &lt;/shortdescription&gt;
        &lt;description&gt;
            &lt;p&gt;
                A Cartesian graph plotting the following data.
            &lt;/p&gt;
            &lt;tabular row-headers="yes"&gt;
                &lt;col right="minor"/&gt;
                &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                &lt;col/&gt;&lt;col/&gt;&lt;col/&gt;
                &lt;row bottom="minor"&gt;
                    &lt;cell&gt;&lt;m&gt;x&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;1&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;2&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;4&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;6&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;7&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;9&lt;/m&gt;&lt;/cell&gt;
                &lt;/row&gt;
                &lt;row&gt;
                    &lt;cell&gt;&lt;m&gt;y&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;9&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;5&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;8&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;2&lt;/m&gt;&lt;/cell&gt;
                    &lt;cell&gt;&lt;m&gt;3&lt;/m&gt;&lt;/cell&gt;
                &lt;/row&gt;
            &lt;/tabular&gt;
        &lt;/description&gt;
        &lt;latex-image&gt;
            \begin{tikzpicture}
                \begin{axis}[
                        xmin=0,
                        xmax=10,
                        ymin=-0,ymax=10,
                        xlabel={\(x\)},
                        ylabel={\(y\)},
                    ]
                    \addplot[only marks] coordinates {(1,5) (2,3) (3,8) (4,9) (5,5) (6,5) (7,8) (8,2) (9,3)};
                \end{axis}
            \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 70%; margin-left: 15%; margin-right: 15%;">
<img src="generated/latex-image/pgfplots-data-description.svg" role="img" class="contained" alt="a plot of some data points"><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="pgfplots-data-description-description">
<div class="para" id="pgfplots-data-description-2-1">A Cartesian graph plotting the following data.<div class="autopermalink" data-description="Paragraph"><a href="#pgfplots-data-description-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div> <div class="tabular-box natural-width"><table class="tabular">
<tr>
<th scope="row" class="l m b1 r1 l0 t0 lines"><span class="process-math">\(x\)</span></th>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(1\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(2\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(3\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(4\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(5\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(6\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(7\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(8\)</span></td>
<td class="l m b1 r0 l0 t0 lines"><span class="process-math">\(9\)</span></td>
</tr>
<tr>
<th scope="row" class="l m b0 r1 l0 t0 lines"><span class="process-math">\(y\)</span></th>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(5\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(3\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(8\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(9\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(5\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(5\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(8\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(2\)</span></td>
<td class="l m b0 r0 l0 t0 lines"><span class="process-math">\(3\)</span></td>
</tr>
</table></div>
</div></details>
</div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.11<span class="period">.</span></span><span class="space"> </span>Full description with tabular<div class="autopermalink" data-description="Figure 10.11"><a href="#figure-pgfplots-data-description" title="Copy heading and permalink for Figure 10.11">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-5-16">The next image requires three passes with <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> to get everything in place.  It is placed here to test that the code in the Pythion script correctly recognizes this requirement.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-16" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="section-graphics-5-17"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure&gt;
    &lt;caption&gt;A matrix with colored entries&lt;/caption&gt;

    &lt;!-- This image needs three passes with LaTeX, which --&gt;
    &lt;!-- is supported by the script making this image    --&gt;
    &lt;image width="50%"&gt;
        &lt;latex-image label="latex-three-pass"&gt;
            \begin{tikzpicture}
            \node{
                $\begin{bNiceArray}{ccc|cc}[
                code-before={\cellcolor{green!72}{1-1,2-2,3-3}\cellcolor{teal!72}{1-2,2-3,3-4}\cellcolor{yellow!72}{1-3,2-4,3-5}}
                ]
                3 \amp 4 \amp 0 \amp 1 \amp 4 \\
                -2 \amp 3 \amp 1 \amp -2 \amp 3 \\
                0 \amp 2 \amp 1 \amp 0 \amp 2
                \end{bNiceArray}$
            };
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="generated/latex-image/latex-three-pass.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.12<span class="period">.</span></span><span class="space"> </span>A matrix with colored entries<div class="autopermalink" data-description="Figure 10.12"><a href="#section-graphics-5-17" title="Copy heading and permalink for Figure 10.12">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-5-18">PSTricks is a <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> package for drawing diagrams and pictures, dating back to the days before <abbr class="initialism">PDF</abbr>, when PostScript (<abbr class="initialism">PS</abbr>) was king.  Given its history, it does not seem to work easily with the <code class="code-inline tex2jax_ignore">pdflatex</code> engine.  But it will work easily with the <code class="code-inline tex2jax_ignore">xelatex</code> engine.  We try to keep this present sample document workable with both engines, so we have presented an example of the use of PSTricks in the <code class="code-inline tex2jax_ignore">xelatex</code>-exclusive sample document where we test obscure fonts and characters.  So your best bet is to look there.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-18" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para logical" id="section-graphics-5-19">
<div class="para">There are suggestions online that</div>
<pre class="code-display tex2jax_ignore">\usepackage[pdf]{pstricks}</pre>
<div class="para">along with</div>
<pre class="code-display tex2jax_ignore">pdflatex --shell-escape *.tex</pre>
<div class="para">is workable.  We could not make it happen, and a “shell escape” can be a dangerous security hole.  That said, updates to this approach are welcome.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-5-19" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="autopermalink" data-description="Subsection 10.3: LaTeX images"><a href="#section-graphics-5" title="Copy heading and permalink for Subsection 10.3: LaTeX images">🔗</a></div></section><section class="subsection" id="section-graphics-6"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.4</span><span class="space"> </span><span class="title">Asymptote, 2D</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Asymptote, 2D&lt;/title&gt;

    &lt;p&gt;The Asymptote&lt;idx&gt;&lt;h&gt;asymptote graphics language&lt;/h&gt;&lt;/idx&gt; graphics language may be placed in your source to draw graphs, diagrams or pictures.  Rules for formatting code are identical to those for Sage code.  For more on Asymptote see &lt;url href="http://asymptote.sourceforge.net/" visual="asymptote.sourceforge.net"/&gt;.&lt;/p&gt;

    &lt;!--
    See a different (more traditional) variant of URL usage
    in the introductory section.
    --&gt;

    &lt;p&gt;This is a simple physics diagram about levers, taken from the Asymptote documentation.  In the HTML version of this article, the images are SVG's and so should scale nicely when you zoom in on the page.&lt;/p&gt;
    &lt;!-- http://asymptote.sourceforge.net/gallery/lever.asy --&gt;

    &lt;!--
    xml:id's on the figures may be employed for cross-references,
    while the xml:id's on the actual graphics code will be used to name
    the files that are created.  They are optional, in which case,
    generic names will be created, though these use serial numbers and so
    will change as more are added.
    --&gt;

    &lt;figure xml:id="figure-asymptote-levers"&gt;
        &lt;caption&gt;Asymptote Lever Demonstration&lt;/caption&gt;
        &lt;image xml:id="asymptote-lever"&gt;
            &lt;shortdescription&gt;moments on a lever&lt;/shortdescription&gt;
            &lt;asymptote&gt;
            size(200,0);

            pair z0=(0,0);
            pair z1=(2,0);
            pair z2=(5,0);
            pair zf=z1+0.75*(z2-z1);

            draw(z1--z2);
            dot(z1,red+0.15cm);
            dot(z2,darkgreen+0.3cm);
            label("$m$",z1,1.2N,red);
            label("$M$",z2,1.5N,darkgreen);
            label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

            pair s=-0.2*I;
            draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

            s=-0.5*I;
            draw("$\bar{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

            s=-0.95*I;
            draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
            &lt;/asymptote&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;And a colorful contour plot with logarithmic scale.  Again, from the Asymptote documentation.  This SVG image employs two additional PNG images for the two parts where the color varies continuously.&lt;/p&gt;
    &lt;!-- http://asymptote.sourceforge.net/gallery/2D%20graphs/logimage.asy --&gt;

    &lt;figure xml:id="figure-asymptote-contour-plot"&gt;
        &lt;caption&gt;Asymptote Contour Plot&lt;/caption&gt;
        &lt;image xml:id="asymptote-contour"&gt;
            &lt;asymptote&gt;
            import graph;
            import palette;

            size(10cm,10cm,IgnoreAspect);

            real f(real x, real y) {
              return 0.9*pow10(2*sin(x/5+2*y^0.25)) + 0.1*(1+cos(10*log(y)));
            }

            scale(Linear,Log,Log);

            pen[] Palette=BWRainbow();

            bounds range=image(f,Automatic,(0,1),(100,100),nx=200,Palette);

            xaxis("$x$",BottomTop,LeftTicks,above=true);
            yaxis("$y$",LeftRight,RightTicks,above=true);

            palette("$f(x,y)$",range,(0,200),(100,250),Top,Palette,
                    PaletteTicks(ptick=linewidth(0.5*linewidth())));
            &lt;/asymptote&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;Here is the lever diagram again, but now we have added an integral to one of the legends, &lt;em&gt;using a &lt;latex/&gt; macro of our own,&lt;/em&gt; which is idential to one we used in the early part of this article.  The point is, we only needed to define the macro once for the entire document, and it is available as we make Asymptote diagrams.  This device can be used to maintain flexibility and consistency in your choice of notation.&lt;/p&gt;

    &lt;figure xml:id="figure-asymptote-latex-macro"&gt;
        &lt;caption&gt;Aymptote Lever, plus Integral&lt;/caption&gt;
        &lt;image xml:id="asymptote-lever-integral" width="80%"&gt;
            &lt;asymptote&gt;
            size(200,0);

            pair z0=(0,0);
            pair z1=(2,0);
            pair z2=(5,0);
            pair zf=z1+0.75*(z2-z1);

            draw(z1--z2);
            dot(z1,red+0.15cm);
            dot(z2,darkgreen+0.3cm);
            label("$m$",z1,1.2N,red);
            label("$M$",z2,1.5N,darkgreen);
            label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

            pair s=-0.2*I;
            draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

            s=-0.5*I;
            draw("$\bar{x}=\definiteintegral{0}{1}{x\delta(x)}{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

            s=-1.05*I;
            draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
            &lt;/asymptote&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-6-2">The Asymptote graphics language may be placed in your source to draw graphs, diagrams or pictures.  Rules for formatting code are identical to those for Sage code.  For more on Asymptote see <a class="external" href="http://asymptote.sourceforge.net/" target="_blank"><code class="code-inline tex2jax_ignore">asymptote.sourceforge.net</code></a>.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-6-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para" id="section-graphics-6-3">This is a simple physics diagram about levers, taken from the Asymptote documentation.  In the HTML version of this article, the images are SVG’s and so should scale nicely when you zoom in on the page.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-6-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-asymptote-levers"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-asymptote-levers"&gt;
    &lt;caption&gt;Asymptote Lever Demonstration&lt;/caption&gt;
    &lt;image xml:id="asymptote-lever"&gt;
        &lt;shortdescription&gt;moments on a lever&lt;/shortdescription&gt;
        &lt;asymptote&gt;
        size(200,0);

        pair z0=(0,0);
        pair z1=(2,0);
        pair z2=(5,0);
        pair zf=z1+0.75*(z2-z1);

        draw(z1--z2);
        dot(z1,red+0.15cm);
        dot(z2,darkgreen+0.3cm);
        label("$m$",z1,1.2N,red);
        label("$M$",z2,1.5N,darkgreen);
        label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

        pair s=-0.2*I;
        draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

        s=-0.5*I;
        draw("$\bar{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

        s=-0.95*I;
        draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
        &lt;/asymptote&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
<div class="asymptote-box" style="padding-top: 32.39862%"><iframe src="generated/asymptote/asymptote-lever.html" class="asymptote"></iframe></div>
<div style="text-align: center;"><a href="https://pretextbook.org/examples/sample-article/html/generated/asymptote/asymptote-lever.html">Link to full-sized image</a></div>
</div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.13<span class="period">.</span></span><span class="space"> </span>Asymptote Lever Demonstration<div class="autopermalink" data-description="Figure 10.13"><a href="#figure-asymptote-levers" title="Copy heading and permalink for Figure 10.13">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-6-5">And a colorful contour plot with logarithmic scale.  Again, from the Asymptote documentation.  This SVG image employs two additional PNG images for the two parts where the color varies continuously.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-6-5" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-asymptote-contour-plot"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-asymptote-contour-plot"&gt;
    &lt;caption&gt;Asymptote Contour Plot&lt;/caption&gt;
    &lt;image xml:id="asymptote-contour"&gt;
        &lt;asymptote&gt;
        import graph;
        import palette;

        size(10cm,10cm,IgnoreAspect);

        real f(real x, real y) {
          return 0.9*pow10(2*sin(x/5+2*y^0.25)) + 0.1*(1+cos(10*log(y)));
        }

        scale(Linear,Log,Log);

        pen[] Palette=BWRainbow();

        bounds range=image(f,Automatic,(0,1),(100,100),nx=200,Palette);

        xaxis("$x$",BottomTop,LeftTicks,above=true);
        yaxis("$y$",LeftRight,RightTicks,above=true);

        palette("$f(x,y)$",range,(0,200),(100,250),Top,Palette,
                PaletteTicks(ptick=linewidth(0.5*linewidth())));
        &lt;/asymptote&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
<div class="asymptote-box" style="padding-top: 101.052631578947%"><iframe src="generated/asymptote/asymptote-contour.html" class="asymptote"></iframe></div>
<div style="text-align: center;"><a href="https://pretextbook.org/examples/sample-article/html/generated/asymptote/asymptote-contour.html">Link to full-sized image</a></div>
</div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.14<span class="period">.</span></span><span class="space"> </span>Asymptote Contour Plot<div class="autopermalink" data-description="Figure 10.14"><a href="#figure-asymptote-contour-plot" title="Copy heading and permalink for Figure 10.14">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-6-7">Here is the lever diagram again, but now we have added an integral to one of the legends, <em class="emphasis">using a <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> macro of our own,</em> which is idential to one we used in the early part of this article.  The point is, we only needed to define the macro once for the entire document, and it is available as we make Asymptote diagrams.  This device can be used to maintain flexibility and consistency in your choice of notation.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-6-7" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-asymptote-latex-macro"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-asymptote-latex-macro"&gt;
    &lt;caption&gt;Aymptote Lever, plus Integral&lt;/caption&gt;
    &lt;image xml:id="asymptote-lever-integral" width="80%"&gt;
        &lt;asymptote&gt;
        size(200,0);

        pair z0=(0,0);
        pair z1=(2,0);
        pair z2=(5,0);
        pair zf=z1+0.75*(z2-z1);

        draw(z1--z2);
        dot(z1,red+0.15cm);
        dot(z2,darkgreen+0.3cm);
        label("$m$",z1,1.2N,red);
        label("$M$",z2,1.5N,darkgreen);
        label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

        pair s=-0.2*I;
        draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

        s=-0.5*I;
        draw("$\bar{x}=\definiteintegral{0}{1}{x\delta(x)}{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

        s=-1.05*I;
        draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
        &lt;/asymptote&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 80%; margin-left: 10%; margin-right: 10%;">
<div class="asymptote-box" style="padding-top: 34.318297%"><iframe src="generated/asymptote/asymptote-lever-integral.html" class="asymptote"></iframe></div>
<div style="text-align: center;"><a href="https://pretextbook.org/examples/sample-article/html/generated/asymptote/asymptote-lever-integral.html">Link to full-sized image</a></div>
</div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.15<span class="period">.</span></span><span class="space"> </span>Aymptote Lever, plus Integral<div class="autopermalink" data-description="Figure 10.15"><a href="#figure-asymptote-latex-macro" title="Copy heading and permalink for Figure 10.15">🔗</a></div></figcaption></figure><div class="autopermalink" data-description="Subsection 10.4: Asymptote, 2D"><a href="#section-graphics-6" title="Copy heading and permalink for Subsection 10.4: Asymptote, 2D">🔗</a></div></section><section class="subsection" id="graphics-asymptote-webgl"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.5</span><span class="space"> </span><span class="title">Asymptote, 3D via WebGL</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection xml:id="graphics-asymptote-webgl"&gt;
    &lt;title&gt;Asymptote, 3D via WebGL&lt;/title&gt;

    &lt;p&gt;Asymptote can create an &lt;init&gt;HTML&lt;/init&gt; file that is an interactive version of a 3D shape.  At this writing (2020-05-18) support via the &lt;c&gt;pretext&lt;/c&gt; script is evolving.  Plus, you will need newer versions of Asymptote and the &lt;c&gt;dvisvgm&lt;/c&gt; utility to duplicate all of the results being displayed here in this testing document.  The other distinction is that the author needs to provide the aspect ratio of the figure, and this should be placed on the &lt;tag&gt;asymptote&lt;/tag&gt; element (not on the &lt;tag&gt;image&lt;/tag&gt; element).  &lt;xref ref="figure-asymptote-workcone" text="type-global"/&gt; is from the &lt;url href="http://asymptote.sourceforge.net/gallery/3Dwebgl/" visual="asymptote.sourceforge.net/gallery/3Dwebgl/"&gt;Asymptote Gallery&lt;/url&gt;.&lt;/p&gt;

    &lt;figure xml:id="figure-asymptote-workcone"&gt;
        &lt;caption&gt;Work Cone (Asymptote Interactive 3D Image)&lt;/caption&gt;
        &lt;image xml:id="asymptote-workcone" width="50%"&gt;
            &lt;asymptote&gt;
            import solids;
            size(0,150);
            currentprojection=orthographic(0,-30,5);

            real r=4;
            real h=10;
            real s=8;
            real x=r*s/h;

            real sr=5;
            real xr=r*sr/h;

            real s1=sr-0.1;
            real x1=r*s1/h;

            real s2=sr+0.2;
            real x2=r*s2/h;

            render render=render(compression=0,merge=true);

            draw(scale(x1,x1,-s1)*shift(-Z)*unitcone,lightblue+opacity(0.5),render);

            path3 p=(x2,0,s2)--(x,0,s+0.005);
            revolution a=revolution(p,Z);
            draw(surface(a),lightblue+opacity(0.5),render);

            path3 q=(x,0,s)--(r,0,h);
            revolution b=revolution(q,Z);
            draw(surface(b),white+opacity(0.5),render);

            draw((-r-1,0,0)--(r+1,0,0));
            draw((0,0,0)--(0,0,h+1),dashed);

            path3 w=(x1,0,s1)--(x2,0,s2)--(0,0,s2);
            revolution b=revolution(w,Z);
            draw(surface(b),blue+opacity(0.5),render);
            draw(circle((0,0,s2),x2));
            draw(circle((0,0,s1),x1));

            draw("$x$",(xr,0,0)--(xr,0,sr),red,Arrow3,PenMargin3);
            draw("$r$",(0,0,sr)--(xr,0,sr),N,red);
            draw((string) r,(0,0,h)--(r,0,h),N,red);
            draw((string) h,(r,0,0)--(r,0,h),red,Arrow3,PenMargin3);
            draw((string) s,(-x,0,0)--(-x,0,s),W,red,Arrow3,Bar3,PenMargin3);
            &lt;/asymptote&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;These 3D images in HTML output are rotable with a pointing device (mouse, trackpad) with a click-and-drag.  A finger should suffice on touch-sensitive devices (phones, tablets).  Zooming in and out can be accomplished with a mouse wheel, or by pinching.  As a contribution to the accessibility of &lt;pretext/&gt; HTML output, keyboard controls will also allow for exploration of these images.  (Make sure the image has focus when you attempt to use these.)&lt;/p&gt;

    &lt;!-- More possible keyboard shortcuts are at Section 8.29, page 136 --&gt;
    &lt;!-- https://asymptote.sourceforge.io/asymptote.pdf                 --&gt;
    &lt;!-- Not all seem to be implented, so review/test carefully         --&gt;

    &lt;table&gt;
        &lt;title&gt;3D Image Keyboard Controls&lt;/title&gt;
        &lt;tabular&gt;
            &lt;row bottom="medium"&gt;&lt;cell&gt;Key&lt;/cell&gt;&lt;cell&gt;Action&lt;/cell&gt;&lt;/row&gt;
            &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;x&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;x&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
            &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;y&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;y&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
            &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;z&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;z&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
            &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;+&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Enlarge image&lt;/cell&gt;&lt;/row&gt;
            &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;-&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Shrink image&lt;/cell&gt;&lt;/row&gt;
            &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;h&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Return to home position&lt;/cell&gt;&lt;/row&gt;
        &lt;/tabular&gt;
    &lt;/table&gt;

    &lt;p&gt;And finally, an example of a 3-D graph (from the Asymptote documentation again).  This WebGL image is a beautiful example of a Riemann surface.  As you rotate the image, notice how the reflection of the light source varies, along with the brightness of various regions of the surface.  This example is accomplished with just 10 lines of Asymptote code.&lt;/p&gt;

    &lt;!-- http://asymptote.sourceforge.net/gallery/3D%20graphs/filesurface.asy --&gt;
    &lt;!-- Projection point adjusted by Michael Doob --&gt;

    &lt;figure xml:id="figure-asymptote-surface"&gt;
        &lt;caption&gt;Asymptote 3-D Surface&lt;/caption&gt;
        &lt;image xml:id="asymptote-surface" width="40%"&gt;
            &lt;asymptote&gt;
            // Riemann surface of z^{1/n}
            import graph3;
            import palette;

            int n=3;

            size(200,300,keepAspect=false);

            currentprojection=orthographic(10,10,5);
            currentlight=(10,10,5);
            triple f(pair t) {return (t.x*cos(t.y),t.x*sin(t.y),t.x^(1/n)*sin(t.y/n));}

            surface s=surface(f,(0,0),(1,2pi*n),8,16,Spline);
            s.colors(palette(s.map(zpart),Rainbow()));

            draw(s,meshpen=black,render(merge=true));
            &lt;/asymptote&gt;
        &lt;/image&gt;
    &lt;/figure&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="graphics-asymptote-webgl-2">Asymptote can create an <abbr class="initialism">HTML</abbr> file that is an interactive version of a 3D shape.  At this writing (2020-05-18) support via the <code class="code-inline tex2jax_ignore">pretext</code> script is evolving.  Plus, you will need newer versions of Asymptote and the <code class="code-inline tex2jax_ignore">dvisvgm</code> utility to duplicate all of the results being displayed here in this testing document.  The other distinction is that the author needs to provide the aspect ratio of the figure, and this should be placed on the <code class="code-inline tex2jax_ignore">&lt;asymptote&gt;</code> element (not on the <code class="code-inline tex2jax_ignore">&lt;image&gt;</code> element).  <a href="section-graphics.html#figure-asymptote-workcone" class="xref" data-knowl="./knowl/xref/figure-asymptote-workcone.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 10.16">Figure 10.16</a> is from the <a class="external" href="http://asymptote.sourceforge.net/gallery/3Dwebgl/" target="_blank">Asymptote Gallery</a><details class="ptx-footnote" aria-live="polite" id="graphics-asymptote-webgl-2-8"><summary class="ptx-footnote__number" title="Footnote 10.5"><sup> 5 </sup></summary><div class="ptx-footnote__contents" id="graphics-asymptote-webgl-2-8"><code class="code-inline tex2jax_ignore">asymptote.sourceforge.net/gallery/3Dwebgl/</code></div></details>.<div class="autopermalink" data-description="Paragraph"><a href="#graphics-asymptote-webgl-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-asymptote-workcone"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-asymptote-workcone"&gt;
    &lt;caption&gt;Work Cone (Asymptote Interactive 3D Image)&lt;/caption&gt;
    &lt;image xml:id="asymptote-workcone" width="50%"&gt;
        &lt;asymptote&gt;
        import solids;
        size(0,150);
        currentprojection=orthographic(0,-30,5);

        real r=4;
        real h=10;
        real s=8;
        real x=r*s/h;

        real sr=5;
        real xr=r*sr/h;

        real s1=sr-0.1;
        real x1=r*s1/h;

        real s2=sr+0.2;
        real x2=r*s2/h;

        render render=render(compression=0,merge=true);

        draw(scale(x1,x1,-s1)*shift(-Z)*unitcone,lightblue+opacity(0.5),render);

        path3 p=(x2,0,s2)--(x,0,s+0.005);
        revolution a=revolution(p,Z);
        draw(surface(a),lightblue+opacity(0.5),render);

        path3 q=(x,0,s)--(r,0,h);
        revolution b=revolution(q,Z);
        draw(surface(b),white+opacity(0.5),render);

        draw((-r-1,0,0)--(r+1,0,0));
        draw((0,0,0)--(0,0,h+1),dashed);

        path3 w=(x1,0,s1)--(x2,0,s2)--(0,0,s2);
        revolution b=revolution(w,Z);
        draw(surface(b),blue+opacity(0.5),render);
        draw(circle((0,0,s2),x2));
        draw(circle((0,0,s1),x1));

        draw("$x$",(xr,0,0)--(xr,0,sr),red,Arrow3,PenMargin3);
        draw("$r$",(0,0,sr)--(xr,0,sr),N,red);
        draw((string) r,(0,0,h)--(r,0,h),N,red);
        draw((string) h,(r,0,0)--(r,0,h),red,Arrow3,PenMargin3);
        draw((string) s,(-x,0,0)--(-x,0,s),W,red,Arrow3,Bar3,PenMargin3);
        &lt;/asymptote&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;">
<div class="asymptote-box" style="padding-top: 108.63309352518%"><iframe src="generated/asymptote/asymptote-workcone.html" class="asymptote"></iframe></div>
<div style="text-align: center;"><a href="https://pretextbook.org/examples/sample-article/html/generated/asymptote/asymptote-workcone.html">Link to full-sized image</a></div>
</div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.16<span class="period">.</span></span><span class="space"> </span>Work Cone (Asymptote Interactive 3D Image)<div class="autopermalink" data-description="Figure 10.16"><a href="#figure-asymptote-workcone" title="Copy heading and permalink for Figure 10.16">🔗</a></div></figcaption></figure><div class="para" id="graphics-asymptote-webgl-4">These 3D images in HTML output are rotable with a pointing device (mouse, trackpad) with a click-and-drag.  A finger should suffice on touch-sensitive devices (phones, tablets).  Zooming in and out can be accomplished with a mouse wheel, or by pinching.  As a contribution to the accessibility of PreTeXt HTML output, keyboard controls will also allow for exploration of these images.  (Make sure the image has focus when you attempt to use these.)<div class="autopermalink" data-description="Paragraph"><a href="#graphics-asymptote-webgl-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="table table-like" id="graphics-asymptote-webgl-5"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for table</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;table&gt;
    &lt;title&gt;3D Image Keyboard Controls&lt;/title&gt;
    &lt;tabular&gt;
        &lt;row bottom="medium"&gt;&lt;cell&gt;Key&lt;/cell&gt;&lt;cell&gt;Action&lt;/cell&gt;&lt;/row&gt;
        &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;x&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;x&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
        &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;y&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;y&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
        &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;z&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Rotate around &lt;m&gt;z&lt;/m&gt;-axis&lt;/cell&gt;&lt;/row&gt;
        &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;+&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Enlarge image&lt;/cell&gt;&lt;/row&gt;
        &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;-&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Shrink image&lt;/cell&gt;&lt;/row&gt;
        &lt;row&gt;&lt;cell&gt;&lt;kbd&gt;h&lt;/kbd&gt;&lt;/cell&gt;&lt;cell&gt;Return to home position&lt;/cell&gt;&lt;/row&gt;
    &lt;/tabular&gt;
&lt;/table&gt;
</code></pre></article></details><figcaption><span class="type">Table</span><span class="space"> </span><span class="codenumber">10.17<span class="period">.</span></span><span class="space"> </span>3D Image Keyboard Controls<div class="autopermalink" data-description="Table 10.17: 3D Image Keyboard Controls"><a href="#graphics-asymptote-webgl-5" title="Copy heading and permalink for Table 10.17: 3D Image Keyboard Controls">🔗</a></div></figcaption><div class="tabular-box natural-width"><table class="tabular">
<tr>
<td class="l m b2 r0 l0 t0 lines">Key</td>
<td class="l m b2 r0 l0 t0 lines">Action</td>
</tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"><kbd class="kbdkey">x</kbd></td>
<td class="l m b0 r0 l0 t0 lines">Rotate around <span class="process-math">\(x\)</span>-axis</td>
</tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"><kbd class="kbdkey">y</kbd></td>
<td class="l m b0 r0 l0 t0 lines">Rotate around <span class="process-math">\(y\)</span>-axis</td>
</tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"><kbd class="kbdkey">z</kbd></td>
<td class="l m b0 r0 l0 t0 lines">Rotate around <span class="process-math">\(z\)</span>-axis</td>
</tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"><kbd class="kbdkey">+</kbd></td>
<td class="l m b0 r0 l0 t0 lines">Enlarge image</td>
</tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"><kbd class="kbdkey">-</kbd></td>
<td class="l m b0 r0 l0 t0 lines">Shrink image</td>
</tr>
<tr>
<td class="l m b0 r0 l0 t0 lines"><kbd class="kbdkey">h</kbd></td>
<td class="l m b0 r0 l0 t0 lines">Return to home position</td>
</tr>
</table></div></figure><div class="para" id="graphics-asymptote-webgl-6">And finally, an example of a 3-D graph (from the Asymptote documentation again).  This WebGL image is a beautiful example of a Riemann surface.  As you rotate the image, notice how the reflection of the light source varies, along with the brightness of various regions of the surface.  This example is accomplished with just 10 lines of Asymptote code.<div class="autopermalink" data-description="Paragraph"><a href="#graphics-asymptote-webgl-6" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-asymptote-surface"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-asymptote-surface"&gt;
    &lt;caption&gt;Asymptote 3-D Surface&lt;/caption&gt;
    &lt;image xml:id="asymptote-surface" width="40%"&gt;
        &lt;asymptote&gt;
        // Riemann surface of z^{1/n}
        import graph3;
        import palette;

        int n=3;

        size(200,300,keepAspect=false);

        currentprojection=orthographic(10,10,5);
        currentlight=(10,10,5);
        triple f(pair t) {return (t.x*cos(t.y),t.x*sin(t.y),t.x^(1/n)*sin(t.y/n));}

        surface s=surface(f,(0,0),(1,2pi*n),8,16,Spline);
        s.colors(palette(s.map(zpart),Rainbow()));

        draw(s,meshpen=black,render(merge=true));
        &lt;/asymptote&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 40%; margin-left: 30%; margin-right: 30%;">
<div class="asymptote-box" style="padding-top: 149.009900990099%"><iframe src="generated/asymptote/asymptote-surface.html" class="asymptote"></iframe></div>
<div style="text-align: center;"><a href="https://pretextbook.org/examples/sample-article/html/generated/asymptote/asymptote-surface.html">Link to full-sized image</a></div>
</div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.18<span class="period">.</span></span><span class="space"> </span>Asymptote 3-D Surface<div class="autopermalink" data-description="Figure 10.18"><a href="#figure-asymptote-surface" title="Copy heading and permalink for Figure 10.18">🔗</a></div></figcaption></figure><div class="autopermalink" data-description="Subsection 10.5: Asymptote, 3D via WebGL"><a href="#graphics-asymptote-webgl" title="Copy heading and permalink for Subsection 10.5: Asymptote, 3D via WebGL">🔗</a></div></section><section class="subsection" id="graphics-mermaid"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.6</span><span class="space"> </span><span class="title">Mermaid Diagrams</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection xml:id="graphics-mermaid"&gt;
    &lt;title&gt;Mermaid Diagrams&lt;/title&gt;
    &lt;idx&gt;&lt;h&gt;Mermaid diagrams&lt;/h&gt;&lt;/idx&gt;

    &lt;p&gt;&lt;url href="https://mermaid.js.org/" visual="mermaid.js.org"&gt;Mermaid&lt;/url&gt; is a Markdown-inspired tool for authoring various kinds of diagrams. Below, three of the available diagram types are demonstrated. For a full listing of diagram types, see the &lt;url href="https://mermaid.js.org/intro/#diagram-types"&gt;Mermaid Documentation&lt;/url&gt;. The &lt;url href="https://mermaid.live/" visual="mermaid.live"&gt;Mermaid live editor&lt;/url&gt;is a great tool for testing the syntax of your mermaid diagrams.&lt;/p&gt;

    &lt;p&gt;In PreTeXt, you can specify a Mermaid theme via &lt;attr&gt;common/mermaid/@theme&lt;/attr&gt;&lt;/p&gt;

    &lt;figure xml:id="figure-mermaid-git"&gt;
        &lt;caption&gt;Mermaid Git Diagram&lt;/caption&gt;
        &lt;image xml:id="mermaid-git-image"&gt;
            &lt;shortdescription&gt;
                A git diagram in Mermaid
            &lt;/shortdescription&gt;
            &lt;mermaid&gt;
                ---
                title: Example Git diagram
                ---
                gitGraph
                    commit
                    commit
                    branch develop
                    checkout develop
                    commit
                    commit
                    checkout main
                    merge develop
                    commit
                    commit
            &lt;/mermaid&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;figure xml:id="figure-mermaid-class"&gt;
        &lt;caption&gt;Mermaid Class Diagram&lt;/caption&gt;
        &lt;image xml:id="mermaid-class-image"&gt;
            &lt;shortdescription&gt;
                A class diagram in Mermaid
            &lt;/shortdescription&gt;
            &lt;mermaid&gt;
            classDiagram
                Animal &amp;lt;|-- Duck
                Animal &amp;lt;-- Fish
                Animal &amp;lt;|-- Zebra
                Animal : +int age
                Animal : +String gender
                Animal: +isMammal()
                Animal: +mate()
                class Duck{
                  +String beakColor
                  +swim()
                  +quack()
                }
                class Fish{
                  -int sizeInFeet
                  -canEat()
                }
                class Zebra{
                  +bool is_wild
                  +run()
                }
            &lt;/mermaid&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;figure xml:id="figure-mermaid-sequence"&gt;
        &lt;caption&gt;Mermaid Seuqnece Diagram&lt;/caption&gt;
        &lt;image xml:id="mermaid-sequence-image"&gt;
            &lt;shortdescription&gt;
                A sequence diagram in Mermaid
            &lt;/shortdescription&gt;
            &lt;mermaid&gt;
            sequenceDiagram
                participant Alice
                participant Bob
                Alice-&amp;gt;&amp;gt;John: Hello John, how are you?
                loop HealthCheck
                    John-&amp;gt;&amp;gt;John: Fight against hypochondria
                end
                Note right of John: Rational thoughts &amp;lt;br/&amp;gt;prevail!
                John--&amp;gt;&amp;gt;Alice: Great!
                John-&amp;gt;&amp;gt;Bob: How about you?
                Bob--&amp;gt;&amp;gt;John: Jolly good!
            &lt;/mermaid&gt;
        &lt;/image&gt;
    &lt;/figure&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="graphics-mermaid-3">
<a class="external" href="https://mermaid.js.org/" target="_blank">Mermaid</a><details class="ptx-footnote" aria-live="polite" id="graphics-mermaid-3-2"><summary class="ptx-footnote__number" title="Footnote 10.6"><sup> 6 </sup></summary><div class="ptx-footnote__contents" id="graphics-mermaid-3-2"><code class="code-inline tex2jax_ignore">mermaid.js.org</code></div></details> is a Markdown-inspired tool for authoring various kinds of diagrams. Below, three of the available diagram types are demonstrated. For a full listing of diagram types, see the <a class="external" href="https://mermaid.js.org/intro/#diagram-types" target="_blank">Mermaid Documentation</a><details class="ptx-footnote" aria-live="polite" id="graphics-mermaid-3-4"><summary class="ptx-footnote__number" title="Footnote 10.7"><sup> 7 </sup></summary><div class="ptx-footnote__contents" id="graphics-mermaid-3-4"><code class="code-inline tex2jax_ignore">mermaid.js.org/intro/#diagram-types</code></div></details>. The <a class="external" href="https://mermaid.live/" target="_blank">Mermaid live editor</a><details class="ptx-footnote" aria-live="polite" id="graphics-mermaid-3-6"><summary class="ptx-footnote__number" title="Footnote 10.8"><sup> 8 </sup></summary><div class="ptx-footnote__contents" id="graphics-mermaid-3-6"><code class="code-inline tex2jax_ignore">mermaid.live</code></div></details>is a great tool for testing the syntax of your mermaid diagrams.<div class="autopermalink" data-description="Paragraph"><a href="#graphics-mermaid-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para" id="graphics-mermaid-4">In PreTeXt, you can specify a Mermaid theme via <code class="code-inline tex2jax_ignore">@common/mermaid/@theme</code><div class="autopermalink" data-description="Paragraph"><a href="#graphics-mermaid-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-mermaid-git"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-mermaid-git"&gt;
    &lt;caption&gt;Mermaid Git Diagram&lt;/caption&gt;
    &lt;image xml:id="mermaid-git-image"&gt;
        &lt;shortdescription&gt;
            A git diagram in Mermaid
        &lt;/shortdescription&gt;
        &lt;mermaid&gt;
            ---
            title: Example Git diagram
            ---
            gitGraph
                commit
                commit
                branch develop
                checkout develop
                commit
                commit
                checkout main
                merge develop
                commit
                commit
        &lt;/mermaid&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
                        
                            A git diagram in Mermaid
                        
                        <pre class="mermaid">
                            ---
                            title: Example Git diagram
                            ---
                            gitGraph
                                commit
                                commit
                                branch develop
                                checkout develop
                                commit
                                commit
                                checkout main
                                merge develop
                                commit
                                commit
                        </pre>
                    </div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.19<span class="period">.</span></span><span class="space"> </span>Mermaid Git Diagram<div class="autopermalink" data-description="Figure 10.19"><a href="#figure-mermaid-git" title="Copy heading and permalink for Figure 10.19">🔗</a></div></figcaption></figure><figure class="figure figure-like" id="figure-mermaid-class"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-mermaid-class"&gt;
    &lt;caption&gt;Mermaid Class Diagram&lt;/caption&gt;
    &lt;image xml:id="mermaid-class-image"&gt;
        &lt;shortdescription&gt;
            A class diagram in Mermaid
        &lt;/shortdescription&gt;
        &lt;mermaid&gt;
        classDiagram
            Animal &amp;lt;|-- Duck
            Animal &amp;lt;-- Fish
            Animal &amp;lt;|-- Zebra
            Animal : +int age
            Animal : +String gender
            Animal: +isMammal()
            Animal: +mate()
            class Duck{
              +String beakColor
              +swim()
              +quack()
            }
            class Fish{
              -int sizeInFeet
              -canEat()
            }
            class Zebra{
              +bool is_wild
              +run()
            }
        &lt;/mermaid&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
                        
                            A class diagram in Mermaid
                        
                        <pre class="mermaid">
                        classDiagram
                            Animal &lt;|-- Duck
                            Animal &lt;-- Fish
                            Animal &lt;|-- Zebra
                            Animal : +int age
                            Animal : +String gender
                            Animal: +isMammal()
                            Animal: +mate()
                            class Duck{
                              +String beakColor
                              +swim()
                              +quack()
                            }
                            class Fish{
                              -int sizeInFeet
                              -canEat()
                            }
                            class Zebra{
                              +bool is_wild
                              +run()
                            }
                        </pre>
                    </div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.20<span class="period">.</span></span><span class="space"> </span>Mermaid Class Diagram<div class="autopermalink" data-description="Figure 10.20"><a href="#figure-mermaid-class" title="Copy heading and permalink for Figure 10.20">🔗</a></div></figcaption></figure><figure class="figure figure-like" id="figure-mermaid-sequence"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-mermaid-sequence"&gt;
    &lt;caption&gt;Mermaid Seuqnece Diagram&lt;/caption&gt;
    &lt;image xml:id="mermaid-sequence-image"&gt;
        &lt;shortdescription&gt;
            A sequence diagram in Mermaid
        &lt;/shortdescription&gt;
        &lt;mermaid&gt;
        sequenceDiagram
            participant Alice
            participant Bob
            Alice-&amp;gt;&amp;gt;John: Hello John, how are you?
            loop HealthCheck
                John-&amp;gt;&amp;gt;John: Fight against hypochondria
            end
            Note right of John: Rational thoughts &amp;lt;br/&amp;gt;prevail!
            John--&amp;gt;&amp;gt;Alice: Great!
            John-&amp;gt;&amp;gt;Bob: How about you?
            Bob--&amp;gt;&amp;gt;John: Jolly good!
        &lt;/mermaid&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
                        
                            A sequence diagram in Mermaid
                        
                        <pre class="mermaid">
                        sequenceDiagram
                            participant Alice
                            participant Bob
                            Alice-&gt;&gt;John: Hello John, how are you?
                            loop HealthCheck
                                John-&gt;&gt;John: Fight against hypochondria
                            end
                            Note right of John: Rational thoughts &lt;br/&gt;prevail!
                            John--&gt;&gt;Alice: Great!
                            John-&gt;&gt;Bob: How about you?
                            Bob--&gt;&gt;John: Jolly good!
                        </pre>
                    </div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.21<span class="period">.</span></span><span class="space"> </span>Mermaid Seuqnece Diagram<div class="autopermalink" data-description="Figure 10.21"><a href="#figure-mermaid-sequence" title="Copy heading and permalink for Figure 10.21">🔗</a></div></figcaption></figure><div class="autopermalink" data-description="Subsection 10.6: Mermaid Diagrams"><a href="#graphics-mermaid" title="Copy heading and permalink for Subsection 10.6: Mermaid Diagrams">🔗</a></div></section><section class="subsection" id="section-graphics-9"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.7</span><span class="space"> </span><span class="title">Sage Plots</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Sage Plots&lt;/title&gt;
    &lt;idx&gt;&lt;h&gt;Sage plots&lt;/h&gt;&lt;/idx&gt;

    &lt;p&gt;Any of the numerous capabilities of Sage may be used to produce any graphics object, be it the simple graph of a single-variable function or some realization of a more complicated object.  All of the usual rules about formatting Sage code (esp. indentation) apply, along with one more caveat.  The last line of your Sage code &lt;alert&gt;must&lt;/alert&gt; return a Sage &lt;c&gt;Graphics&lt;/c&gt; object (or 3D plot).  The &lt;c&gt;pretext&lt;/c&gt; script will isolate this last line, use it as the RHS of an assignment statement, and the Sage &lt;c&gt;.save()&lt;/c&gt; method will be called to generate the image, which is either a Portable Document Format (PDF) file amenable to &lt;latex/&gt; output, or a Scalable Vector Graphics (SVG) file amenable to HTML output.  For visualizations of 3D plots, Sage will only produce Portable Network Graphics (PNG) files, which can be included in HTML pages or &lt;latex/&gt; output.  For complete documentation, see the &lt;pretext/&gt; Guide as this subsection is not comprehensive.&lt;/p&gt;

    &lt;figure xml:id="figure-sage-parabola"&gt;
        &lt;caption&gt;A Sage standard parabola, on &lt;m&gt;[-2,4]&lt;/m&gt;&lt;/caption&gt;
        &lt;image xml:id="sageplot-parabola" width="50%"&gt;
            &lt;shortdescription&gt;a standard parabola on the interval [-2,4]&lt;/shortdescription&gt;
            &lt;sageplot&gt;
            f(x) = x^2
            plot(f, (x, -2, 4), color='green', thickness=3)
            &lt;/sageplot&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;Pay careful attention to the requirement that the last line of your code be a graphics object.  In particular, while &lt;c&gt;show()&lt;/c&gt; might appear to do the right thing, it evaluates to Python's &lt;c&gt;None&lt;/c&gt; object and that is just what you will get.  The code for Figure&lt;nbsp/&gt;&lt;xref ref="figure-sage-double-plot"/&gt; illustrates creating two graphics objects and combining them into an expression on the last line that evaluates to a graphics object.&lt;/p&gt;

    &lt;figure xml:id="figure-sage-double-plot"&gt;
        &lt;caption&gt;Two Sage plots on one set of axes&lt;/caption&gt;
        &lt;image xml:id="sageplot-updown" width="45%"&gt;
            &lt;sageplot&gt;
            f(x) = x^4
            g(x) = -x^4
            up = plot(f, (x, -1.5, 1.5), color='blue', thickness=2)
            down = plot(g, (x, -1.5, 1.5), color='red', thickness=2)
            up + down
            &lt;/sageplot&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;Sage code comprised of just a single line was once mishandled, leading to &lt;em&gt;no ouput&lt;/em&gt;.  From Jean-Sébastien Turcotte we have the example that revealed the problem.&lt;/p&gt;

    &lt;figure xml:id="figure-sage-exosagevec1"&gt;
        &lt;caption&gt;Les vecteurs &lt;m&gt;\vec{u}&lt;/m&gt; et &lt;m&gt;\vec{v}&lt;/m&gt;&lt;/caption&gt;
        &lt;image width="25%" xml:id="sageplot-exosagevec1"&gt;
            &lt;description&gt;
                &lt;p&gt;
                    Les vecteurs &lt;m&gt;\vec{u}&lt;/m&gt; et &lt;m&gt;\vec{v}&lt;/m&gt;sont tracés tel que demandé,
                    respectivement en rouge et en bleu.
                &lt;/p&gt;
            &lt;/description&gt;
            &lt;sageplot&gt;
            plot(vector([-1,2]),color='red')+plot(vector([2,1]),color='blue')
            &lt;/sageplot&gt;
        &lt;/image&gt;
    &lt;/figure&gt;

    &lt;p&gt;The following examples are from the &lt;url href="http://www.sagemath.org/tour-graphics.html" visual="www.sagemath.org/tour-graphics.html"&gt;Sage Tour&lt;/url&gt;.  We package them into a &lt;c&gt;sidebyside&lt;/c&gt; layout element, see &lt;xref ref="section-side-by-side" text="type-global"/&gt;.&lt;/p&gt;

    &lt;sidebyside width="40%" margins="auto"&gt;
        &lt;!-- Tour example modified: figsize moved from show() into plot() --&gt;
        &lt;!-- 2020-11-18: converted an xrange() to an srange() --&gt;
        &lt;figure xml:id="figure-sage-multigraph"&gt;
            &lt;caption&gt;A Sage multigraph of a sentence&lt;/caption&gt;
            &lt;image xml:id="sageplot-sentence-multigraph"&gt;
                &lt;sageplot&gt;
                stnc = 'I am a cool multiedge graph with loops'
                g = DiGraph({}, loops=True, multiedges=True)
                for a,b in [(stnc[i], stnc[i+1]) for i in srange(len(stnc)-1)]:
                   g.add_edge(a, b, b)
                g.plot(color_by_label=True, edge_style='solid', figsize=(8,8))
                &lt;/sageplot&gt;
            &lt;/image&gt;
        &lt;/figure&gt;
        &lt;!--  --&gt;
        &lt;!-- Tour example modified: now using R.lagrange_polynomial() --&gt;
        &lt;!-- Tour example modified: dropped ymin/ymax, figsize --&gt;
        &lt;figure xml:id="figure-sage-polynomial-approximation"&gt;
            &lt;caption&gt;Sage polynomial approximations of &lt;m&gt;f(x)=1/(1+25x^2)&lt;/m&gt;&lt;/caption&gt;
            &lt;image xml:id="sageplot-polynomial-approximation"&gt;
                &lt;!-- default variant is 2d, just testing here --&gt;
                &lt;sageplot variant="2d"&gt;
                def f(x):
                   return RDF(1 / (1 + 25 * x^2))

                def runge():
                    R = PolynomialRing(RDF, 'x')
                    g = plot(f, -1, 1, rgbcolor='red', thickness=1)
                    polynom = []
                    for i, n in enumerate([6, 8, 10, 12]):
                      data = [(x, f(x)) for x in xsrange(-1, 1, 2 / (n - 1), include_endpoint=True)]
                      polynom.append(R.lagrange_polynomial(data))
                      g += list_plot(data, rgbcolor='black', pointsize=5)
                    g += plot(polynom, -1, 1, fill=f, fillalpha=0.2, thickness=0)
                    return g

                runge()
                &lt;/sageplot&gt;
            &lt;/image&gt;
        &lt;/figure&gt;
    &lt;/sidebyside&gt;

    &lt;p&gt;From the Sage documentation, with slight modifications, credited to Douglas Summers-Stay.  A plot of the implicity defined surface &lt;me&gt;2 = \cos(x + ty) + \cos(x - ty) + \cos(y + tz) + \cos(y - tz) + \cos(z - tx) + \cos(z + tx)&lt;/me&gt; in rectangular &lt;m&gt;xyz&lt;/m&gt; coordinates, with &lt;m&gt;t&lt;/m&gt; equal to the golden ratio.  If you set &lt;c&gt;plot_points=100&lt;/c&gt; in the Sage code, you will get a very smooth rendering, but also a quite large &lt;init&gt;HTML&lt;/init&gt; file.  We have used &lt;c&gt;plot_points=50&lt;/c&gt; to reduce the file size by a factor of four.  Note the need for a value of &lt;c&gt;3d&lt;/c&gt; for the &lt;attr&gt;variant&lt;/attr&gt; attribute, and an explicit aspect ratio with &lt;attr&gt;aspect&lt;/attr&gt;.  Arrow keys, a mouse scroll wheel, plus grabbing with a left or a right mouse button, can be used to manipulate the image.&lt;/p&gt;

    &lt;figure xml:id="figure-sage-implicit-surface"&gt;
        &lt;caption&gt;A Sage implicitly defined 3D surface&lt;/caption&gt;
        &lt;image xml:id="sageplot-implicit-surface" width="80%" margins="15% 5%"&gt;
            &lt;sageplot variant="3d" aspect="1.0"&gt;
            var('x y z')
            T = RDF(golden_ratio)
            p = 2 - (cos(x + T*y) + cos(x - T*y) + cos(y + T*z) + cos(y - T*z) + cos(z - T*x) + cos(z + T*x))
            r = 4.77
            implicit_plot3d(p, (x, -r, r), (y, -r, r), (z, -r, r), plot_points=50, frame=False)
            &lt;/sageplot&gt;
        &lt;/image&gt;
    &lt;/figure&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-9-3">Any of the numerous capabilities of Sage may be used to produce any graphics object, be it the simple graph of a single-variable function or some realization of a more complicated object.  All of the usual rules about formatting Sage code (esp. indentation) apply, along with one more caveat.  The last line of your Sage code <em class="alert">must</em> return a Sage <code class="code-inline tex2jax_ignore">Graphics</code> object (or 3D plot).  The <code class="code-inline tex2jax_ignore">pretext</code> script will isolate this last line, use it as the RHS of an assignment statement, and the Sage <code class="code-inline tex2jax_ignore">.save()</code> method will be called to generate the image, which is either a Portable Document Format (PDF) file amenable to <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output, or a Scalable Vector Graphics (SVG) file amenable to HTML output.  For visualizations of 3D plots, Sage will only produce Portable Network Graphics (PNG) files, which can be included in HTML pages or <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> output.  For complete documentation, see the PreTeXt Guide as this subsection is not comprehensive.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-9-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-sage-parabola"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-sage-parabola"&gt;
    &lt;caption&gt;A Sage standard parabola, on &lt;m&gt;[-2,4]&lt;/m&gt;&lt;/caption&gt;
    &lt;image xml:id="sageplot-parabola" width="50%"&gt;
        &lt;shortdescription&gt;a standard parabola on the interval [-2,4]&lt;/shortdescription&gt;
        &lt;sageplot&gt;
        f(x) = x^2
        plot(f, (x, -2, 4), color='green', thickness=3)
        &lt;/sageplot&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 50%; margin-left: 25%; margin-right: 25%;"><img src="generated/sageplot/sageplot-parabola.svg" role="img" class="contained" alt="a standard parabola on the interval [-2,4]"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.22<span class="period">.</span></span><span class="space"> </span>A Sage standard parabola, on <span class="process-math">\([-2,4]\)</span><div class="autopermalink" data-description="Figure 10.22"><a href="#figure-sage-parabola" title="Copy heading and permalink for Figure 10.22">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-9-5">Pay careful attention to the requirement that the last line of your code be a graphics object.  In particular, while <code class="code-inline tex2jax_ignore">show()</code> might appear to do the right thing, it evaluates to Python’s <code class="code-inline tex2jax_ignore">None</code> object and that is just what you will get.  The code for Figure <a href="section-graphics.html#figure-sage-double-plot" class="xref" data-knowl="./knowl/xref/figure-sage-double-plot.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 10.23">10.23</a> illustrates creating two graphics objects and combining them into an expression on the last line that evaluates to a graphics object.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-9-5" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-sage-double-plot"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-sage-double-plot"&gt;
    &lt;caption&gt;Two Sage plots on one set of axes&lt;/caption&gt;
    &lt;image xml:id="sageplot-updown" width="45%"&gt;
        &lt;sageplot&gt;
        f(x) = x^4
        g(x) = -x^4
        up = plot(f, (x, -1.5, 1.5), color='blue', thickness=2)
        down = plot(g, (x, -1.5, 1.5), color='red', thickness=2)
        up + down
        &lt;/sageplot&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 45%; margin-left: 27.5%; margin-right: 27.5%;"><img src="generated/sageplot/sageplot-updown.svg" role="img" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.23<span class="period">.</span></span><span class="space"> </span>Two Sage plots on one set of axes<div class="autopermalink" data-description="Figure 10.23"><a href="#figure-sage-double-plot" title="Copy heading and permalink for Figure 10.23">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-9-7">Sage code comprised of just a single line was once mishandled, leading to <em class="emphasis">no ouput</em>.  From Jean-Sébastien Turcotte we have the example that revealed the problem.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-9-7" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-sage-exosagevec1"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-sage-exosagevec1"&gt;
    &lt;caption&gt;Les vecteurs &lt;m&gt;\vec{u}&lt;/m&gt; et &lt;m&gt;\vec{v}&lt;/m&gt;&lt;/caption&gt;
    &lt;image width="25%" xml:id="sageplot-exosagevec1"&gt;
        &lt;description&gt;
            &lt;p&gt;
                Les vecteurs &lt;m&gt;\vec{u}&lt;/m&gt; et &lt;m&gt;\vec{v}&lt;/m&gt;sont tracés tel que demandé,
                respectivement en rouge et en bleu.
            &lt;/p&gt;
        &lt;/description&gt;
        &lt;sageplot&gt;
        plot(vector([-1,2]),color='red')+plot(vector([2,1]),color='blue')
        &lt;/sageplot&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 25%; margin-left: 37.5%; margin-right: 37.5%;">
<img src="generated/sageplot/sageplot-exosagevec1.svg" role="img" class="contained" alt="described in detail following the image" aria-describedby="sageplot-exosagevec1-description"><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="sageplot-exosagevec1-description"><div class="para" id="sageplot-exosagevec1-1-1">Les vecteurs <span class="process-math">\(\vec{u}\)</span> et <span class="process-math">\(\vec{v}\)</span>sont tracés tel que demandé, respectivement en rouge et en bleu.<div class="autopermalink" data-description="Paragraph"><a href="#sageplot-exosagevec1-1-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.24<span class="period">.</span></span><span class="space"> </span>Les vecteurs <span class="process-math">\(\vec{u}\)</span> et <span class="process-math">\(\vec{v}\)</span><div class="autopermalink" data-description="Figure 10.24"><a href="#figure-sage-exosagevec1" title="Copy heading and permalink for Figure 10.24">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-9-9">The following examples are from the <a class="external" href="http://www.sagemath.org/tour-graphics.html" target="_blank">Sage Tour</a><details class="ptx-footnote" aria-live="polite" id="section-graphics-9-9-2"><summary class="ptx-footnote__number" title="Footnote 10.9"><sup> 9 </sup></summary><div class="ptx-footnote__contents" id="section-graphics-9-9-2"><code class="code-inline tex2jax_ignore">www.sagemath.org/tour-graphics.html</code></div></details>.  We package them into a <code class="code-inline tex2jax_ignore">sidebyside</code> layout element, see <a href="section-side-by-side.html" class="internal" title="Section 26: Side-By-Side Panels">Section 26</a>.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-9-9" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:5%;margin-right:5%;">
<div class="sbspanel top" style="width:44.4444444444444%;"><figure class="figure figure-like" id="figure-sage-multigraph"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-sage-multigraph"&gt;
    &lt;caption&gt;A Sage multigraph of a sentence&lt;/caption&gt;
    &lt;image xml:id="sageplot-sentence-multigraph"&gt;
        &lt;sageplot&gt;
        stnc = 'I am a cool multiedge graph with loops'
        g = DiGraph({}, loops=True, multiedges=True)
        for a,b in [(stnc[i], stnc[i+1]) for i in srange(len(stnc)-1)]:
           g.add_edge(a, b, b)
        g.plot(color_by_label=True, edge_style='solid', figsize=(8,8))
        &lt;/sageplot&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><img src="generated/sageplot/sageplot-sentence-multigraph.svg" role="img" class="contained"><figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.25<span class="period">.</span></span><span class="space"> </span>A Sage multigraph of a sentence<div class="autopermalink" data-description="Figure 10.25"><a href="#figure-sage-multigraph" title="Copy heading and permalink for Figure 10.25">🔗</a></div></figcaption></figure></div>
<div class="sbspanel top" style="width:44.4444444444444%;"><figure class="figure figure-like" id="figure-sage-polynomial-approximation"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-sage-polynomial-approximation"&gt;
    &lt;caption&gt;Sage polynomial approximations of &lt;m&gt;f(x)=1/(1+25x^2)&lt;/m&gt;&lt;/caption&gt;
    &lt;image xml:id="sageplot-polynomial-approximation"&gt;
        &lt;!-- default variant is 2d, just testing here --&gt;
        &lt;sageplot variant="2d"&gt;
        def f(x):
           return RDF(1 / (1 + 25 * x^2))

        def runge():
            R = PolynomialRing(RDF, 'x')
            g = plot(f, -1, 1, rgbcolor='red', thickness=1)
            polynom = []
            for i, n in enumerate([6, 8, 10, 12]):
              data = [(x, f(x)) for x in xsrange(-1, 1, 2 / (n - 1), include_endpoint=True)]
              polynom.append(R.lagrange_polynomial(data))
              g += list_plot(data, rgbcolor='black', pointsize=5)
            g += plot(polynom, -1, 1, fill=f, fillalpha=0.2, thickness=0)
            return g

        runge()
        &lt;/sageplot&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><img src="generated/sageplot/sageplot-polynomial-approximation.svg" role="img" class="contained"><figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.26<span class="period">.</span></span><span class="space"> </span>Sage polynomial approximations of <span class="process-math">\(f(x)=1/(1+25x^2)\)</span><div class="autopermalink" data-description="Figure 10.26"><a href="#figure-sage-polynomial-approximation" title="Copy heading and permalink for Figure 10.26">🔗</a></div></figcaption></figure></div>
</div></div>
<div class="para logical" id="section-graphics-9-11">
<div class="para">From the Sage documentation, with slight modifications, credited to Douglas Summers-Stay.  A plot of the implicity defined surface</div>
<div class="displaymath process-math">
\begin{equation*}
2 = \cos(x + ty) + \cos(x - ty) + \cos(y + tz) + \cos(y - tz) + \cos(z - tx) + \cos(z + tx)
\end{equation*}
</div>
<div class="para">in rectangular <span class="process-math">\(xyz\)</span> coordinates, with <span class="process-math">\(t\)</span> equal to the golden ratio.  If you set <code class="code-inline tex2jax_ignore">plot_points=100</code> in the Sage code, you will get a very smooth rendering, but also a quite large <abbr class="initialism">HTML</abbr> file.  We have used <code class="code-inline tex2jax_ignore">plot_points=50</code> to reduce the file size by a factor of four.  Note the need for a value of <code class="code-inline tex2jax_ignore">3d</code> for the <code class="code-inline tex2jax_ignore">@variant</code> attribute, and an explicit aspect ratio with <code class="code-inline tex2jax_ignore">@aspect</code>.  Arrow keys, a mouse scroll wheel, plus grabbing with a left or a right mouse button, can be used to manipulate the image.</div>
<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-9-11" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-sage-implicit-surface"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-sage-implicit-surface"&gt;
    &lt;caption&gt;A Sage implicitly defined 3D surface&lt;/caption&gt;
    &lt;image xml:id="sageplot-implicit-surface" width="80%" margins="15% 5%"&gt;
        &lt;sageplot variant="3d" aspect="1.0"&gt;
        var('x y z')
        T = RDF(golden_ratio)
        p = 2 - (cos(x + T*y) + cos(x - T*y) + cos(y + T*z) + cos(y - T*z) + cos(z - T*x) + cos(z + T*x))
        r = 4.77
        implicit_plot3d(p, (x, -r, r), (y, -r, r), (z, -r, r), plot_points=50, frame=False)
        &lt;/sageplot&gt;
    &lt;/image&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 80%; margin-left: 15%; margin-right: 5%;"><iframe width="480" height="480" src="generated/sageplot/sageplot-implicit-surface.html"></iframe></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.27<span class="period">.</span></span><span class="space"> </span>A Sage implicitly defined 3D surface<div class="autopermalink" data-description="Figure 10.27"><a href="#figure-sage-implicit-surface" title="Copy heading and permalink for Figure 10.27">🔗</a></div></figcaption></figure><div class="autopermalink" data-description="Subsection 10.7: Sage Plots"><a href="#section-graphics-9" title="Copy heading and permalink for Subsection 10.7: Sage Plots">🔗</a></div></section><section class="subsection" id="section-graphics-10"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.8</span><span class="space"> </span><span class="title">Inkscape Images</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Inkscape Images&lt;/title&gt;

    &lt;p&gt;&lt;url href="https://inkscape.org/" visual="inkscape.org"&gt;Inkscape&lt;/url&gt; is a great tool for creating images.  It ticks all the boxes: open source, mature, cross-platform, standards-compliant.  Read much more about it in The &lt;pretext/&gt; Guide.  In &lt;init&gt;HTML&lt;/init&gt; output the two images below are both in &lt;init&gt;SVG&lt;/init&gt; format.  The first is &lt;q&gt;pure&lt;/q&gt; SVG, while the second has embedded information that makes it easier to edit in Inkscape.  You could view the source for this page in the &lt;init&gt;HTML&lt;/init&gt; version, deduce the filename of the second image, download it, and manipulate it profitably with Inkscape.  Both files are quite small, but the first is half the size of the second.  In &lt;init&gt;PDF&lt;/init&gt; the two images come from files that are identical, so nothing is being tested.  The &lt;init&gt;PDF&lt;/init&gt; version is smaller still.&lt;/p&gt;

    &lt;figure&gt;
        &lt;caption&gt;Inkscape Stars, Plain SVG (left), Inkscape SVG (right), from Bethany Llewellyn&lt;/caption&gt;
        &lt;sidebyside width="25%"&gt;
            &lt;image source="images/inkscape-stars-plain"/&gt;
            &lt;image source="images/inkscape-stars-native"/&gt;
        &lt;/sidebyside&gt;
    &lt;/figure&gt;

&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-10-2">
<a class="external" href="https://inkscape.org/" target="_blank">Inkscape</a><details class="ptx-footnote" aria-live="polite" id="section-graphics-10-2-2"><summary class="ptx-footnote__number" title="Footnote 10.10"><sup> 10 </sup></summary><div class="ptx-footnote__contents" id="section-graphics-10-2-2"><code class="code-inline tex2jax_ignore">inkscape.org</code></div></details> is a great tool for creating images.  It ticks all the boxes: open source, mature, cross-platform, standards-compliant.  Read much more about it in The PreTeXt Guide.  In <abbr class="initialism">HTML</abbr> output the two images below are both in <abbr class="initialism">SVG</abbr> format.  The first is “pure” SVG, while the second has embedded information that makes it easier to edit in Inkscape.  You could view the source for this page in the <abbr class="initialism">HTML</abbr> version, deduce the filename of the second image, download it, and manipulate it profitably with Inkscape.  Both files are quite small, but the first is half the size of the second.  In <abbr class="initialism">PDF</abbr> the two images come from files that are identical, so nothing is being tested.  The <abbr class="initialism">PDF</abbr> version is smaller still.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-10-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="section-graphics-10-3"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure&gt;
    &lt;caption&gt;Inkscape Stars, Plain SVG (left), Inkscape SVG (right), from Bethany Llewellyn&lt;/caption&gt;
    &lt;sidebyside width="25%"&gt;
        &lt;image source="images/inkscape-stars-plain"/&gt;
        &lt;image source="images/inkscape-stars-native"/&gt;
    &lt;/sidebyside&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="sidebyside"><div class="sbsrow" style="margin-left:12.5%;margin-right:12.5%;">
<div class="sbspanel top" style="width:33.3333333333333%;"><img src="external/images/inkscape-stars-plain.svg" role="img" class="contained"></div>
<div class="sbspanel top" style="width:33.3333333333333%;"><img src="external/images/inkscape-stars-native.svg" role="img" class="contained"></div>
</div></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.28<span class="period">.</span></span><span class="space"> </span>Inkscape Stars, Plain SVG (left), Inkscape SVG (right), from Bethany Llewellyn<div class="autopermalink" data-description="Figure 10.28"><a href="#section-graphics-10-3" title="Copy heading and permalink for Figure 10.28">🔗</a></div></figcaption></figure><div class="autopermalink" data-description="Subsection 10.8: Inkscape Images"><a href="#section-graphics-10" title="Copy heading and permalink for Subsection 10.8: Inkscape Images">🔗</a></div></section><section class="subsection" id="section-graphics-11"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.9</span><span class="space"> </span><span class="title">Copies of Images</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Copies of Images&lt;/title&gt;

    &lt;p&gt;Sometimes you want to use the same image more than once.  Here we just point to a &lt;init&gt;PNG&lt;/init&gt; file that we repeat often throughout this sample.&lt;/p&gt;

    &lt;figure xml:id="figure-raster-image-copy"&gt;
        &lt;caption&gt;Copy of raster image, in a figure, so now numbered and captioned&lt;/caption&gt;
        &lt;image source="images/cross-square.png" width="30%"/&gt;
    &lt;/figure&gt;

    &lt;p&gt;For images described by code, such as TikZ code in a &lt;tag&gt;latex-image&lt;/tag&gt; element, this is a bit subtler.  See the &lt;pretext/&gt; Guide for a complete description.  We also demonstrate this with the sample book, since it is all set up with the &lt;c&gt;xinclude&lt;/c&gt; mechanism.  See the two plots of the 8-th roots of unity in the complex numbers section of the chapter on cyclic groups.&lt;/p&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-11-2">Sometimes you want to use the same image more than once.  Here we just point to a <abbr class="initialism">PNG</abbr> file that we repeat often throughout this sample.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-11-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-raster-image-copy"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-raster-image-copy"&gt;
    &lt;caption&gt;Copy of raster image, in a figure, so now numbered and captioned&lt;/caption&gt;
    &lt;image source="images/cross-square.png" width="30%"/&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 30%; margin-left: 35%; margin-right: 35%;"><img src="external/images/cross-square.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.29<span class="period">.</span></span><span class="space"> </span>Copy of raster image, in a figure, so now numbered and captioned<div class="autopermalink" data-description="Figure 10.29"><a href="#figure-raster-image-copy" title="Copy heading and permalink for Figure 10.29">🔗</a></div></figcaption></figure><div class="para" id="section-graphics-11-4">For images described by code, such as TikZ code in a <code class="code-inline tex2jax_ignore">&lt;latex-image&gt;</code> element, this is a bit subtler.  See the PreTeXt Guide for a complete description.  We also demonstrate this with the sample book, since it is all set up with the <code class="code-inline tex2jax_ignore">xinclude</code> mechanism.  See the two plots of the 8-th roots of unity in the complex numbers section of the chapter on cyclic groups.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-11-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="autopermalink" data-description="Subsection 10.9: Copies of Images"><a href="#section-graphics-11" title="Copy heading and permalink for Subsection 10.9: Copies of Images">🔗</a></div></section><section class="subsection" id="section-graphics-12"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.10</span><span class="space"> </span><span class="title">Caption Testing</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Caption Testing&lt;/title&gt;

    &lt;p&gt;A caption could be as substantial as a paragraph, here we test out one such example.&lt;/p&gt;

    &lt;figure xml:id="figure-long-caption"&gt;
        &lt;caption&gt;A caption can be a whole paragraph with lots of technical details, and maybe a hyperlink to something external, such as &lt;url href="https://pretextbook.org" visual="pretextbook.org"/&gt; or &lt;url href="https://pretextbook.org" visual="pretextbook.org"&gt;&lt;pretext/&gt;&lt;/url&gt;.  There could be some inline mathematics, such as &lt;m&gt;x^2 + y^2 = c^2&lt;/m&gt;.  Would a knowl open here?  Recursively?  Let's see: &lt;xref ref="figure-long-caption"/&gt;.  Display mathematics, side-by-sides, theorems, and lots of other things should be banned.  Footnotes sound like a bad idea.  Strange characters should be fine: &lt;section-mark/&gt;.&lt;/caption&gt;

        &lt;image source="images/cross-square.png" width="20%"/&gt;
    &lt;/figure&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-12-2">A caption could be as substantial as a paragraph, here we test out one such example.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-12-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<figure class="figure figure-like" id="figure-long-caption"><details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for figure</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;figure xml:id="figure-long-caption"&gt;
    &lt;caption&gt;A caption can be a whole paragraph with lots of technical details, and maybe a hyperlink to something external, such as &lt;url href="https://pretextbook.org" visual="pretextbook.org"/&gt; or &lt;url href="https://pretextbook.org" visual="pretextbook.org"&gt;&lt;pretext/&gt;&lt;/url&gt;.  There could be some inline mathematics, such as &lt;m&gt;x^2 + y^2 = c^2&lt;/m&gt;.  Would a knowl open here?  Recursively?  Let's see: &lt;xref ref="figure-long-caption"/&gt;.  Display mathematics, side-by-sides, theorems, and lots of other things should be banned.  Footnotes sound like a bad idea.  Strange characters should be fine: &lt;section-mark/&gt;.&lt;/caption&gt;

    &lt;image source="images/cross-square.png" width="20%"/&gt;
&lt;/figure&gt;
</code></pre></article></details><div class="image-box" style="width: 20%; margin-left: 40%; margin-right: 40%;"><img src="external/images/cross-square.png" class="contained"></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">10.30<span class="period">.</span></span><span class="space"> </span>A caption can be a whole paragraph with lots of technical details, and maybe a hyperlink to something external, such as <a class="external" href="https://pretextbook.org" target="_blank"><code class="code-inline tex2jax_ignore">pretextbook.org</code></a> or <a class="external" href="https://pretextbook.org" target="_blank">PreTeXt</a><details class="ptx-footnote" aria-live="polite" id="figure-long-caption-1-3"><summary class="ptx-footnote__number" title="Footnote 10.11"><sup> 11 </sup></summary><div class="ptx-footnote__contents" id="figure-long-caption-1-3"><code class="code-inline tex2jax_ignore">pretextbook.org</code></div></details>.  There could be some inline mathematics, such as <span class="process-math">\(x^2 + y^2 = c^2\text{.}\)</span>  Would a knowl open here?  Recursively?  Let’s see: <a href="section-graphics.html#figure-long-caption" class="xref" data-knowl="./knowl/xref/figure-long-caption.html" data-reveal-label="Reveal" data-close-label="Close" title="Figure 10.30">10.30</a>.  Display mathematics, side-by-sides, theorems, and lots of other things should be banned.  Footnotes sound like a bad idea.  Strange characters should be fine: §.<div class="autopermalink" data-description="Figure 10.30"><a href="#figure-long-caption" title="Copy heading and permalink for Figure 10.30">🔗</a></div></figcaption></figure><div class="autopermalink" data-description="Subsection 10.10: Caption Testing"><a href="#section-graphics-12" title="Copy heading and permalink for Subsection 10.10: Caption Testing">🔗</a></div></section><section class="subsection" id="captionless-images"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.11</span><span class="space"> </span><span class="title">Captionless Images</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection xml:id="captionless-images"&gt;
    &lt;title&gt;Captionless Images&lt;/title&gt;

    &lt;p&gt;We strongly suggest placing images within a &lt;tag&gt;figure&lt;/tag&gt;, as we have done above, so that you can reference them, and use the (required) &lt;tag&gt;caption&lt;/tag&gt; to explain what they are.  However there are places, such as a &lt;tag&gt;preface&lt;/tag&gt;, where numbered items are not permitted.  So you might want a solo image there.  Or maybe graphics are an illustration of sorts, and a numbered figure feels like overkill.  Or it is part of an &lt;tag&gt;exercise&lt;/tag&gt; or &lt;tag&gt;proof&lt;/tag&gt; of a &lt;tag&gt;theorem&lt;/tag&gt;. But notice that you cannot then use this image as the target of a cross-reference, so you may need to refer to some enclosing container.&lt;/p&gt;

    &lt;p&gt;The image can be scaled by specifying the &lt;attr&gt;width&lt;/attr&gt; as a percentage, including the percent-sign (%).  The height is scaled to preserve the aspect ratio.  There is no facility to change the height, it is your responsibility to manage the aspect ratio independently.  The &lt;attr&gt;margins&lt;/attr&gt; can be given as a pair of percentages, separated by a space.  The &lt;attr&gt;width&lt;/attr&gt; defaults to 100%, while &lt;attr&gt;margins&lt;/attr&gt; defaults to the value &lt;c&gt;auto&lt;/c&gt;, which will center the image.  Missing values are computed sensibly, and there is robust error-checking.  The layout control here is a subset of what is available for the more elaborate &lt;tag&gt;sidebyside&lt;/tag&gt; element, see &lt;xref ref="section-side-by-side" text="type-global"/&gt;.&lt;/p&gt;

    &lt;p&gt;Two simple examples. The first has width &lt;c&gt;10%&lt;/c&gt; and so defaults to being centered, and the second has width &lt;c&gt;10%&lt;/c&gt; and left margin of &lt;c&gt;25%&lt;/c&gt;.&lt;/p&gt;

    &lt;image source="images/cross-square.png" width="10%"/&gt;

    &lt;p&gt;A paragraph, just to show where the first stops and the second ends.&lt;/p&gt;

    &lt;image source="images/cross-square.png" width="10%" margins="25% 65%"/&gt;

    &lt;p&gt;You might wish to place a single image flush-left, or flush-right.  You can specify the &lt;c&gt;margins&lt;/c&gt; attribute as a pair of percentages for different left and right margins.  The following are laid out with two margins, with a 0% left margin and right margin (respectively). &lt;/p&gt;

    &lt;image source="images/cross-square.png" width="10%" margins="0% 90%"/&gt;

    &lt;image source="images/cross-square.png" width="10%" margins="90% 0%"/&gt;

    &lt;p&gt;We place two images right above one another, to test spacing of consecutive images (provided they stay on the same page!).&lt;/p&gt;

    &lt;image source="images/cross-square.png" width="10%" margins="10% 80%"/&gt;

    &lt;image source="images/cross-square.png" width="10%" margins="10% 80%"/&gt;

    &lt;paragraphs&gt;
        &lt;title&gt;Testing (2019-06-02)&lt;/title&gt;

        &lt;p&gt;All the images above are specified by filenames.  We need to test how various options behave when incorporated into the (new) implementation for images, being introduced with solo images.&lt;/p&gt;

        &lt;p&gt;A &lt;c&gt;tikz&lt;/c&gt; image recycled from above, now 40% width, with 40% left margin, 20% right margin.&lt;/p&gt;

        &lt;image xml:id="tikz-cone-solo" width="40%" margins="40% 20%"&gt;
            &lt;latex-image&gt;
            &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
            \begin{tikzpicture}[join=round]
            \tikzstyle{conefill} = [fill=blue!20,fill opacity=0.8]
            \tikzstyle{ann} = [fill=white,font=\footnotesize,inner sep=1pt]
            \tikzstyle{ghostfill} = [fill=white]
                 \tikzstyle{ghostdraw} = [draw=black!50]
            \filldraw[conefill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                --(-.183,2.067)--cycle;
            \filldraw[conefill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                --(.516,2.016)--cycle;
            \filldraw[conefill](.516,2.016)--(.775,.424)--(1.369,.1)
                                --(.913,1.8)--cycle;
            \filldraw[conefill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                --(-.775,1.922)--cycle;
            \draw(1.461,.107)--(1.734,.127);
            \draw[arrows=&amp;lt;-&amp;gt;](1.643,1.853)--(1.643,.12);
            \filldraw[conefill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                --(.775,1.545)--cycle;
            \draw[arrows=-&amp;gt;,line width=.4pt](.274,-.5)--(0,0)--(0,2.86);
            \draw[arrows=-,line width=.4pt](0,0)--(-1.369,-.1);
            \draw[arrows=-&amp;gt;,line width=.4pt](-1.369,-.1)--(-2.1,-.153);
            \filldraw[conefill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                --(-.913,1.667)--cycle;
            \draw(-1.369,.073)--(-1.369,2.76);
            \draw(1.004,1.807)--(1.734,1.86);
            \filldraw[conefill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                --(.183,1.4)--cycle;
            \draw[arrows=&amp;lt;-&amp;gt;](0,2.34)--(-.913,2.273);
            \draw(-.913,1.84)--(-.913,2.447);
            \draw[arrows=&amp;lt;-&amp;gt;](0,2.687)--(-1.369,2.587);
            \filldraw[conefill](.183,1.4)--(.274,-.5)--(-.775,-.424)
                                --(-.516,1.45)--cycle;
            \draw[arrows=&amp;lt;-,line width=.4pt](.42,-.767)--(.274,-.5);
            \node[ann] at (-.456,2.307) {$r_0$};
            \node[ann] at (-.685,2.637) {$r_1$};
            \node[ann] at (1.643,.987) {$h$};
            \path (.42,-.767) node[below] {$x$}
                (0,2.86) node[above] {$y$}
                (-2.1,-.153) node[left] {$z$};
            % Second version of the cone
            \begin{scope}[xshift=3.5cm]
            \filldraw[ghostdraw,ghostfill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                           --(-.183,2.067)--cycle;
            \filldraw[ghostdraw,ghostfill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                           --(.516,2.016)--cycle;
            \filldraw[ghostdraw,ghostfill](.516,2.016)--(.775,.424)--(1.369,.1)
                                           --(.913,1.8)--cycle;
            \filldraw[ghostdraw,ghostfill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                           --(-.775,1.922)--cycle;
            \filldraw[ghostdraw,ghostfill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                           --(.775,1.545)--cycle;
            \filldraw[ghostdraw,ghostfill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                           --(-.913,1.667)--cycle;
            \filldraw[ghostdraw,ghostfill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                           --(.183,1.4)--cycle;
            \filldraw[fill=red,fill opacity=0.5](-.516,1.45)--(-.775,-.424)--(.274,-.5)
                                                 --(.183,1.4)--cycle;
            \fill(-.775,-.424) circle (2pt);
            \fill(.274,-.5) circle (2pt);
            \fill(-.516,1.45) circle (2pt);
            \fill(.183,1.4) circle (2pt);
            \path[font=\footnotesize]
                    (.913,1.8) node[right] {$i\hbox{$=$}0$}
                    (1.369,.1) node[right] {$i\hbox{$=$}1$};
            \path[font=\footnotesize]
                    (-.645,.513) node[left] {$j$}
                    (.228,.45) node[right] {$j\hbox{$+$}1$};
            \draw (-.209,.482)+(-60:.25) [yscale=1.3,-&amp;gt;] arc(-60:240:.25);
            \fill[black,font=\footnotesize]
                            (-.516,1.45) node [above] {$P_{00}$}
                            (-.775,-.424) node [below] {$P_{10}$}
                            (.183,1.4) node [above] {$P_{01}$}
                            (.274,-.5) node [below] {$P_{11}$};
            \end{scope}
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;

        &lt;p&gt;A &lt;c&gt;pgfplot&lt;/c&gt; image recycled from above, now 20% width, with 40% left margin, 40% right margin, and no longer legible.&lt;/p&gt;

        &lt;image xml:id="pgfplots-data-demo-solo" width="20%" margins="40% 40%"&gt;
            &lt;latex-image&gt;
            &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
            
            \begin{tikzpicture}
            \begin{axis}[
                xmin=0,xmax=100,ymin=-20,ymax=100,
                ytick={-20,0,...,100},
                xlabel={time (ms)},
                ylabel={potential (V)},
            ]
            \addplot[blue] table {data/dataplot/hodgkin-huxley-data.dat};
            \end{axis}
            \end{tikzpicture}
            &lt;/latex-image&gt;
        &lt;/image&gt;


        &lt;p&gt;An Asymptote image, with zero layout control, so 100% width.&lt;/p&gt;

        &lt;image xml:id="asymptote-lever-solo"&gt;
            &lt;shortdescription&gt;moments on a lever&lt;/shortdescription&gt;
            &lt;asymptote&gt;
            // The next comment was seen in the wild, and the angle brackets
            // are non-ASCII Unicode characters, which was disrupting communication
            // with the Asymptote server, so we include the comment here for testing.
            // The actual comment is immaterial for the lever diagram.
            //
            // The path is an elliptical helix ⟨ cos t, 2sin t, t/pi ⟩.
            //
            size(200,0);

            pair z0=(0,0);
            pair z1=(2,0);
            pair z2=(5,0);
            pair zf=z1+0.75*(z2-z1);

            draw(z1--z2);
            dot(z1,red+0.15cm);
            dot(z2,darkgreen+0.3cm);
            label("$m$",z1,1.2N,red);
            label("$M$",z2,1.5N,darkgreen);
            label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

            pair s=-0.2*I;
            draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

            s=-0.5*I;
            draw("$\bar{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

            s=-0.95*I;
            draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
            &lt;/asymptote&gt;
        &lt;/image&gt;

        &lt;p&gt;A Sage example, pushed to the right margin.&lt;/p&gt;

        &lt;image xml:id="sageplot-parabola-solo" width="30%" margins="70% 0%"&gt;
            &lt;shortdescription&gt;a standard parabola on the interval [-2,4]&lt;/shortdescription&gt;
            &lt;sageplot&gt;
            f(x) = x^2
            plot(f, (x, -2, 4), color='green', thickness=3)
            &lt;/sageplot&gt;
        &lt;/image&gt;
    &lt;/paragraphs&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="captionless-images-2">We strongly suggest placing images within a <code class="code-inline tex2jax_ignore">&lt;figure&gt;</code>, as we have done above, so that you can reference them, and use the (required) <code class="code-inline tex2jax_ignore">&lt;caption&gt;</code> to explain what they are.  However there are places, such as a <code class="code-inline tex2jax_ignore">&lt;preface&gt;</code>, where numbered items are not permitted.  So you might want a solo image there.  Or maybe graphics are an illustration of sorts, and a numbered figure feels like overkill.  Or it is part of an <code class="code-inline tex2jax_ignore">&lt;exercise&gt;</code> or <code class="code-inline tex2jax_ignore">&lt;proof&gt;</code> of a <code class="code-inline tex2jax_ignore">&lt;theorem&gt;</code>. But notice that you cannot then use this image as the target of a cross-reference, so you may need to refer to some enclosing container.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para" id="captionless-images-3">The image can be scaled by specifying the <code class="code-inline tex2jax_ignore">@width</code> as a percentage, including the percent-sign (%).  The height is scaled to preserve the aspect ratio.  There is no facility to change the height, it is your responsibility to manage the aspect ratio independently.  The <code class="code-inline tex2jax_ignore">@margins</code> can be given as a pair of percentages, separated by a space.  The <code class="code-inline tex2jax_ignore">@width</code> defaults to 100%, while <code class="code-inline tex2jax_ignore">@margins</code> defaults to the value <code class="code-inline tex2jax_ignore">auto</code>, which will center the image.  Missing values are computed sensibly, and there is robust error-checking.  The layout control here is a subset of what is available for the more elaborate <code class="code-inline tex2jax_ignore">&lt;sidebyside&gt;</code> element, see <a href="section-side-by-side.html" class="internal" title="Section 26: Side-By-Side Panels">Section 26</a>.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para" id="captionless-images-4">Two simple examples. The first has width <code class="code-inline tex2jax_ignore">10%</code> and so defaults to being centered, and the second has width <code class="code-inline tex2jax_ignore">10%</code> and left margin of <code class="code-inline tex2jax_ignore">25%</code>.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 10%; margin-left: 45%; margin-right: 45%;"><img src="external/images/cross-square.png" class="contained"></div>
<div class="para" id="captionless-images-6">A paragraph, just to show where the first stops and the second ends.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-6" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 10%; margin-left: 25%; margin-right: 65%;"><img src="external/images/cross-square.png" class="contained"></div>
<div class="para" id="captionless-images-8">You might wish to place a single image flush-left, or flush-right.  You can specify the <code class="code-inline tex2jax_ignore">margins</code> attribute as a pair of percentages for different left and right margins.  The following are laid out with two margins, with a 0% left margin and right margin (respectively).<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-8" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 10%; margin-left: 0%; margin-right: 90%;"><img src="external/images/cross-square.png" class="contained"></div>
<div class="image-box" style="width: 10%; margin-left: 90%; margin-right: 0%;"><img src="external/images/cross-square.png" class="contained"></div>
<div class="para" id="captionless-images-11">We place two images right above one another, to test spacing of consecutive images (provided they stay on the same page!).<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-11" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 10%; margin-left: 10%; margin-right: 80%;"><img src="external/images/cross-square.png" class="contained"></div>
<div class="image-box" style="width: 10%; margin-left: 10%; margin-right: 80%;"><img src="external/images/cross-square.png" class="contained"></div>
<section class="paragraphs" id="captionless-images-14"><h4 class="heading"><span class="title">Testing (2019-06-02).</span></h4>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for paragraphs</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;paragraphs&gt;
    &lt;title&gt;Testing (2019-06-02)&lt;/title&gt;

    &lt;p&gt;All the images above are specified by filenames.  We need to test how various options behave when incorporated into the (new) implementation for images, being introduced with solo images.&lt;/p&gt;

    &lt;p&gt;A &lt;c&gt;tikz&lt;/c&gt; image recycled from above, now 40% width, with 40% left margin, 20% right margin.&lt;/p&gt;

    &lt;image xml:id="tikz-cone-solo" width="40%" margins="40% 20%"&gt;
        &lt;latex-image&gt;
        &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
        \begin{tikzpicture}[join=round]
        \tikzstyle{conefill} = [fill=blue!20,fill opacity=0.8]
        \tikzstyle{ann} = [fill=white,font=\footnotesize,inner sep=1pt]
        \tikzstyle{ghostfill} = [fill=white]
             \tikzstyle{ghostdraw} = [draw=black!50]
        \filldraw[conefill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                            --(-.183,2.067)--cycle;
        \filldraw[conefill](-.183,2.067)--(-.274,.5)--(.775,.424)
                            --(.516,2.016)--cycle;
        \filldraw[conefill](.516,2.016)--(.775,.424)--(1.369,.1)
                            --(.913,1.8)--cycle;
        \filldraw[conefill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                            --(-.775,1.922)--cycle;
        \draw(1.461,.107)--(1.734,.127);
        \draw[arrows=&amp;lt;-&amp;gt;](1.643,1.853)--(1.643,.12);
        \filldraw[conefill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                            --(.775,1.545)--cycle;
        \draw[arrows=-&amp;gt;,line width=.4pt](.274,-.5)--(0,0)--(0,2.86);
        \draw[arrows=-,line width=.4pt](0,0)--(-1.369,-.1);
        \draw[arrows=-&amp;gt;,line width=.4pt](-1.369,-.1)--(-2.1,-.153);
        \filldraw[conefill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                            --(-.913,1.667)--cycle;
        \draw(-1.369,.073)--(-1.369,2.76);
        \draw(1.004,1.807)--(1.734,1.86);
        \filldraw[conefill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                            --(.183,1.4)--cycle;
        \draw[arrows=&amp;lt;-&amp;gt;](0,2.34)--(-.913,2.273);
        \draw(-.913,1.84)--(-.913,2.447);
        \draw[arrows=&amp;lt;-&amp;gt;](0,2.687)--(-1.369,2.587);
        \filldraw[conefill](.183,1.4)--(.274,-.5)--(-.775,-.424)
                            --(-.516,1.45)--cycle;
        \draw[arrows=&amp;lt;-,line width=.4pt](.42,-.767)--(.274,-.5);
        \node[ann] at (-.456,2.307) {$r_0$};
        \node[ann] at (-.685,2.637) {$r_1$};
        \node[ann] at (1.643,.987) {$h$};
        \path (.42,-.767) node[below] {$x$}
            (0,2.86) node[above] {$y$}
            (-2.1,-.153) node[left] {$z$};
        % Second version of the cone
        \begin{scope}[xshift=3.5cm]
        \filldraw[ghostdraw,ghostfill](-.775,1.922)--(-1.162,.283)--(-.274,.5)
                                       --(-.183,2.067)--cycle;
        \filldraw[ghostdraw,ghostfill](-.183,2.067)--(-.274,.5)--(.775,.424)
                                       --(.516,2.016)--cycle;
        \filldraw[ghostdraw,ghostfill](.516,2.016)--(.775,.424)--(1.369,.1)
                                       --(.913,1.8)--cycle;
        \filldraw[ghostdraw,ghostfill](-.913,1.667)--(-1.369,-.1)--(-1.162,.283)
                                       --(-.775,1.922)--cycle;
        \filldraw[ghostdraw,ghostfill](.913,1.8)--(1.369,.1)--(1.162,-.283)
                                       --(.775,1.545)--cycle;
        \filldraw[ghostdraw,ghostfill](-.516,1.45)--(-.775,-.424)--(-1.369,-.1)
                                       --(-.913,1.667)--cycle;
        \filldraw[ghostdraw,ghostfill](.775,1.545)--(1.162,-.283)--(.274,-.5)
                                       --(.183,1.4)--cycle;
        \filldraw[fill=red,fill opacity=0.5](-.516,1.45)--(-.775,-.424)--(.274,-.5)
                                             --(.183,1.4)--cycle;
        \fill(-.775,-.424) circle (2pt);
        \fill(.274,-.5) circle (2pt);
        \fill(-.516,1.45) circle (2pt);
        \fill(.183,1.4) circle (2pt);
        \path[font=\footnotesize]
                (.913,1.8) node[right] {$i\hbox{$=$}0$}
                (1.369,.1) node[right] {$i\hbox{$=$}1$};
        \path[font=\footnotesize]
                (-.645,.513) node[left] {$j$}
                (.228,.45) node[right] {$j\hbox{$+$}1$};
        \draw (-.209,.482)+(-60:.25) [yscale=1.3,-&amp;gt;] arc(-60:240:.25);
        \fill[black,font=\footnotesize]
                        (-.516,1.45) node [above] {$P_{00}$}
                        (-.775,-.424) node [below] {$P_{10}$}
                        (.183,1.4) node [above] {$P_{01}$}
                        (.274,-.5) node [below] {$P_{11}$};
        \end{scope}
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;

    &lt;p&gt;A &lt;c&gt;pgfplot&lt;/c&gt; image recycled from above, now 20% width, with 40% left margin, 40% right margin, and no longer legible.&lt;/p&gt;

    &lt;image xml:id="pgfplots-data-demo-solo" width="20%" margins="40% 40%"&gt;
        &lt;latex-image&gt;
        &lt;!-- CDATA prevents certain LaTeX code from being interpreted as xml --&gt;
        
        \begin{tikzpicture}
        \begin{axis}[
            xmin=0,xmax=100,ymin=-20,ymax=100,
            ytick={-20,0,...,100},
            xlabel={time (ms)},
            ylabel={potential (V)},
        ]
        \addplot[blue] table {data/dataplot/hodgkin-huxley-data.dat};
        \end{axis}
        \end{tikzpicture}
        &lt;/latex-image&gt;
    &lt;/image&gt;


    &lt;p&gt;An Asymptote image, with zero layout control, so 100% width.&lt;/p&gt;

    &lt;image xml:id="asymptote-lever-solo"&gt;
        &lt;shortdescription&gt;moments on a lever&lt;/shortdescription&gt;
        &lt;asymptote&gt;
        // The next comment was seen in the wild, and the angle brackets
        // are non-ASCII Unicode characters, which was disrupting communication
        // with the Asymptote server, so we include the comment here for testing.
        // The actual comment is immaterial for the lever diagram.
        //
        // The path is an elliptical helix ⟨ cos t, 2sin t, t/pi ⟩.
        //
        size(200,0);

        pair z0=(0,0);
        pair z1=(2,0);
        pair z2=(5,0);
        pair zf=z1+0.75*(z2-z1);

        draw(z1--z2);
        dot(z1,red+0.15cm);
        dot(z2,darkgreen+0.3cm);
        label("$m$",z1,1.2N,red);
        label("$M$",z2,1.5N,darkgreen);
        label("$\hat{\ }$",zf,0.2*S,fontsize(24pt)+blue);

        pair s=-0.2*I;
        draw("$x$",z0+s--z1+s,N,red,Arrows,Bars,PenMargins);

        s=-0.5*I;
        draw("$\bar{x}$",z0+s--zf+s,blue,Arrows,Bars,PenMargins);

        s=-0.95*I;
        draw("$X$",z0+s--z2+s,darkgreen,Arrows,Bars,PenMargins);
        &lt;/asymptote&gt;
    &lt;/image&gt;

    &lt;p&gt;A Sage example, pushed to the right margin.&lt;/p&gt;

    &lt;image xml:id="sageplot-parabola-solo" width="30%" margins="70% 0%"&gt;
        &lt;shortdescription&gt;a standard parabola on the interval [-2,4]&lt;/shortdescription&gt;
        &lt;sageplot&gt;
        f(x) = x^2
        plot(f, (x, -2, 4), color='green', thickness=3)
        &lt;/sageplot&gt;
    &lt;/image&gt;
&lt;/paragraphs&gt;
</code></pre></article></details><div class="para" id="captionless-images-14-2">All the images above are specified by filenames.  We need to test how various options behave when incorporated into the (new) implementation for images, being introduced with solo images.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-14-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="para" id="captionless-images-14-3">A <code class="code-inline tex2jax_ignore">tikz</code> image recycled from above, now 40% width, with 40% left margin, 20% right margin.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-14-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 40%; margin-left: 40%; margin-right: 20%;"><img src="generated/latex-image/tikz-cone-solo.svg" role="img" class="contained"></div>
<div class="para" id="captionless-images-14-5">A <code class="code-inline tex2jax_ignore">pgfplot</code> image recycled from above, now 20% width, with 40% left margin, 40% right margin, and no longer legible.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-14-5" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 20%; margin-left: 40%; margin-right: 40%;"><img src="generated/latex-image/pgfplots-data-demo-solo.svg" role="img" class="contained"></div>
<div class="para" id="captionless-images-14-7">An Asymptote image, with zero layout control, so 100% width.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-14-7" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 100%; margin-left: 0%; margin-right: 0%;">
<div class="asymptote-box" style="padding-top: 32.39862%"><iframe src="generated/asymptote/asymptote-lever-solo.html" class="asymptote"></iframe></div>
<div style="text-align: center;"><a href="https://pretextbook.org/examples/sample-article/html/generated/asymptote/asymptote-lever-solo.html">Link to full-sized image</a></div>
</div>
<div class="para" id="captionless-images-14-9">A Sage example, pushed to the right margin.<div class="autopermalink" data-description="Paragraph"><a href="#captionless-images-14-9" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="image-box" style="width: 30%; margin-left: 70%; margin-right: 0%;"><img src="generated/sageplot/sageplot-parabola-solo.svg" role="img" class="contained" alt="a standard parabola on the interval [-2,4]"></div>
<div class="autopermalink" data-description="Paragraphs: Testing (2019-06-02)"><a href="#captionless-images-14" title="Copy heading and permalink for Paragraphs: Testing (2019-06-02)">🔗</a></div></section><div class="autopermalink" data-description="Subsection 10.11: Captionless Images"><a href="#captionless-images" title="Copy heading and permalink for Subsection 10.11: Captionless Images">🔗</a></div></section><section class="subsection" id="section-graphics-14"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.12</span><span class="space"> </span><span class="title">Technical Details</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Technical Details&lt;/title&gt;

    &lt;p&gt;The table below is a summary of how graphics and images are specified, constructed and manipulated.  Additional processing is indicated by reference to the Python script &lt;c&gt;pretext&lt;/c&gt;.  Images need to be placed relative to the &lt;latex/&gt; file that includes them during compilation, and placed relative to the &lt;init&gt;HTML&lt;/init&gt; files which reference/include them.  Author-provided image files may be placed in any subdirectory, and the &lt;c&gt;@source&lt;/c&gt; attribute should include the complete relative path with the subdirectory.  Files generated by the &lt;c&gt;pretext&lt;/c&gt; script will be specified in the output using the relative directory &lt;c&gt;images&lt;/c&gt;, which can be changed.  There is no reason author-provided files cannot also be placed in this same directory (presuming no duplicate names). [This table is presently more readable in HTML, the PDF version will improve.]&lt;/p&gt;

    &lt;tabular top="medium" bottom="minor"&gt;
        &lt;row bottom="medium"&gt;
            &lt;cell&gt;Element&lt;/cell&gt;
            &lt;cell&gt;Specification&lt;/cell&gt;
            &lt;cell&gt;&lt;latex/&gt;/Print&lt;/cell&gt;
            &lt;cell&gt;HTML&lt;/cell&gt;
            &lt;cell&gt;Notes&lt;/cell&gt;
        &lt;/row&gt;

        &lt;row&gt;
            &lt;cell&gt;&lt;c&gt;image/@source&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;full relative path, w/ extension&lt;/cell&gt;
            &lt;cell&gt;directly included&lt;/cell&gt;
            &lt;cell&gt;directly included&lt;/cell&gt;
            &lt;cell&gt;author-provided &lt;init&gt;PNG&lt;/init&gt;, &lt;init&gt;JPEG&lt;/init&gt;&lt;/cell&gt;
        &lt;/row&gt;

        &lt;row&gt;
            &lt;cell&gt;&lt;c&gt;image/@source&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;full relative path, w/o extension&lt;/cell&gt;
            &lt;cell&gt;presumes &lt;init&gt;PDF&lt;/init&gt;&lt;/cell&gt;
            &lt;cell&gt;presumes &lt;init&gt;SVG&lt;/init&gt;&lt;/cell&gt;
            &lt;cell&gt;author-provided&lt;/cell&gt;
        &lt;/row&gt;

        &lt;row&gt;
            &lt;cell&gt;&lt;c&gt;image/latex-image-code&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;&lt;latex/&gt;-compatible source&lt;/cell&gt;
            &lt;cell&gt;directly included&lt;/cell&gt;
            &lt;cell&gt;&lt;init&gt;SVG&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;&lt;eg/&gt; tikz, pgfplots, xypic&lt;/cell&gt;
        &lt;/row&gt;

        &lt;row&gt;
            &lt;cell&gt;&lt;c&gt;image/sageplot&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;Sage code&lt;/cell&gt;
            &lt;cell&gt;&lt;init&gt;PDF&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;&lt;init&gt;SVG&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;&lt;init&gt;PNG&lt;/init&gt; for 3-D&lt;/cell&gt;
        &lt;/row&gt;

        &lt;row&gt;
            &lt;cell&gt;&lt;c&gt;image/asymptote&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;Asymptote code&lt;/cell&gt;
            &lt;cell&gt;&lt;init&gt;PDF&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
            &lt;cell&gt;&lt;init&gt;SVG&lt;/init&gt; via &lt;c&gt;pretext&lt;/c&gt;&lt;/cell&gt;
            &lt;cell/&gt;
        &lt;/row&gt;
    &lt;/tabular&gt;

    &lt;p&gt;In the early stages of a writing project, it may be best not to track provisional image files built with &lt;c&gt;pretext&lt;/c&gt; under version control, and just regenerate them periodically (see the &lt;c&gt;-r&lt;/c&gt; option for &lt;c&gt;pretext&lt;/c&gt;).  As a project matures, then it makes sense to put stable files under version control for collaborators and others.  In every case, managing graphics files (and other aspects of production), is much more pleasurable with a script (shell, Makefile, etc.)&lt;/p&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-14-2">The table below is a summary of how graphics and images are specified, constructed and manipulated.  Additional processing is indicated by reference to the Python script <code class="code-inline tex2jax_ignore">pretext</code>.  Images need to be placed relative to the <span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span> file that includes them during compilation, and placed relative to the <abbr class="initialism">HTML</abbr> files which reference/include them.  Author-provided image files may be placed in any subdirectory, and the <code class="code-inline tex2jax_ignore">@source</code> attribute should include the complete relative path with the subdirectory.  Files generated by the <code class="code-inline tex2jax_ignore">pretext</code> script will be specified in the output using the relative directory <code class="code-inline tex2jax_ignore">images</code>, which can be changed.  There is no reason author-provided files cannot also be placed in this same directory (presuming no duplicate names). [This table is presently more readable in HTML, the PDF version will improve.]<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-14-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="tabular-box natural-width"><table class="tabular">
<tr>
<td class="l m b2 r0 l0 t2 lines">Element</td>
<td class="l m b2 r0 l0 t2 lines">Specification</td>
<td class="l m b2 r0 l0 t2 lines">
<span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>/Print</td>
<td class="l m b2 r0 l0 t2 lines">HTML</td>
<td class="l m b2 r0 l0 t2 lines">Notes</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/@source</code></td>
<td class="l m b1 r0 l0 t0 lines">full relative path, w/ extension</td>
<td class="l m b1 r0 l0 t0 lines">directly included</td>
<td class="l m b1 r0 l0 t0 lines">directly included</td>
<td class="l m b1 r0 l0 t0 lines">author-provided <abbr class="initialism">PNG</abbr>, <abbr class="initialism">JPEG</abbr>
</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/@source</code></td>
<td class="l m b1 r0 l0 t0 lines">full relative path, w/o extension</td>
<td class="l m b1 r0 l0 t0 lines">presumes <abbr class="initialism">PDF</abbr>
</td>
<td class="l m b1 r0 l0 t0 lines">presumes <abbr class="initialism">SVG</abbr>
</td>
<td class="l m b1 r0 l0 t0 lines">author-provided</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/latex-image-code</code></td>
<td class="l m b1 r0 l0 t0 lines">
<span class="latex-logo">L<span class="A">a</span>T<span class="E">e</span>X</span>-compatible source</td>
<td class="l m b1 r0 l0 t0 lines">directly included</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">SVG</abbr> via <code class="code-inline tex2jax_ignore">pretext</code>
</td>
<td class="l m b1 r0 l0 t0 lines">e.g. tikz, pgfplots, xypic</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/sageplot</code></td>
<td class="l m b1 r0 l0 t0 lines">Sage code</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">PDF</abbr> via <code class="code-inline tex2jax_ignore">pretext</code>
</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">SVG</abbr> via <code class="code-inline tex2jax_ignore">pretext</code>
</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">PNG</abbr> for 3-D</td>
</tr>
<tr>
<td class="l m b1 r0 l0 t0 lines"><code class="code-inline tex2jax_ignore">image/asymptote</code></td>
<td class="l m b1 r0 l0 t0 lines">Asymptote code</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">PDF</abbr> via <code class="code-inline tex2jax_ignore">pretext</code>
</td>
<td class="l m b1 r0 l0 t0 lines">
<abbr class="initialism">SVG</abbr> via <code class="code-inline tex2jax_ignore">pretext</code>
</td>
<td class="l m b1 r0 l0 t0 lines"></td>
</tr>
</table></div>
<div class="para" id="section-graphics-14-4">In the early stages of a writing project, it may be best not to track provisional image files built with <code class="code-inline tex2jax_ignore">pretext</code> under version control, and just regenerate them periodically (see the <code class="code-inline tex2jax_ignore">-r</code> option for <code class="code-inline tex2jax_ignore">pretext</code>).  As a project matures, then it makes sense to put stable files under version control for collaborators and others.  In every case, managing graphics files (and other aspects of production), is much more pleasurable with a script (shell, Makefile, etc.)<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-14-4" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="autopermalink" data-description="Subsection 10.12: Technical Details"><a href="#section-graphics-14" title="Copy heading and permalink for Subsection 10.12: Technical Details">🔗</a></div></section><section class="subsection" id="section-graphics-15"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">10.13</span><span class="space"> </span><span class="title">Accessibility</span>
</h3>
<details class="source-view"><summary class="source-view__link" data-reveal-label="Open" data-close-label="Close">View Source for subsection</summary><article class="view-source-view__content"><pre><code class="language-xml">&lt;subsection&gt;
    &lt;title&gt;Accessibility&lt;/title&gt;
    &lt;p&gt;
        An &lt;tag&gt;image&lt;/tag&gt; should either have a non-empty &lt;tag&gt;description&lt;/tag&gt;,
        a non-empty &lt;tag&gt;shortdescription&lt;/tag&gt;, or set &lt;attr&gt;decorative&lt;/attr&gt; to the
        value &lt;c&gt;yes&lt;/c&gt;. Some of the following images comply, and some do not.  There's
        not really anything to see here visually, this is testing notifications made
        elsewhere.
    &lt;/p&gt;

    &lt;sbsgroup width="20%"&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;No description, no shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"/&gt;
            &lt;p&gt;No description, no shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"/&gt;
        &lt;/sidebyside&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;No description, empty shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"&gt;
                &lt;shortdescription/&gt;
            &lt;/image&gt;
            &lt;p&gt;No description, empty shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"&gt;
                &lt;shortdescription/&gt;
            &lt;/image&gt;
        &lt;/sidebyside&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;No description, too long shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"&gt;
                &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
            &lt;/image&gt;
            &lt;p&gt;No description, too long shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"&gt;
                &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
            &lt;/image&gt;
        &lt;/sidebyside&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;No description, good shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"&gt;
                &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
            &lt;/image&gt;
            &lt;p&gt;No description, good shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"&gt;
                &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
            &lt;/image&gt;
        &lt;/sidebyside&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;Description, no shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
            &lt;p&gt;Description, no shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
        &lt;/sidebyside&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;Description, empty shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"&gt;
                &lt;shortdescription/&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
            &lt;p&gt;Description, empty shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"&gt;
                &lt;shortdescription/&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
        &lt;/sidebyside&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;Description, too long shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"&gt;
                &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
            &lt;p&gt;Description, too long shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"&gt;
                &lt;shortdescription&gt;This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character.&lt;/shortdescription&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
        &lt;/sidebyside&gt;
        &lt;sidebyside&gt;
            &lt;p&gt;Description, good shortdescription, no &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png"&gt;
                &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
            &lt;p&gt;Description, good shortdescription, &lt;attr&gt;decorative&lt;/attr&gt; set to &lt;c&gt;yes&lt;/c&gt;&lt;/p&gt;
            &lt;image source="images/cross-square.png" decorative="yes"&gt;
                &lt;shortdescription&gt;a white square outlined in blue covered by a black X&lt;/shortdescription&gt;
                &lt;description&gt;
                    &lt;p&gt;
                        A white square outlined in blue covered by a black &lt;q&gt;X&lt;/q&gt;.
                    &lt;/p&gt;
                &lt;/description&gt;
            &lt;/image&gt;
        &lt;/sidebyside&gt;
    &lt;/sbsgroup&gt;
&lt;/subsection&gt;
</code></pre></article></details><div class="para" id="section-graphics-15-2">An <code class="code-inline tex2jax_ignore">&lt;image&gt;</code> should either have a non-empty <code class="code-inline tex2jax_ignore">&lt;description&gt;</code>, a non-empty <code class="code-inline tex2jax_ignore">&lt;shortdescription&gt;</code>, or set <code class="code-inline tex2jax_ignore">@decorative</code> to the value <code class="code-inline tex2jax_ignore">yes</code>. Some of the following images comply, and some do not.  There’s not really anything to see here visually, this is testing notifications made elsewhere.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-2" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div>
<div class="sbsgroup">
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-1-1">No description, no shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-1-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained"></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-1-3">No description, no shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-1-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained" alt=""></div>
</div></div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-2-1">No description, empty shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained"></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-2-3">No description, empty shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-2-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained" alt=""></div>
</div></div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-3-1">No description, too long shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-3-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained" alt="This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character."></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-3-3">No description, too long shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-3-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained" alt=""></div>
</div></div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-4-1">No description, good shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-4-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained" alt="a white square outlined in blue covered by a black X"></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-4-3">No description, good shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-4-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;"><img src="external/images/cross-square.png" class="contained" alt=""></div>
</div></div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-5-1">Description, no shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-5-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt="described in detail following the image" aria-describedby="section-graphics-15-3-5-2-description"><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-5-2-description"><div class="para" id="section-graphics-15-3-5-2-1-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-5-2-1-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-5-3">Description, no shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-5-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt=""><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-5-4-description"><div class="para" id="section-graphics-15-3-5-4-1-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-5-4-1-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
</div></div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-6-1">Description, empty shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-6-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt="described in detail following the image" aria-describedby="section-graphics-15-3-6-2-description"><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-6-2-description"><div class="para" id="section-graphics-15-3-6-2-2-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-6-2-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-6-3">Description, empty shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-6-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt=""><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-6-4-description"><div class="para" id="section-graphics-15-3-6-4-2-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-6-4-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
</div></div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-7-1">Description, too long shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-7-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt="This shortdescription is too long because when alt text is longer than 125 characters, some screen readers will cut off reading the alt text after the 125th character."><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-7-2-description"><div class="para" id="section-graphics-15-3-7-2-2-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-7-2-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-7-3">Description, too long shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-7-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt=""><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-7-4-description"><div class="para" id="section-graphics-15-3-7-4-2-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-7-4-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
</div></div>
<div class="sidebyside"><div class="sbsrow" style="margin-left:2.5%;margin-right:2.5%;">
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-8-1">Description, good shortdescription, no <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-8-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt="a white square outlined in blue covered by a black X"><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-8-2-description"><div class="para" id="section-graphics-15-3-8-2-2-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-8-2-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
<div class="sbspanel top" style="width:21.0526315789474%;"><div class="para" id="section-graphics-15-3-8-3">Description, good shortdescription, <code class="code-inline tex2jax_ignore">@decorative</code> set to <code class="code-inline tex2jax_ignore">yes</code><div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-8-3" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div>
<div class="sbspanel top" style="width:21.0526315789474%;">
<img src="external/images/cross-square.png" class="contained" alt=""><details class="image-description" aria-live="polite"><summary title="details"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe88e;</span></summary><div id="section-graphics-15-3-8-4-description"><div class="para" id="section-graphics-15-3-8-4-2-1">A white square outlined in blue covered by a black “X”.<div class="autopermalink" data-description="Paragraph"><a href="#section-graphics-15-3-8-4-2-1" title="Copy heading and permalink for Paragraph">🔗</a></div>
</div></div></details>
</div>
</div></div>
</div>
<div class="autopermalink" data-description="Subsection 10.13: Accessibility"><a href="#section-graphics-15" title="Copy heading and permalink for Subsection 10.13: Accessibility">🔗</a></div></section><div class="autopermalink" data-description="Section 10: Graphics"><a href="#section-graphics" title="Copy heading and permalink for Section 10: Graphics">🔗</a></div></section></div>
<div id="ptx-content-footer" class="ptx-content-footer">
<a class="previous-button button" href="section-text-paragraphs.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Top</span></a><a class="next-button button" href="section-further-reading.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a class="feedback-link" href="http://example.com/not-implemented.html" target="_blank">Feedback</a><a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="338 3000 8772 6866" role="img"><title>PreTeXt logo</title><g style="stroke-width:.025in; stroke:currentColor; fill:none"><polyline points="472,3590 472,9732 " style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png" alt="Runstone Academy logo"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png" alt="MathJax logo"></a>
</div>
<!--Start: StatCounter code--><!--*** DO NOT COPY ANOTHER PROJECT'S MAGIC NUMBERS/ID ***--><!--***        GET YOUR OWN FROM STATCOUNTER           ***--><script>
var sc_project=9664088;
var sc_invisible=1;
var sc_security="6e60c510";
var scJsHost = (("https:" == document.location.protocol) ? "https://secure." : "https://www.");
document.write("<sc"+"ript src='" + scJsHost+ "statcounter.com/counter/counter.js'></"+"script>");
</script><noscript><div class="statcounter"><a title="web analytics" href="https://statcounter.com/" target="_blank"><img class="statcounter" src="https://c.statcounter.com/9664088/0/6e60c510/1/" alt="web analytics"></a></div></noscript>
<!--End: StatCounter code-->
<!--Start: Google Global Site Tag code--><!--*** DO NOT COPY ANOTHER PROJECT'S MAGIC NUMBERS/ID ***--><!--***           GET YOUR OWN FROM GOOGLE             ***-->
<script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-48811660-1"></script><script>  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'UA-48811660-1');
</script><!--End: Google Global Site Tag code--><script>diagcess.Base.init()</script>
</body>
</html>
